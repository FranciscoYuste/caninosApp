var sP=Object.defineProperty,aP=Object.defineProperties;var cP=Object.getOwnPropertyDescriptors;var nu=Object.getOwnPropertySymbols;var qI=Object.prototype.hasOwnProperty,zI=Object.prototype.propertyIsEnumerable;var $I=(n,e,t)=>e in n?sP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})qI.call(e,t)&&$I(n,t,e[t]);if(nu)for(var t of nu(e))zI.call(e,t)&&$I(n,t,e[t]);return n},ne=(n,e)=>aP(n,cP(e));var HI=(n,e)=>{var t={};for(var r in n)qI.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&nu)for(var r of nu(n))e.indexOf(r)<0&&zI.call(n,r)&&(t[r]=n[r]);return t};var R=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(u){i(u)}},s=l=>{try{a(t.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});function GI(n,e){return Object.is(n,e)}var ft=null,ru=!1,iu=1,Rr=Symbol("SIGNAL");function Pe(n){let e=ft;return ft=n,e}function WI(){return ft}var qa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Up(n){if(ru)throw new Error("");if(ft===null)return;ft.consumerOnSignalRead(n);let e=ft.nextProducerIndex++;if(cu(ft),e<ft.producerNode.length&&ft.producerNode[e]!==n&&$a(ft)){let t=ft.producerNode[e];au(t,ft.producerIndexOfThis[e])}ft.producerNode[e]!==n&&(ft.producerNode[e]=n,ft.producerIndexOfThis[e]=$a(ft)?JI(n,ft,e):0),ft.producerLastReadVersion[e]=n.version}function lP(){iu++}function KI(n){if(!($a(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===iu)){if(!n.producerMustRecompute(n)&&!$p(n)){n.dirty=!1,n.lastCleanEpoch=iu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=iu}}function QI(n){if(n.liveConsumerNode===void 0)return;let e=ru;ru=!0;try{for(let t of n.liveConsumerNode)t.dirty||uP(t)}finally{ru=e}}function YI(){return ft?.consumerAllowSignalWrites!==!1}function uP(n){n.dirty=!0,QI(n),n.consumerMarkedDirty?.(n)}function su(n){return n&&(n.nextProducerIndex=0),Pe(n)}function Bp(n,e){if(Pe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if($a(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)au(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function $p(n){cu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(KI(t),r!==t.version))return!0}return!1}function qp(n){if(cu(n),$a(n))for(let e=0;e<n.producerNode.length;e++)au(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function JI(n,e,t){if(ZI(n),n.liveConsumerNode.length===0&&XI(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=JI(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function au(n,e){if(ZI(n),n.liveConsumerNode.length===1&&XI(n))for(let r=0;r<n.producerNode.length;r++)au(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];cu(i),i.producerIndexOfThis[r]=e}}function $a(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function cu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function ZI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function XI(n){return n.producerNode!==void 0}function ew(n){let e=Object.create(dP);e.computation=n;let t=()=>{if(KI(e),Up(e),e.value===ou)throw e.error;return e.value};return t[Rr]=e,t}var Vp=Symbol("UNSET"),jp=Symbol("COMPUTING"),ou=Symbol("ERRORED"),dP=ne(L({},qa),{value:Vp,dirty:!0,error:null,equal:GI,producerMustRecompute(n){return n.value===Vp||n.value===jp},producerRecomputeValue(n){if(n.value===jp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=jp;let t=su(n),r;try{r=n.computation()}catch(i){r=ou,n.error=i}finally{Bp(n,t)}if(e!==Vp&&e!==ou&&r!==ou&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function hP(){throw new Error}var tw=hP;function nw(){tw()}function rw(n){tw=n}var fP=null;function iw(n){let e=Object.create(sw);e.value=n;let t=()=>(Up(e),e.value);return t[Rr]=e,t}function zp(n,e){YI()||nw(),n.equal(n.value,e)||(n.value=e,pP(n))}function ow(n,e){YI()||nw(),zp(n,e(n.value))}var sw=ne(L({},qa),{equal:GI,value:void 0});function pP(n){n.version++,lP(),QI(n),fP?.()}function te(n){return typeof n=="function"}function $o(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var lu=$o(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Bi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ge=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof lu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{aw(o)}catch(s){e=e??[],s instanceof lu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new lu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)aw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Bi(t,e)}remove(e){let{_finalizers:t}=this;t&&Bi(t,e),e instanceof n&&e._removeParent(this)}};Ge.EMPTY=(()=>{let n=new Ge;return n.closed=!0,n})();var Hp=Ge.EMPTY;function uu(n){return n instanceof Ge||n&&"closed"in n&&te(n.remove)&&te(n.add)&&te(n.unsubscribe)}function aw(n){te(n)?n():n.unsubscribe()}var $n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var qo={setTimeout(n,e,...t){let{delegate:r}=qo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=qo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function du(n){qo.setTimeout(()=>{let{onUnhandledError:e}=$n;if(e)e(n);else throw n})}function za(){}var cw=Gp("C",void 0,void 0);function lw(n){return Gp("E",void 0,n)}function uw(n){return Gp("N",n,void 0)}function Gp(n,e,t){return{kind:n,value:e,error:t}}var $i=null;function zo(n){if($n.useDeprecatedSynchronousErrorHandling){let e=!$i;if(e&&($i={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=$i;if($i=null,t)throw r}}else n()}function dw(n){$n.useDeprecatedSynchronousErrorHandling&&$i&&($i.errorThrown=!0,$i.error=n)}var qi=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uu(e)&&e.add(this)):this.destination=vP}static create(e,t,r){return new Ho(e,t,r)}next(e){this.isStopped?Kp(uw(e),this):this._next(e)}error(e){this.isStopped?Kp(lw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Kp(cw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},mP=Function.prototype.bind;function Wp(n,e){return mP.call(n,e)}var Qp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){hu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){hu(r)}else hu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){hu(t)}}},Ho=class extends qi{constructor(e,t,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&$n.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Wp(e.next,o),error:e.error&&Wp(e.error,o),complete:e.complete&&Wp(e.complete,o)}):i=e}this.destination=new Qp(i)}};function hu(n){$n.useDeprecatedSynchronousErrorHandling?dw(n):du(n)}function gP(n){throw n}function Kp(n,e){let{onStoppedNotification:t}=$n;t&&qo.setTimeout(()=>t(n,e))}var vP={closed:!0,next:za,error:gP,complete:za};var Go=typeof Symbol=="function"&&Symbol.observable||"@@observable";function jt(n){return n}function fu(...n){return Yp(n)}function Yp(n){return n.length===0?jt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=_P(t)?t:new Ho(t,r,i);return zo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=hw(r),new r((i,o)=>{let s=new Ho({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Go](){return this}pipe(...t){return Yp(t)(this)}toPromise(t){return t=hw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function hw(n){var e;return(e=n??$n.Promise)!==null&&e!==void 0?e:Promise}function yP(n){return n&&te(n.next)&&te(n.error)&&te(n.complete)}function _P(n){return n&&n instanceof qi||yP(n)&&uu(n)}function Jp(n){return te(n?.lift)}function De(n){return e=>{if(Jp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ve(n,e,t,r,i){return new Zp(n,e,t,r,i)}var Zp=class extends qi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Wo(){return De((n,e)=>{let t=null;n._refCount++;let r=ve(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ko=class extends ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Jp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let t=this.getSubject();e.add(this.source.subscribe(ve(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return Wo()(this)}};var fw=$o(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new pu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new fw}next(t){zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Hp:(this.currentObservers=null,o.push(t),new Ge(()=>{this.currentObservers=null,Bi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new pu(e,t),n})(),pu=class extends _e{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Hp}};var pt=class extends _e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Xp={now(){return(Xp.delegate||Date).now()},delegate:void 0};var mu=class extends Ge{constructor(e,t){super()}schedule(e,t=0){return this}};var Ha={setInterval(n,e,...t){let{delegate:r}=Ha;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ha;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Qo=class extends mu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ha.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ha.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Bi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Yo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Yo.now=Xp.now;var Jo=class extends Yo{constructor(e,t=Yo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Zo=new Jo(Qo),em=Zo;var gu=class extends Qo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var vu=class extends Jo{};var tm=new vu(gu);var Ut=new ue(n=>n.complete());function yu(n){return n&&te(n.schedule)}function nm(n){return n[n.length-1]}function _u(n){return te(nm(n))?n.pop():void 0}function nr(n){return yu(nm(n))?n.pop():void 0}function pw(n,e){return typeof nm(n)=="number"?n.pop():e}function rm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function gw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function mw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zi(n){return this instanceof zi?(this.v=n,this):new zi(n)}function vw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(A){return Promise.resolve(A).then(_,p)}}function a(_,A){r[_]&&(i[_]=function(O){return new Promise(function(k,z){o.push([_,O,k,z])>1||l(_,O)})},A&&(i[_]=A(i[_])))}function l(_,A){try{u(r[_](A))}catch(O){v(o[0][3],O)}}function u(_){_.value instanceof zi?Promise.resolve(_.value.v).then(h,p):v(o[0][2],_)}function h(_){l("next",_)}function p(_){l("throw",_)}function v(_,A){_(A),o.shift(),o.length&&l(o[0][0],o[0][1])}}function yw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof mw=="function"?mw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var Xo=n=>n&&typeof n.length=="number"&&typeof n!="function";function Eu(n){return te(n?.then)}function Iu(n){return te(n[Go])}function wu(n){return Symbol.asyncIterator&&te(n?.[Symbol.asyncIterator])}function bu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function EP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Cu=EP();function Du(n){return te(n?.[Cu])}function Tu(n){return vw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield zi(t.read());if(i)return yield zi(void 0);yield yield zi(r)}}finally{t.releaseLock()}})}function Su(n){return te(n?.getReader)}function Ke(n){if(n instanceof ue)return n;if(n!=null){if(Iu(n))return IP(n);if(Xo(n))return wP(n);if(Eu(n))return bP(n);if(wu(n))return _w(n);if(Du(n))return CP(n);if(Su(n))return DP(n)}throw bu(n)}function IP(n){return new ue(e=>{let t=n[Go]();if(te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function wP(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function bP(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,du)})}function CP(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function _w(n){return new ue(e=>{TP(n,e).catch(t=>e.error(t))})}function DP(n){return _w(Tu(n))}function TP(n,e){var t,r,i,o;return gw(this,void 0,void 0,function*(){try{for(t=yw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Wt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ai(n,e=0){return De((t,r)=>{t.subscribe(ve(r,i=>Wt(r,n,()=>r.next(i),e),()=>Wt(r,n,()=>r.complete(),e),i=>Wt(r,n,()=>r.error(i),e)))})}function ci(n,e=0){return De((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Ew(n,e){return Ke(n).pipe(ci(e),ai(e))}function Iw(n,e){return Ke(n).pipe(ci(e),ai(e))}function ww(n,e){return new ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function bw(n,e){return new ue(t=>{let r;return Wt(t,e,()=>{r=n[Cu](),Wt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Au(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{Wt(t,e,()=>{let r=n[Symbol.asyncIterator]();Wt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Cw(n,e){return Au(Tu(n),e)}function Dw(n,e){if(n!=null){if(Iu(n))return Ew(n,e);if(Xo(n))return ww(n,e);if(Eu(n))return Iw(n,e);if(wu(n))return Au(n,e);if(Du(n))return bw(n,e);if(Su(n))return Cw(n,e)}throw bu(n)}function Ye(n,e){return e?Dw(n,e):Ke(n)}function re(...n){let e=nr(n);return Ye(n,e)}function es(n,e){let t=te(n)?n:()=>n,r=i=>i.error(t());return new ue(e?i=>e.schedule(r,0,i):r)}function Ga(n){return!!n&&(n instanceof ue||te(n.lift)&&te(n.subscribe))}var Mr=$o(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Tw(n){return n instanceof Date&&!isNaN(n)}function pe(n,e){return De((t,r)=>{let i=0;t.subscribe(ve(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:SP}=Array;function AP(n,e){return SP(e)?n(...e):n(e)}function ts(n){return pe(e=>AP(n,e))}var{isArray:xP}=Array,{getPrototypeOf:RP,prototype:MP,keys:PP}=Object;function xu(n){if(n.length===1){let e=n[0];if(xP(e))return{args:e,keys:null};if(NP(e)){let t=PP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function NP(n){return n&&typeof n=="object"&&RP(n)===MP}function Ru(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Mu(...n){let e=nr(n),t=_u(n),{args:r,keys:i}=xu(n);if(r.length===0)return Ye([],e);let o=new ue(OP(r,e,i?s=>Ru(i,s):jt));return t?o.pipe(ts(t)):o}function OP(n,e,t=jt){return r=>{Sw(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Sw(e,()=>{let u=Ye(n[l],e),h=!1;u.subscribe(ve(r,p=>{o[l]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Sw(n,e,t){n?Wt(t,n,e):e()}function Aw(n,e,t,r,i,o,s,a){let l=[],u=0,h=0,p=!1,v=()=>{p&&!l.length&&!u&&e.complete()},_=O=>u<r?A(O):l.push(O),A=O=>{o&&e.next(O),u++;let k=!1;Ke(t(O,h++)).subscribe(ve(e,z=>{i?.(z),o?_(z):e.next(z)},()=>{k=!0},void 0,()=>{if(k)try{for(u--;l.length&&u<r;){let z=l.shift();s?Wt(e,s,()=>A(z)):A(z)}v()}catch(z){e.error(z)}}))};return n.subscribe(ve(e,_,()=>{p=!0,v()})),()=>{a?.()}}function at(n,e,t=1/0){return te(e)?at((r,i)=>pe((o,s)=>e(r,o,i,s))(Ke(n(r,i))),t):(typeof e=="number"&&(t=e),De((r,i)=>Aw(r,i,n,t)))}function Wa(n=1/0){return at(jt,n)}function xw(){return Wa(1)}function ns(...n){return xw()(Ye(n,nr(n)))}function li(n){return new ue(e=>{Ke(n()).subscribe(e)})}function im(...n){let e=_u(n),{args:t,keys:r}=xu(n),i=new ue(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let h=0;h<s;h++){let p=!1;Ke(t[h]).subscribe(ve(o,v=>{p||(p=!0,u--),a[h]=v},()=>l--,void 0,()=>{(!l||!p)&&(u||o.next(r?Ru(r,a):a),o.complete())}))}});return e?i.pipe(ts(e)):i}var kP=["addListener","removeListener"],FP=["addEventListener","removeEventListener"],LP=["on","off"];function Ka(n,e,t,r){if(te(t)&&(r=t,t=void 0),r)return Ka(n,e,t).pipe(ts(r));let[i,o]=UP(n)?FP.map(s=>a=>n[s](e,a,t)):VP(n)?kP.map(Rw(n,e)):jP(n)?LP.map(Rw(n,e)):[];if(!i&&Xo(n))return at(s=>Ka(s,e,t))(Ke(n));if(!i)throw new TypeError("Invalid event target");return new ue(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function Rw(n,e){return t=>r=>n[t](e,r)}function VP(n){return te(n.addListener)&&te(n.removeListener)}function jP(n){return te(n.on)&&te(n.off)}function UP(n){return te(n.addEventListener)&&te(n.removeEventListener)}function Mw(n=0,e,t=em){let r=-1;return e!=null&&(yu(e)?t=e:r=e),new ue(i=>{let o=Tw(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Qa(...n){let e=nr(n),t=pw(n,1/0),r=n;return r.length?r.length===1?Ke(r[0]):Wa(t)(Ye(r,e)):Ut}function Je(n,e){return De((t,r)=>{let i=0;t.subscribe(ve(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Pw(n){return De((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let u=i;i=null,t.next(u)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(ve(t,u=>{r=!0,i=u,o||Ke(n(u)).subscribe(o=ve(t,a,l))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function Pu(n,e=Zo){return Pw(()=>Mw(n,e))}function ui(n){return De((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ve(t,void 0,void 0,s=>{o=Ke(n(s,ui(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Nw(n,e,t,r,i){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(ve(s,h=>{let p=u++;l=a?n(l,h,p):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Hi(n,e){return te(e)?at(n,e,1):at(n,1)}function di(n){return De((e,t)=>{let r=!1;e.subscribe(ve(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Kt(n){return n<=0?()=>Ut:De((e,t)=>{let r=0;e.subscribe(ve(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function om(n){return pe(()=>n)}function Ya(n,e=jt){return n=n??BP,De((t,r)=>{let i,o=!0;t.subscribe(ve(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function BP(n,e){return n===e}function Nu(n=$P){return De((e,t)=>{let r=!1;e.subscribe(ve(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function $P(){return new Mr}function rs(n){return De((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function qn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Je((i,o)=>n(i,o,r)):jt,Kt(1),t?di(e):Nu(()=>new Mr))}function is(n){return n<=0?()=>Ut:De((e,t)=>{let r=[];e.subscribe(ve(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Je((i,o)=>n(i,o,r)):jt,is(1),t?di(e):Nu(()=>new Mr))}function Ou(n,e){return De(Nw(n,e,arguments.length>=2,!0))}function am(n){return Je((e,t)=>n<=t)}function Pr(...n){let e=nr(n);return De((t,r)=>{(e?ns(n,t,e):ns(n,t)).subscribe(r)})}function hn(n,e){return De((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ve(r,l=>{i?.unsubscribe();let u=0,h=o++;Ke(n(l,h)).subscribe(i=ve(r,p=>r.next(e?e(l,p,h,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function hi(n){return De((e,t)=>{Ke(n).subscribe(ve(t,()=>t.complete(),za)),!t.closed&&e.subscribe(t)})}function it(n,e,t){let r=te(n)||e||t?{next:n,error:e,complete:t}:n;return r?De((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ve(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):jt}var _b="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,t){super(Id(e,t)),this.code=e}};function Id(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function ac(n){return{toString:n}.toString()}var ku="__parameters__";function qP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Eb(n,e,t){return ac(()=>{let r=qP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,h){let p=l.hasOwnProperty(ku)?l[ku]:Object.defineProperty(l,ku,{value:[]})[ku];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function We(n){for(let e in n)if(n[e]===We)return e;throw Error("Could not find renamed property on target object.")}function zP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function $t(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map($t).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Ow(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var HP=We({__forward_ref__:We});function qt(n){return n.__forward_ref__=qt,n.toString=function(){return $t(this())},n}function Bt(n){return Ib(n)?n():n}function Ib(n){return typeof n=="function"&&n.hasOwnProperty(HP)&&n.__forward_ref__===qt}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rt(n){return{providers:n.providers||[],imports:n.imports||[]}}function wd(n){return kw(n,bb)||kw(n,Cb)}function wb(n){return wd(n)!==null}function kw(n,e){return n.hasOwnProperty(e)?n[e]:null}function GP(n){let e=n&&(n[bb]||n[Cb]);return e||null}function Fw(n){return n&&(n.hasOwnProperty(Lw)||n.hasOwnProperty(WP))?n[Lw]:null}var bb=We({\u0275prov:We}),Lw=We({\u0275inj:We}),Cb=We({ngInjectableDef:We}),WP=We({ngInjectorDef:We}),H=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Db(n){return n&&!!n.\u0275providers}var KP=We({\u0275cmp:We}),QP=We({\u0275dir:We}),YP=We({\u0275pipe:We}),JP=We({\u0275mod:We}),Wu=We({\u0275fac:We}),Za=We({__NG_ELEMENT_ID__:We}),Vw=We({__NG_ENV_ID__:We});function Nr(n){return typeof n=="string"?n:n==null?"":String(n)}function ZP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Nr(n)}function XP(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Q(-200,n)}function bg(n,e){throw new Q(-201,!1)}var we=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(we||{}),bm;function Tb(){return bm}function Qt(n){let e=bm;return bm=n,e}function Sb(n,e,t){let r=wd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&we.Optional)return null;if(e!==void 0)return e;bg(n,"Injector")}var eN={},Xa=eN,Cm="__NG_DI_FLAG__",Ku="ngTempTokenPath",tN="ngTokenPath",nN=/\n/gm,rN="\u0275",jw="__source",us;function iN(){return us}function fi(n){let e=us;return us=n,e}function oN(n,e=we.Default){if(us===void 0)throw new Q(-203,!1);return us===null?Sb(n,void 0,e):us.get(n,e&we.Optional?null:void 0,e)}function F(n,e=we.Default){return(Tb()||oN)(Bt(n),e)}function V(n,e=we.Default){return F(n,bd(e))}function bd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Dm(n){let e=[];for(let t=0;t<n.length;t++){let r=Bt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,o=we.Default;for(let s=0;s<r.length;s++){let a=r[s],l=sN(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(F(i,o))}else e.push(F(r))}return e}function Ab(n,e){return n[Cm]=e,n.prototype[Cm]=e,n}function sN(n){return n[Cm]}function aN(n,e,t,r){let i=n[Ku];throw e[jw]&&i.unshift(e[jw]),n.message=cN(`
`+n.message,i,t,r),n[tN]=i,n[Ku]=null,n}function cN(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==rN?n.slice(2):n;let i=$t(e);if(Array.isArray(e))i=e.map($t).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):$t(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(nN,`
  `)}`}var An=Ab(Eb("Optional"),8);var Cg=Ab(Eb("SkipSelf"),4);function Wi(n,e){let t=n.hasOwnProperty(Wu);return t?n[Wu]:null}function lN(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function uN(n){return n.flat(Number.POSITIVE_INFINITY)}function Dg(n,e){n.forEach(t=>Array.isArray(t)?Dg(t,e):e(t))}function xb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Qu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function dN(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function hN(n,e,t){let r=cc(n,e);return r>=0?n[r|1]=t:(r=~r,dN(n,r,e,t)),r}function cm(n,e){let t=cc(n,e);if(t>=0)return n[t|1]}function cc(n,e){return fN(n,e,1)}function fN(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var hs={},fn=[],Ki=new H(""),Rb=new H("",-1),Mb=new H(""),Yu=class{get(e,t=Xa){if(t===Xa){let r=new Error(`NullInjectorError: No provider for ${$t(e)}!`);throw r.name="NullInjectorError",r}return t}},Pb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Pb||{}),or=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(or||{}),mi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(mi||{});function pN(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Tm(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];gN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function mN(n){return n===3||n===4||n===6}function gN(n){return n.charCodeAt(0)===64}function ec(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Uw(n,t,i,null,e[++r]):Uw(n,t,i,null,null))}}return n}function Uw(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var Nb="ng-template";function vN(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&pN(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Tg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Tg(n){return n.type===4&&n.value!==Nb}function yN(n,e,t){let r=n.type===4&&!t?Nb:n.value;return e===r}function _N(n,e,t){let r=4,i=n.attrs,o=i!==null?wN(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!zn(r)&&!zn(l))return!1;if(s&&zn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!yN(n,l,t)||l===""&&e.length===1){if(zn(r))return!1;s=!0}}else if(r&8){if(i===null||!vN(n,i,l,t)){if(zn(r))return!1;s=!0}}else{let u=e[++a],h=EN(l,i,Tg(n),t);if(h===-1){if(zn(r))return!1;s=!0;continue}if(u!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&u!==p){if(zn(r))return!1;s=!0}}}}return zn(r)||s}function zn(n){return(n&1)===0}function EN(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return bN(e,n)}function IN(n,e,t=!1){for(let r=0;r<e.length;r++)if(_N(n,e[r],t))return!0;return!1}function wN(n){for(let e=0;e<n.length;e++){let t=n[e];if(mN(t))return e}return n.length}function bN(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Bw(n,e){return n?":not("+e.trim()+")":e}function CN(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!zn(s)&&(e+=Bw(o,i),i=""),r=s,o=o||!zn(r);t++}return i!==""&&(e+=Bw(o,i)),e}function DN(n){return n.map(CN).join(",")}function TN(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!zn(i))break;i=o}r++}return{attrs:e,classes:t}}function be(n){return ac(()=>{let e=jb(n),t=ne(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Pb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||or.Emulated,styles:n.styles||fn,_:null,schemas:n.schemas||null,tView:null,id:""});Ub(t);let r=n.dependencies;return t.directiveDefs=qw(r,!1),t.pipeDefs=qw(r,!0),t.id=xN(t),t})}function SN(n){return Qi(n)||kb(n)}function AN(n){return n!==null}function Mt(n){return ac(()=>({type:n.type,bootstrap:n.bootstrap||fn,declarations:n.declarations||fn,imports:n.imports||fn,exports:n.exports||fn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function $w(n,e){if(n==null)return hs;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=mi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==mi.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Re(n){return ac(()=>{let e=jb(n);return Ub(e),e})}function Ob(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Qi(n){return n[KP]||null}function kb(n){return n[QP]||null}function Fb(n){return n[YP]||null}function Lb(n){let e=Qi(n)||kb(n)||Fb(n);return e!==null?e.standalone:!1}function Vb(n,e){let t=n[JP]||null;if(!t&&e===!0)throw new Error(`Type ${$t(n)} does not have '\u0275mod' property.`);return t}function jb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||hs,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||fn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$w(n.inputs,e),outputs:$w(n.outputs),debugInfo:null}}function Ub(n){n.features?.forEach(e=>e(n))}function qw(n,e){if(!n)return null;let t=e?Fb:SN;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(AN)}function xN(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Qn(n){return{\u0275providers:n}}function RN(...n){return{\u0275providers:Bb(!0,n),\u0275fromNgModule:!0}}function Bb(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Dg(e,s=>{let a=s;Sm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&$b(i,o),t}function $b(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Sg(i,o=>{e(o,r)})}}function Sm(n,e,t,r){if(n=Bt(n),!n)return!1;let i=null,o=Fw(n),s=!o&&Qi(n);if(!o&&!s){let l=n.ngModule;if(o=Fw(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Sm(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Dg(o.imports,h=>{Sm(h,e,t,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&$b(u,e)}if(!a){let u=Wi(i)||(()=>new i);e({provide:i,useFactory:u,deps:fn},i),e({provide:Mb,useValue:i,multi:!0},i),e({provide:Ki,useValue:()=>F(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;Sg(l,h=>{e(h,u)})}}else return!1;return i!==n&&n.providers!==void 0}function Sg(n,e){for(let t of n)Db(t)&&(t=t.\u0275providers),Array.isArray(t)?Sg(t,e):e(t)}var MN=We({provide:String,useValue:We});function qb(n){return n!==null&&typeof n=="object"&&MN in n}function PN(n){return!!(n&&n.useExisting)}function NN(n){return!!(n&&n.useFactory)}function fs(n){return typeof n=="function"}function ON(n){return!!n.useClass}var Cd=new H(""),Bu={},kN={},lm;function Ag(){return lm===void 0&&(lm=new Yu),lm}var Jt=class{},tc=class extends Jt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xm(e,s=>this.processProvider(s)),this.records.set(Rb,os(void 0,this)),i.has("environment")&&this.records.set(Jt,os(void 0,this));let o=this.records.get(Cd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Mb,fn,we.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=fi(this),r=Qt(void 0),i;try{return e()}finally{fi(t),Qt(r)}}get(e,t=Xa,r=we.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Vw))return e[Vw](this);r=bd(r);let i,o=fi(this),s=Qt(void 0);try{if(!(r&we.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=UN(e)&&wd(e);u&&this.injectableDefInScope(u)?l=os(Am(e),Bu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&we.Self?Ag():this.parent;return t=r&we.Optional&&t===Xa?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Ku]=a[Ku]||[]).unshift($t(e)),o)throw a;return aN(a,e,"R3InjectorError",this.source)}else throw a}finally{Qt(s),fi(o)}}resolveInjectorInitializers(){let e=Pe(null),t=fi(this),r=Qt(void 0),i;try{let o=this.get(Ki,fn,we.Self);for(let s of o)s()}finally{fi(t),Qt(r),Pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push($t(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=Bt(e);let t=fs(e)?e:Bt(e&&e.provide),r=LN(e);if(!fs(e)&&e.multi===!0){let i=this.records.get(t);i||(i=os(void 0,Bu,!0),i.factory=()=>Dm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Pe(null);try{return t.value===Bu&&(t.value=kN,t.value=t.factory()),typeof t.value=="object"&&t.value&&jN(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Bt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Am(n){let e=wd(n),t=e!==null?e.factory:Wi(n);if(t!==null)return t;if(n instanceof H)throw new Q(204,!1);if(n instanceof Function)return FN(n);throw new Q(204,!1)}function FN(n){if(n.length>0)throw new Q(204,!1);let t=GP(n);return t!==null?()=>t.factory(n):()=>new n}function LN(n){if(qb(n))return os(void 0,n.useValue);{let e=zb(n);return os(e,Bu)}}function zb(n,e,t){let r;if(fs(n)){let i=Bt(n);return Wi(i)||Am(i)}else if(qb(n))r=()=>Bt(n.useValue);else if(NN(n))r=()=>n.useFactory(...Dm(n.deps||[]));else if(PN(n))r=()=>F(Bt(n.useExisting));else{let i=Bt(n&&(n.useClass||n.provide));if(VN(n))r=()=>new i(...Dm(n.deps));else return Wi(i)||Am(i)}return r}function os(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function VN(n){return!!n.deps}function jN(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function UN(n){return typeof n=="function"||typeof n=="object"&&n instanceof H}function xm(n,e){for(let t of n)Array.isArray(t)?xm(t,e):t&&Db(t)?xm(t.\u0275providers,e):e(t)}function ur(n,e){n instanceof tc&&n.assertNotDestroyed();let t,r=fi(n),i=Qt(void 0);try{return e()}finally{fi(r),Qt(i)}}function Hb(){return Tb()!==void 0||iN()!=null}function Gb(n){if(!Hb())throw new Q(-203,!1)}function BN(n){return typeof n=="function"}var pn=0,de=1,se=2,It=3,Hn=4,Yn=5,sr=6,Ju=7,Wn=8,ps=9,ar=10,Ze=11,nc=12,zw=13,_s=14,Tn=15,Yi=16,ss=17,Or=18,Dd=19,Wb=20,pi=21,um=22,Dn=23,xt=25,Kb=1,rc=6,kr=7,Zu=8,ms=9,Yt=10,Xu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Xu||{});function Gn(n){return Array.isArray(n)&&typeof n[Kb]=="object"}function dr(n){return Array.isArray(n)&&n[Kb]===!0}function Qb(n){return(n.flags&4)!==0}function lc(n){return n.componentOffset>-1}function xg(n){return(n.flags&1)===1}function gi(n){return!!n.template}function ed(n){return(n[se]&512)!==0}var Rm=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Yb(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function mn(){return Jb}function Jb(n){return n.type.prototype.ngOnChanges&&(n.setInput=qN),$N}mn.ngInherit=!0;function $N(){let n=Xb(this),e=n?.current;if(e){let t=n.previous;if(t===hs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function qN(n,e,t,r,i){let o=this.declaredInputs[r],s=Xb(n)||zN(n,{previous:hs,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Rm(u&&u.currentValue,t,l===hs),Yb(n,e,i,t)}var Zb="__ngSimpleChanges__";function Xb(n){return n[Zb]||null}function zN(n,e){return n[Zb]=e}var Hw=null;var rr=function(n,e,t){Hw?.(n,e,t)},HN="svg",GN="math";function Kn(n){for(;Array.isArray(n);)n=n[pn];return n}function eC(n,e){return Kn(e[n])}function gn(n,e){return Kn(e[n.index])}function tC(n,e){return n.data[e]}function WN(n,e){return n[e]}function yi(n,e){let t=e[n];return Gn(t)?t:t[pn]}function KN(n){return(n[se]&4)===4}function Rg(n){return(n[se]&128)===128}function QN(n){return dr(n[It])}function td(n,e){return e==null?null:n[e]}function nC(n){n[ss]=0}function rC(n){n[se]&1024||(n[se]|=1024,Rg(n)&&Sd(n))}function YN(n,e){for(;n>0;)e=e[_s],n--;return e}function Td(n){return!!(n[se]&9216||n[Dn]?.dirty)}function Mm(n){n[ar].changeDetectionScheduler?.notify(8),n[se]&64&&(n[se]|=1024),Td(n)&&Sd(n)}function Sd(n){n[ar].changeDetectionScheduler?.notify(0);let e=Ji(n);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!Rg(e)));)e=Ji(e)}function iC(n,e){if((n[se]&256)===256)throw new Q(911,!1);n[pi]===null&&(n[pi]=[]),n[pi].push(e)}function JN(n,e){if(n[pi]===null)return;let t=n[pi].indexOf(e);t!==-1&&n[pi].splice(t,1)}function Ji(n){let e=n[It];return dr(e)?e[It]:e}var Ee={lFrame:pC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var oC=!1;function ZN(){return Ee.lFrame.elementDepthCount}function XN(){Ee.lFrame.elementDepthCount++}function eO(){Ee.lFrame.elementDepthCount--}function sC(){return Ee.bindingsEnabled}function uc(){return Ee.skipHydrationRootTNode!==null}function tO(n){return Ee.skipHydrationRootTNode===n}function nO(n){Ee.skipHydrationRootTNode=n}function rO(){Ee.skipHydrationRootTNode=null}function Ne(){return Ee.lFrame.lView}function wt(){return Ee.lFrame.tView}function Zt(n){return Ee.lFrame.contextLView=n,n[Wn]}function Xt(n){return Ee.lFrame.contextLView=null,n}function en(){let n=aC();for(;n!==null&&n.type===64;)n=n.parent;return n}function aC(){return Ee.lFrame.currentTNode}function iO(){let n=Ee.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function dc(n,e){let t=Ee.lFrame;t.currentTNode=n,t.isParent=e}function cC(){return Ee.lFrame.isParent}function oO(){Ee.lFrame.isParent=!1}function lC(){return oC}function Gw(n){oC=n}function sO(){let n=Ee.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function uC(){return Ee.lFrame.bindingIndex}function aO(n){return Ee.lFrame.bindingIndex=n}function hc(){return Ee.lFrame.bindingIndex++}function Mg(n){let e=Ee.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function cO(){return Ee.lFrame.inI18n}function lO(n,e){let t=Ee.lFrame;t.bindingIndex=t.bindingRootIndex=n,Pm(e)}function uO(){return Ee.lFrame.currentDirectiveIndex}function Pm(n){Ee.lFrame.currentDirectiveIndex=n}function dO(n){let e=Ee.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function dC(){return Ee.lFrame.currentQueryIndex}function Pg(n){Ee.lFrame.currentQueryIndex=n}function hO(n){let e=n[de];return e.type===2?e.declTNode:e.type===1?n[Yn]:null}function hC(n,e,t){if(t&we.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&we.Host);)if(i=hO(o),i===null||(o=o[_s],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ee.lFrame=fC();return r.currentTNode=e,r.lView=n,!0}function Ng(n){let e=fC(),t=n[de];Ee.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function fC(){let n=Ee.lFrame,e=n===null?null:n.child;return e===null?pC(n):e}function pC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function mC(){let n=Ee.lFrame;return Ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var gC=mC;function Og(){let n=mC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function fO(n){return(Ee.lFrame.contextLView=YN(n,Ee.lFrame.contextLView))[Wn]}function _i(){return Ee.lFrame.selectedIndex}function Zi(n){Ee.lFrame.selectedIndex=n}function Ad(){let n=Ee.lFrame;return tC(n.tView,n.selectedIndex)}function vC(){return Ee.lFrame.currentNamespace}var yC=!0;function kg(){return yC}function Ei(n){yC=n}function pO(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Jb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Fg(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function $u(n,e,t){_C(n,e,3,t)}function qu(n,e,t,r){(n[se]&3)===t&&_C(n,e,t,r)}function dm(n,e){let t=n[se];(t&3)===e&&(t&=16383,t+=1,n[se]=t)}function _C(n,e,t,r){let i=r!==void 0?n[ss]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[ss]+=65536),(a<o||o==-1)&&(mO(n,t,e,l),n[ss]=(n[ss]&4294901760)+l+2),l++}function Ww(n,e){rr(4,n,e);let t=Pe(null);try{e.call(n)}finally{Pe(t),rr(5,n,e)}}function mO(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[se]>>14<n[ss]>>16&&(n[se]&3)===e&&(n[se]+=16384,Ww(a,o)):Ww(a,o)}var ds=-1,Xi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function gO(n){return n instanceof Xi}function vO(n){return(n.flags&8)!==0}function yO(n){return(n.flags&16)!==0}var hm={},Nm=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=bd(r);let i=this.injector.get(e,hm,r);return i!==hm||t===hm?i:this.parentInjector.get(e,t,r)}};function EC(n){return n!==ds}function nd(n){return n&32767}function _O(n){return n>>16}function rd(n,e){let t=_O(n),r=e;for(;t>0;)r=r[_s],t--;return r}var Om=!0;function id(n){let e=Om;return Om=n,e}var EO=256,IC=EO-1,wC=5,IO=0,ir={};function wO(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Za)&&(r=t[Za]),r==null&&(r=t[Za]=IO++);let i=r&IC,o=1<<i;e.data[n+(i>>wC)]|=o}function od(n,e){let t=bC(n,e);if(t!==-1)return t;let r=e[de];r.firstCreatePass&&(n.injectorIndex=e.length,fm(r.data,n),fm(e,null),fm(r.blueprint,null));let i=Lg(n,e),o=n.injectorIndex;if(EC(i)){let s=nd(i),a=rd(i,e),l=a[de].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function fm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function bC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Lg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=AC(i),r===null)return ds;if(t++,i=i[_s],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ds}function km(n,e,t){wO(n,e,t)}function CC(n,e,t){if(t&we.Optional||n!==void 0)return n;bg(e,"NodeInjector")}function DC(n,e,t,r){if(t&we.Optional&&r===void 0&&(r=null),!(t&(we.Self|we.Host))){let i=n[ps],o=Qt(void 0);try{return i?i.get(e,r,t&we.Optional):Sb(e,r,t&we.Optional)}finally{Qt(o)}}return CC(r,e,t)}function TC(n,e,t,r=we.Default,i){if(n!==null){if(e[se]&2048&&!(r&we.Self)){let s=TO(n,e,t,r,ir);if(s!==ir)return s}let o=SC(n,e,t,r,ir);if(o!==ir)return o}return DC(e,t,r,i)}function SC(n,e,t,r,i){let o=CO(t);if(typeof o=="function"){if(!hC(e,n,r))return r&we.Host?CC(i,t,r):DC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&we.Optional))bg(t);else return s}finally{gC()}}else if(typeof o=="number"){let s=null,a=bC(n,e),l=ds,u=r&we.Host?e[Tn][Yn]:null;for((a===-1||r&we.SkipSelf)&&(l=a===-1?Lg(n,e):e[a+8],l===ds||!Qw(r,!1)?a=-1:(s=e[de],a=nd(l),e=rd(l,e)));a!==-1;){let h=e[de];if(Kw(o,a,h.data)){let p=bO(a,e,t,s,r,u);if(p!==ir)return p}l=e[a+8],l!==ds&&Qw(r,e[de].data[a+8]===u)&&Kw(o,a,e)?(s=h,a=nd(l),e=rd(l,e)):a=-1}}return i}function bO(n,e,t,r,i,o){let s=e[de],a=s.data[n+8],l=r==null?lc(a)&&Om:r!=s&&(a.type&3)!==0,u=i&we.Host&&o===a,h=zu(a,s,t,l,u);return h!==null?eo(e,s,h,a):ir}function zu(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,h=o>>20,p=r?a:a+h,v=i?a+h:u;for(let _=p;_<v;_++){let A=s[_];if(_<l&&t===A||_>=l&&A.type===t)return _}if(i){let _=s[l];if(_&&gi(_)&&_.type===t)return l}return null}function eo(n,e,t,r){let i=n[t],o=e.data;if(gO(i)){let s=i;s.resolving&&XP(ZP(o[t]));let a=id(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?Qt(s.injectImpl):null,h=hC(n,r,we.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&pO(t,o[t],e)}finally{u!==null&&Qt(u),id(a),s.resolving=!1,gC()}}return i}function CO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Za)?n[Za]:void 0;return typeof e=="number"?e>=0?e&IC:DO:e}function Kw(n,e,t){let r=1<<n;return!!(t[e+(n>>wC)]&r)}function Qw(n,e){return!(n&we.Self)&&!(n&we.Host&&e)}var Gi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return TC(this._tNode,this._lView,e,bd(r),t)}};function DO(){return new Gi(en(),Ne())}function vn(n){return ac(()=>{let e=n.prototype.constructor,t=e[Wu]||Fm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Wu]||Fm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Fm(n){return Ib(n)?()=>{let e=Fm(Bt(n));return e&&e()}:Wi(n)}function TO(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!(s[se]&512);){let a=SC(o,s,t,r|we.Self,ir);if(a!==ir)return a;let l=o.parent;if(!l){let u=s[Wb];if(u){let h=u.get(t,ir,r);if(h!==ir)return h}l=AC(s),s=s[_s]}o=l}return i}function AC(n){let e=n[de],t=e.type;return t===2?e.declTNode:t===1?n[Yn]:null}function Yw(n,e=null,t=null,r){let i=xC(n,e,t,r);return i.resolveInjectorInitializers(),i}function xC(n,e=null,t=null,r,i=new Set){let o=[t||fn,RN(n)];return r=r||(typeof n=="object"?void 0:$t(n)),new tc(o,e||Ag(),r||null,i)}var Ve=class n{static{this.THROW_IF_NOT_FOUND=Xa}static{this.NULL=new Yu}static create(e,t){if(Array.isArray(e))return Yw({name:""},t,e,"");{let r=e.name??"";return Yw({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=q({token:n,providedIn:"any",factory:()=>F(Rb)})}static{this.__NG_ELEMENT_ID__=-1}};var SO=new H("");SO.__NG_ELEMENT_ID__=n=>{let e=en();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(n&we.Optional)return null;throw new Q(204,!1)};var AO="ngOriginalError";function pm(n){return n[AO]}var RC=!0,Vg=(()=>{class n{static{this.__NG_ELEMENT_ID__=xO}static{this.__NG_ENV_ID__=t=>t}}return n})(),Lm=class extends Vg{constructor(e){super(),this._lView=e}onDestroy(e){return iC(this._lView,e),()=>JN(this._lView,e)}};function xO(){return new Lm(Ne())}var io=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Vm=class extends _e{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Hb()&&(this.destroyRef=V(Vg,{optional:!0})??void 0,this.pendingTasks=V(io,{optional:!0})??void 0)}emit(e){let t=Pe(null);try{super.next(e)}finally{Pe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ge&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Fe=Vm;function sd(...n){}function MC(n){let e,t;function r(){n=sd;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Jw(n){return queueMicrotask(()=>n()),()=>{n=sd}}var jg="isAngularZone",ad=jg+"_ID",RO=0,ae=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=RC}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,NO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,MO,sd,sd);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},MO={};function Ug(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function PO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){MC(()=>{n.callbackScheduled=!1,jm(n),n.isCheckStableRunning=!0,Ug(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),jm(n)}function NO(n){let e=()=>{PO(n)},t=RO++;n._inner=n._inner.fork({name:"angular",properties:{[jg]:!0,[ad]:t,[ad+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(OO(l))return r.invokeTask(o,s,a,l);try{return Zw(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Xw(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return Zw(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!kO(l)&&e(),Xw(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,jm(n),Ug(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function jm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Zw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Xw(n){n._nesting--,Ug(n)}var Um=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function OO(n){return PC(n,"__ignore_ng_zone__")}function kO(n){return PC(n,"__scheduler_tick__")}function PC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Fr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&pm(e);for(;t&&pm(t);)t=pm(t);return t||null}},FO=new H("",{providedIn:"root",factory:()=>{let n=V(ae),e=V(Fr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function LO(){return Es(en(),Ne())}function Es(n,e){return new Be(gn(n,e))}var Be=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=LO}}return n})();function VO(n){return n instanceof Be?n.nativeElement:n}function jO(){return this._results[Symbol.iterator]()}var cd=class n{get changes(){return this._changes??=new Fe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=jO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=uN(e);(this._changesDetected=!lN(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},UO="ngSkipHydration",BO="ngskiphydration";function NC(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===BO)return!0}return!1}function OC(n){return n.hasAttribute(UO)}function ld(n){return(n.flags&128)===128}function $O(n){if(ld(n))return!0;let e=n.parent;for(;e;){if(ld(n)||NC(e))return!0;e=e.parent}return!1}var kC=new Map,qO=0;function zO(){return qO++}function HO(n){kC.set(n[Dd],n)}function Bm(n){kC.delete(n[Dd])}var eb="__ngContext__";function to(n,e){Gn(e)?(n[eb]=e[Dd],HO(e)):n[eb]=e}function FC(n){return VC(n[nc])}function LC(n){return VC(n[Hn])}function VC(n){for(;n!==null&&!dr(n);)n=n[Hn];return n}var $m;function jC(n){$m=n}function xd(){if($m!==void 0)return $m;if(typeof document<"u")return document;throw new Q(210,!1)}var fc=new H("",{providedIn:"root",factory:()=>GO}),GO="ng",Bg=new H(""),tn=new H("",{providedIn:"platform",factory:()=>"unknown"});var pc=new H(""),$g=new H("",{providedIn:"root",factory:()=>xd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function WO(){let n=new Is;return V(tn)==="browser"&&(n.store=KO(xd(),V(fc))),n}var Is=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=q({token:n,providedIn:"root",factory:WO})}get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function KO(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var UC="h",BC="b",qm=function(n){return n.FirstChild="f",n.NextSibling="n",n}(qm||{}),QO="e",YO="t",qg="c",$C="x",ud="r",JO="i",ZO="n",qC="d";var XO="__nghData__",zC=XO,mm="ngh",ek="nghm",HC=()=>null;function tk(n,e,t=!1){let r=n.getAttribute(mm);if(r==null)return null;let[i,o]=r.split("|");if(r=t?o:i,!r)return null;let s=o?`|${o}`:"",a=t?i:s,l={};if(r!==""){let h=e.get(Is,null,{optional:!0});h!==null&&(l=h.get(zC,[])[Number(r)])}let u={data:l,firstChild:n.firstChild??null};return t&&(u.firstChild=n,Rd(u,0,n.nextSibling)),a?n.setAttribute(mm,a):n.removeAttribute(mm),u}function nk(){HC=tk}function zg(n,e,t=!1){return HC(n,e,t)}function rk(n){let e=n._lView;return e[de].type===2?null:(ed(e)&&(e=e[xt]),e)}function ik(n){return n.textContent?.replace(/\s/gm,"")}function ok(n){let e=xd(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=ik(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Rd(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function zm(n,e){return n.segmentHeads?.[e]??null}function sk(n,e){let t=n.data,r=t[QO]?.[e]??null;return r===null&&t[qg]?.[e]&&(r=Hg(n,e)),r}function GC(n,e){return n.data[qg]?.[e]??null}function Hg(n,e){let t=GC(n,e)??[],r=0;for(let i of t)r+=i[ud]*(i[$C]??1);return r}function ak(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[qC];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function mc(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[qC];n.disconnectedNodes=t?new Set(t):null}return!!ak(n)?.has(e)}var Fu=new H(""),WC=!1,KC=new H("",{providedIn:"root",factory:()=>WC});var dd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_b})`}};function Md(n){return n instanceof dd?n.changingThisBreaksApplicationSecurity:n}function QC(n,e){let t=ck(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${_b})`)}return t===e}function ck(n){return n instanceof dd&&n.getTypeName()||null}var lk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function YC(n){return n=String(n),n.match(lk)?n:"unsafe:"+n}var Gg=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Gg||{});function JC(n){let e=uk();return e?e.sanitize(Gg.URL,n)||"":QC(n,"URL")?Md(n):YC(Nr(n))}function uk(){let n=Ne();return n&&n[ar].sanitizer}var dk=/^>|^->|<!--|-->|--!>|<!-$/g,hk=/(<|>)/g,fk="\u200B$1\u200B";function pk(n){return n.replace(dk,e=>e.replace(hk,fk))}function mk(n){return n.ownerDocument.body}function ZC(n){return n instanceof Function?n():n}function as(n){return(n??V(Ve)).get(tn)==="browser"}var Lr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Lr||{}),gk;function Wg(n,e){return gk(n,e)}function cs(n,e,t,r,i){if(r!=null){let o,s=!1;dr(r)?o=r:Gn(r)&&(s=!0,r=r[pn]);let a=Kn(r);n===0&&t!==null?i==null?iD(e,t,a):hd(e,t,a,i||null,!0):n===1&&t!==null?hd(e,t,a,i||null,!0):n===2?Jg(e,a,s):n===3&&e.destroyNode(a),o!=null&&Mk(e,n,o,t,i)}}function XC(n,e){return n.createText(e)}function vk(n,e,t){n.setValue(e,t)}function eD(n,e){return n.createComment(pk(e))}function Kg(n,e,t){return n.createElement(e,t)}function yk(n,e){tD(n,e),e[pn]=null,e[Yn]=null}function _k(n,e,t,r,i,o){r[pn]=i,r[Yn]=e,Pd(n,r,t,1,i,o)}function tD(n,e){e[ar].changeDetectionScheduler?.notify(9),Pd(n,e,e[Ze],2,null,null)}function Ek(n){let e=n[nc];if(!e)return gm(n[de],n);for(;e;){let t=null;if(Gn(e))t=e[nc];else{let r=e[Yt];r&&(t=r)}if(!t){for(;e&&!e[Hn]&&e!==n;)Gn(e)&&gm(e[de],e),e=e[It];e===null&&(e=n),Gn(e)&&gm(e[de],e),t=e&&e[Hn]}e=t}}function Ik(n,e,t,r){let i=Yt+r,o=t.length;r>0&&(t[i-1][Hn]=e),r<o-Yt?(e[Hn]=t[i],xb(t,Yt+r,e)):(t.push(e),e[Hn]=null),e[It]=t;let s=e[Yi];s!==null&&t!==s&&nD(s,e);let a=e[Or];a!==null&&a.insertView(n),Mm(e),e[se]|=128}function nD(n,e){let t=n[ms],r=e[It];if(Gn(r))n[se]|=Xu.HasTransplantedViews;else{let i=r[It][Tn];e[Tn]!==i&&(n[se]|=Xu.HasTransplantedViews)}t===null?n[ms]=[e]:t.push(e)}function Qg(n,e){let t=n[ms],r=t.indexOf(e);t.splice(r,1)}function Hm(n,e){if(n.length<=Yt)return;let t=Yt+e,r=n[t];if(r){let i=r[Yi];i!==null&&i!==n&&Qg(i,r),e>0&&(n[t-1][Hn]=r[Hn]);let o=Qu(n,Yt+e);yk(r[de],r);let s=o[Or];s!==null&&s.detachView(o[de]),r[It]=null,r[Hn]=null,r[se]&=-129}return r}function rD(n,e){if(!(e[se]&256)){let t=e[Ze];t.destroyNode&&Pd(n,e,t,3,null,null),Ek(e)}}function gm(n,e){if(e[se]&256)return;let t=Pe(null);try{e[se]&=-129,e[se]|=256,e[Dn]&&qp(e[Dn]),bk(n,e),wk(n,e),e[de].type===1&&e[Ze].destroy();let r=e[Yi];if(r!==null&&dr(e[It])){r!==e[It]&&Qg(r,e);let i=e[Or];i!==null&&i.detachView(n)}Bm(e)}finally{Pe(t)}}function wk(n,e){let t=n.cleanup,r=e[Ju];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Ju]=null);let i=e[pi];if(i!==null){e[pi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function bk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Xi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];rr(4,a,l);try{l.call(a)}finally{rr(5,a,l)}}else{rr(4,i,o);try{o.call(i)}finally{rr(5,i,o)}}}}}function Ck(n,e,t){return Dk(n,e.parent,t)}function Dk(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[pn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===or.None||o===or.Emulated)return null}return gn(r,t)}}function hd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function iD(n,e,t){n.appendChild(e,t)}function tb(n,e,t,r,i){r!==null?hd(n,e,t,r,i):iD(n,e,t)}function oD(n,e){return n.parentNode(e)}function Tk(n,e){return n.nextSibling(e)}function Sk(n,e,t){return xk(n,e,t)}function Ak(n,e,t){return n.type&40?gn(n,t):null}var xk=Ak,nb;function Yg(n,e,t,r){let i=Ck(n,r,e),o=e[Ze],s=r.parent||e[Yn],a=Sk(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)tb(o,i,t[l],a,!1);else tb(o,i,t,a,!1);nb!==void 0&&nb(o,r,e,t,i)}function Ja(n,e){if(e!==null){let t=e.type;if(t&3)return gn(e,n);if(t&4)return Gm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ja(n,r);{let i=n[e.index];return dr(i)?Gm(-1,i):Kn(i)}}else{if(t&128)return Ja(n,e.next);if(t&32)return Wg(e,n)()||Kn(n[e.index]);{let r=sD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ji(n[Tn]);return Ja(i,r)}else return Ja(n,e.next)}}}return null}function sD(n,e){if(e!==null){let r=n[Tn][Yn],i=e.projection;return r.projection[i]}return null}function Gm(n,e){let t=Yt+n+1;if(t<e.length){let r=e[t],i=r[de].firstChild;if(i!==null)return Ja(r,i)}return e[kr]}function Jg(n,e,t){n.removeChild(null,e,t)}function aD(n){n.textContent=""}function Zg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&to(Kn(a),r),t.flags|=2),(t.flags&32)!==32)if(l&8)Zg(n,e,t.child,r,i,o,!1),cs(e,n,i,a,o);else if(l&32){let u=Wg(t,r),h;for(;h=u();)cs(e,n,i,h,o);cs(e,n,i,a,o)}else l&16?Rk(n,e,r,t,i,o):cs(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Pd(n,e,t,r,i,o){Zg(t,r,n.firstChild,e,i,o,!1)}function Rk(n,e,t,r,i,o){let s=t[Tn],l=s[Yn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];cs(e,n,i,h,o)}else{let u=l,h=s[It];ld(r)&&(u.flags|=128),Zg(n,e,u,h,i,o,!0)}}function Mk(n,e,t,r,i){let o=t[kr],s=Kn(t);o!==s&&cs(e,n,r,o,i);for(let a=Yt;a<t.length;a++){let l=t[a];Pd(l[de],l,n,e,r,o)}}function Pk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Lr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Lr.Important),n.setStyle(t,r,i,o))}}function Nk(n,e,t){n.setAttribute(e,"style",t)}function cD(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function lD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Tm(n,e,r),i!==null&&cD(n,e,i),o!==null&&Nk(n,e,o)}var Jn={};function P(n=1){uD(wt(),Ne(),_i()+n,!1)}function uD(n,e,t,r){if(!r)if((e[se]&3)===3){let o=n.preOrderCheckHooks;o!==null&&$u(e,o,t)}else{let o=n.preOrderHooks;o!==null&&qu(e,o,0,t)}Zi(t)}function N(n,e=we.Default){let t=Ne();if(t===null)return F(n,e);let r=en();return TC(r,t,Bt(n),e)}function dD(n,e,t,r,i,o){let s=Pe(null);try{let a=null;i&mi.SignalBased&&(a=e[r][Rr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&mi.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):Yb(e,a,r,o)}finally{Pe(s)}}function Ok(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Zi(~i);else{let o=i,s=t[++r],a=t[++r];lO(s,o);let l=e[o];a(2,l)}}}finally{Zi(-1)}}function Nd(n,e,t,r,i,o,s,a,l,u,h){let p=e.blueprint.slice();return p[pn]=i,p[se]=r|4|128|8|64,(u!==null||n&&n[se]&2048)&&(p[se]|=2048),nC(p),p[It]=p[_s]=n,p[Wn]=t,p[ar]=s||n&&n[ar],p[Ze]=a||n&&n[Ze],p[ps]=l||n&&n[ps]||null,p[Yn]=o,p[Dd]=zO(),p[sr]=h,p[Wb]=u,p[Tn]=e.type==2?n[Tn]:p,p}function Od(n,e,t,r,i){let o=n.data[e];if(o===null)o=kk(n,e,t,r,i),cO()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=iO();o.injectorIndex=s===null?-1:s.injectorIndex}return dc(o,!0),o}function kk(n,e,t,r,i){let o=aC(),s=cC(),a=s?o:o&&o.parent,l=n.data[e]=$k(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function hD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function fD(n,e,t,r,i){let o=_i(),s=r&2;try{Zi(-1),s&&e.length>xt&&uD(n,e,xt,!1),rr(s?2:0,i),t(r,i)}finally{Zi(o),rr(s?3:1,i)}}function pD(n,e,t){if(Qb(e)){let r=Pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Pe(r)}}}function mD(n,e,t){sC()&&(Kk(n,e,t,gn(t,e)),(t.flags&64)===64&&ID(n,e,t))}function gD(n,e,t=gn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function vD(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Xg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Xg(n,e,t,r,i,o,s,a,l,u,h){let p=xt+r,v=p+i,_=Fk(p,v),A=typeof u=="function"?u():u;return _[de]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:A,incompleteFirstPass:!1,ssrId:h}}function Fk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Jn);return t}function Lk(n,e,t,r){let o=r.get(KC,WC)||t===or.ShadowDom,s=n.selectRootElement(e,o);return Vk(s),s}function Vk(n){yD(n)}var yD=()=>null;function jk(n){OC(n)?aD(n):ok(n)}function Uk(){yD=jk}function Bk(n,e,t,r){let i=CD(e);i.push(t),n.firstCreatePass&&DD(n).push(r,i.length-1)}function $k(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return uc()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function rb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=mi.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}n===0?ib(r,t,u,a,l):ib(r,t,u,a)}return r}function ib(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function qk(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],l=null,u=null;for(let h=r;h<i;h++){let p=o[h],v=t?t.get(p):null,_=v?v.inputs:null,A=v?v.outputs:null;l=rb(0,p.inputs,h,l,_),u=rb(1,p.outputs,h,u,A);let O=l!==null&&s!==null&&!Tg(e)?o1(l,h,s):null;a.push(O)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function zk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function ev(n,e,t,r,i,o,s,a){let l=gn(e,t),u=e.inputs,h;!a&&u!=null&&(h=u[r])?(tv(n,t,h,r,i),lc(e)&&Hk(t,e.index)):e.type&3?(r=zk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function Hk(n,e){let t=yi(e,n);t[se]&16||(t[se]|=64)}function _D(n,e,t,r){if(sC()){let i=r===null?null:{"":-1},o=Yk(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&ED(n,e,t,s,i,a),i&&Jk(t,r,i)}t.mergedAttrs=ec(t.mergedAttrs,t.attrs)}function ED(n,e,t,r,i,o){for(let u=0;u<r.length;u++)km(od(t,e),n,r[u].type);Xk(t,n.data.length,r.length);for(let u=0;u<r.length;u++){let h=r[u];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=hD(n,e,r.length,null);for(let u=0;u<r.length;u++){let h=r[u];t.mergedAttrs=ec(t.mergedAttrs,h.hostAttrs),e1(n,t,e,l,h),Zk(l,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}qk(n,t,o)}function Gk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Wk(s)!=a&&s.push(a),s.push(t,r,o)}}function Wk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Kk(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;lc(t)&&t1(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||od(t,e),to(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let l=n.data[a],u=eo(e,n,a,t);if(to(u,e),s!==null&&i1(e,a-i,u,l,t,s),gi(l)){let h=yi(t.index,e);h[Wn]=eo(e,n,a,t)}}}function ID(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=uO();try{Zi(o);for(let a=r;a<i;a++){let l=n.data[a],u=e[a];Pm(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Qk(l,u)}}finally{Zi(-1),Pm(s)}}function Qk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Yk(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(IN(e,s.selectors,!1))if(r||(r=[]),gi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;Wm(n,e,l)}else r.unshift(s),Wm(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Wm(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Jk(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new Q(-301,!1);r.push(e[i],o)}}}function Zk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;gi(e)&&(t[""]=n)}}function Xk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function e1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Wi(i.type,!0)),s=new Xi(o,gi(i),N);n.blueprint[r]=s,t[r]=s,Gk(n,e,r,hD(n,t,i.hostVars,Jn),i)}function t1(n,e,t){let r=gn(e,n),i=vD(t),o=n[ar].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=kd(n,Nd(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function n1(n,e,t,r,i,o){let s=gn(n,e);r1(e[Ze],s,o,n.value,t,r,i)}function r1(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Nr(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function i1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],h=s[a++],p=s[a++];dD(r,t,l,u,h,p)}}function o1(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function wD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function bD(n,e){let t=n.contentQueries;if(t!==null){let r=Pe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Pg(o),a.contentQueries(2,e[s],s)}}}finally{Pe(r)}}}function kd(n,e){return n[nc]?n[zw][Hn]=e:n[nc]=e,n[zw]=e,e}function Km(n,e,t){Pg(0);let r=Pe(null);try{e(n,t)}finally{Pe(r)}}function CD(n){return n[Ju]??=[]}function DD(n){return n.cleanup??=[]}function TD(n,e){let t=n[ps],r=t?t.get(Fr,null):null;r&&r.handleError(e)}function tv(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],u=e[s],h=n.data[s];dD(h,u,r,a,l,i)}}function nv(n,e,t){let r=eC(e,n);vk(n[Ze],r,t)}function s1(n,e){let t=yi(e,n),r=t[de];a1(r,t);let i=t[pn];i!==null&&t[sr]===null&&(t[sr]=zg(i,t[ps])),rv(r,t,t[Wn])}function a1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function rv(n,e,t){Ng(e);try{let r=n.viewQuery;r!==null&&Km(1,r,t);let i=n.template;i!==null&&fD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Or]?.finishViewCreation(n),n.staticContentQueries&&bD(n,e),n.staticViewQueries&&Km(2,n.viewQuery,t);let o=n.components;o!==null&&c1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[se]&=-5,Og()}}function c1(n,e){for(let t=0;t<e.length;t++)s1(n,e[t])}function l1(n,e,t,r){let i=Pe(null);try{let o=e.tView,a=n[se]&4096?4096:16,l=Nd(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];l[Yi]=u;let h=n[Or];return h!==null&&(l[Or]=h.createEmbeddedView(o)),rv(o,l,t),l}finally{Pe(i)}}function ob(n,e){return!e||e.firstChild===null||ld(n)}function u1(n,e,t,r=!0){let i=e[de];if(Ik(i,e,n,t),r){let s=Gm(t,n),a=e[Ze],l=oD(a,n[kr]);l!==null&&_k(i,n[Yn],a,e,l,s)}let o=e[sr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function fd(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Kn(o)),dr(o)&&d1(o,r);let s=t.type;if(s&8)fd(n,e,t.child,r);else if(s&32){let a=Wg(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=sD(e,t);if(Array.isArray(a))r.push(...a);else{let l=Ji(e[Tn]);fd(l[de],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function d1(n,e){for(let t=Yt;t<n.length;t++){let r=n[t],i=r[de].firstChild;i!==null&&fd(r[de],r,i,e)}n[kr]!==n[pn]&&e.push(n[kr])}var SD=[];function h1(n){return n[Dn]??f1(n)}function f1(n){let e=SD.pop()??Object.create(m1);return e.lView=n,e}function p1(n){n.lView[Dn]!==n&&(n.lView=null,SD.push(n))}var m1=ne(L({},qa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Sd(n.lView)},consumerOnSignalRead(){this.lView[Dn]=this}});function g1(n){let e=n[Dn]??Object.create(v1);return e.lView=n,e}var v1=ne(L({},qa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Ji(n.lView);for(;e&&!AD(e[de]);)e=Ji(e);e&&rC(e)},consumerOnSignalRead(){this.lView[Dn]=this}});function AD(n){return n.type!==2}var y1=100;function xD(n,e=!0,t=0){let r=n[ar],i=r.rendererFactory,o=!1;o||i.begin?.();try{_1(n,t)}catch(s){throw e&&TD(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function _1(n,e){let t=lC();try{Gw(!0),Qm(n,e);let r=0;for(;Td(n);){if(r===y1)throw new Q(103,!1);r++,Qm(n,1)}}finally{Gw(t)}}function E1(n,e,t,r){let i=e[se];if((i&256)===256)return;let o=!1,s=!1;!o&&e[ar].inlineEffectRunner?.flush(),Ng(e);let a=!0,l=null,u=null;o||(AD(n)?(u=h1(e),l=su(u)):WI()===null?(a=!1,u=g1(e),l=su(u)):e[Dn]&&(qp(e[Dn]),e[Dn]=null));try{nC(e),aO(n.bindingStartIndex),t!==null&&fD(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let _=n.preOrderCheckHooks;_!==null&&$u(e,_,null)}else{let _=n.preOrderHooks;_!==null&&qu(e,_,0,null),dm(e,0)}if(s||I1(e),RD(e,0),n.contentQueries!==null&&bD(n,e),!o)if(h){let _=n.contentCheckHooks;_!==null&&$u(e,_)}else{let _=n.contentHooks;_!==null&&qu(e,_,1),dm(e,1)}Ok(n,e);let p=n.components;p!==null&&PD(e,p,0);let v=n.viewQuery;if(v!==null&&Km(2,v,r),!o)if(h){let _=n.viewCheckHooks;_!==null&&$u(e,_)}else{let _=n.viewHooks;_!==null&&qu(e,_,2),dm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[um]){for(let _ of e[um])_();e[um]=null}o||(e[se]&=-73)}catch(h){throw o||Sd(e),h}finally{u!==null&&(Bp(u,l),a&&p1(u)),Og()}}function RD(n,e){for(let t=FC(n);t!==null;t=LC(t))for(let r=Yt;r<t.length;r++){let i=t[r];MD(i,e)}}function I1(n){for(let e=FC(n);e!==null;e=LC(e)){if(!(e[se]&Xu.HasTransplantedViews))continue;let t=e[ms];for(let r=0;r<t.length;r++){let i=t[r];rC(i)}}}function w1(n,e,t){let r=yi(e,n);MD(r,t)}function MD(n,e){Rg(n)&&Qm(n,e)}function Qm(n,e){let r=n[de],i=n[se],o=n[Dn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&$p(o)),s||=!1,o&&(o.dirty=!1),n[se]&=-9217,s)E1(r,n,r.template,n[Wn]);else if(i&8192){RD(n,1);let a=r.components;a!==null&&PD(n,a,1)}}function PD(n,e,t){for(let r=0;r<e.length;r++)w1(n,e[r],t)}function iv(n,e){let t=lC()?64:1088;for(n[ar].changeDetectionScheduler?.notify(e);n;){n[se]|=t;let r=Ji(n);if(ed(n)&&!r)return n;n=r}return null}var no=class{get rootNodes(){let e=this._lView,t=e[de];return fd(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wn]}set context(e){this._lView[Wn]=e}get destroyed(){return(this._lView[se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[It];if(dr(e)){let t=e[Zu],r=t?t.indexOf(this):-1;r>-1&&(Hm(e,r),Qu(t,r))}this._attachedToViewContainer=!1}rD(this._lView[de],this._lView)}onDestroy(e){iC(this._lView,e)}markForCheck(){iv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){Mm(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,xD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ed(this._lView),t=this._lView[Yi];t!==null&&!e&&Qg(t,this._lView),tD(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let t=ed(this._lView),r=this._lView[Yi];r!==null&&!t&&nD(r,this._lView),Mm(this._lView)}},Sn=(()=>{class n{static{this.__NG_ELEMENT_ID__=D1}}return n})(),b1=Sn,C1=class extends b1{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=l1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new no(i)}};function D1(){return ov(en(),Ne())}function ov(n,e){return n.type&4?new C1(e,n,Es(n,e)):null}var T1=new RegExp(`^(\\d+)*(${BC}|${UC})*(.*)`);function S1(n){let e=n.match(T1),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[l,u,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(u,p)}return[s,...a]}function A1(n){return!n.prev&&n.parent?.type===8}function vm(n){return n.index-xt}function x1(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function Fd(n,e,t,r){let i=vm(r),o=x1(n,i);if(o===void 0){let s=n.data[ZO];if(s?.[i])o=M1(s[i],t);else if(e.firstChild===r)o=n.firstChild;else{let a=r.prev===null,l=r.prev??r.parent;if(A1(r)){let u=vm(r.parent);o=zm(n,u)}else{let u=gn(l,t);if(a)o=u.firstChild;else{let h=vm(l),p=zm(n,h);if(l.type===2&&p){let _=Hg(n,h)+1;o=Ld(_,p)}else o=u.nextSibling}}}}return o}function Ld(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function R1(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case qm.FirstChild:t=t.firstChild;break;case qm.NextSibling:t=t.nextSibling;break}}return t}function M1(n,e){let[t,...r]=S1(n),i;if(t===UC)i=e[Tn][pn];else if(t===BC)i=mk(e[Tn][pn]);else{let o=Number(t);i=Kn(e[o+xt])}return R1(i,r)}var P1=!1;function N1(n){P1=n}function O1(n){let e=n[sr];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[Ze];for(let o of r.values())k1(i,t,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function k1(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-xt);i&&Jg(n,i,!1)}}function ND(n){let e=n[rc]??[],r=n[It][Ze];for(let i of e)F1(i,r);n[rc]=fn}function F1(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[ud];for(;t<i;){let o=r.nextSibling;Jg(e,r,!1),r=o,t++}}}function OD(n){ND(n);let e=n[pn];Gn(e)&&pd(e);for(let t=Yt;t<n.length;t++)pd(n[t])}function pd(n){O1(n);let e=n[de];for(let t=xt;t<e.bindingStartIndex;t++)if(dr(n[t])){let r=n[t];OD(r)}else Gn(n[t])&&pd(n[t])}function L1(n){let e=n._views;for(let t of e){let r=rk(t);r!==null&&r[pn]!==null&&(Gn(r)?pd(r):OD(r))}}function V1(n,e){let t=[];for(let r of e)for(let i=0;i<(r[$C]??1);i++){let o={data:r,firstChild:null};r[ud]>0&&(o.firstChild=n,n=Ld(r[ud],n)),t.push(o)}return[n,t]}var kD=()=>null;function j1(n,e){let t=n[rc];return!e||t===null||t.length===0?null:t[0].data[JO]===e?t.shift():(ND(n),null)}function U1(){kD=j1}function sb(n,e){return kD(n,e)}var gs=class{},Vd=new H("",{providedIn:"root",factory:()=>!1});var FD=new H(""),LD=new H(""),Ym=class{},md=class{};function B1(n){let e=Error(`No component factory found for ${$t(n)}.`);return e[$1]=n,e}var $1="ngComponent";var Jm=class{resolveComponentFactory(e){throw B1(e)}},cr=class{static{this.NULL=new Jm}},vs=class{},xn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>q1()}}return n})();function q1(){let n=Ne(),e=en(),t=yi(e.index,n);return(Gn(t)?t:n)[Ze]}var z1=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>null})}}return n})();function Zm(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ow(i,a);else if(o==2){let l=a,u=e[++s];r=Ow(r,l+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var gd=class extends cr{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Qi(e);return new ic(t,this.ngModule)}};function ab(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:mi.None;e?t.push({propName:s,templateName:r,isSignal:(a&mi.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function H1(n){let e=n.toLowerCase();return e==="svg"?HN:e==="math"?GN:null}var ic=class extends md{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=ab(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return ab(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=DN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Pe(null);try{i=i||this.ngModule;let s=i instanceof Jt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Nm(e,s):e,l=a.get(vs,null);if(l===null)throw new Q(407,!1);let u=a.get(z1,null),h=a.get(gs,null),p={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:h},v=l.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",A=r?Lk(v,r,this.componentDef.encapsulation,a):Kg(v,_,H1(_)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let k=null;A!==null&&(k=zg(A,a,!0));let z=Xg(0,null,null,1,0,null,null,null,null,null,null),X=Nd(null,z,null,O,null,null,p,v,a,null,k);Ng(X);let ee,ge,et=null;try{let le=this.componentDef,D,y=null;le.findHostDirectiveDefs?(D=[],y=new Map,le.findHostDirectiveDefs(le,D,y),D.push(le)):D=[le];let I=G1(X,A);et=W1(I,A,le,D,X,p,v),ge=tC(z,xt),A&&Y1(v,le,A,r),t!==void 0&&J1(ge,this.ngContentSelectors,t),ee=Q1(et,le,D,y,X,[Z1]),rv(z,X,null)}catch(le){throw et!==null&&Bm(et),Bm(X),le}finally{Og()}return new Xm(this.componentType,ee,Es(ge,X),X,ge)}finally{Pe(o)}}},Xm=class extends Ym{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new no(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;tv(o[de],o,i,e,t),this.previousInputValues.set(e,t);let s=yi(this._tNode.index,o);iv(s,1)}}get injector(){return new Gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function G1(n,e){let t=n[de],r=xt;return n[r]=e,Od(t,r,2,"#host",null)}function W1(n,e,t,r,i,o,s){let a=i[de];K1(r,n,e,s);let l=null;e!==null&&(l=zg(e,i[ps]));let u=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Nd(i,vD(t),null,h,i[n.index],n,o,u,null,null,l);return a.firstCreatePass&&Wm(a,n,r.length-1),kd(i,p),i[n.index]=p}function K1(n,e,t,r){for(let i of n)e.mergedAttrs=ec(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Zm(e,e.mergedAttrs,!0),t!==null&&lD(r,t,e))}function Q1(n,e,t,r,i,o){let s=en(),a=i[de],l=gn(s,i);ED(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,v=eo(i,a,p,s);to(v,i)}ID(a,i,s),l&&to(l,i);let u=eo(i,a,s.directiveStart+s.componentOffset,s);if(n[Wn]=i[Wn]=u,o!==null)for(let h of o)h(u,e);return pD(a,s,i),u}function Y1(n,e,t,r){if(r)Tm(n,t,["ng-version","18.2.10"]);else{let{attrs:i,classes:o}=TN(e.selectors[0]);i&&Tm(n,t,i),o&&o.length>0&&cD(n,t,o.join(" "))}}function J1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function Z1(){let n=en();Fg(Ne()[de],n)}var Rn=(()=>{class n{static{this.__NG_ELEMENT_ID__=X1}}return n})();function X1(){let n=en();return jD(n,Ne())}var eF=Rn,VD=class extends eF{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Es(this._hostTNode,this._hostLView)}get injector(){return new Gi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Lg(this._hostTNode,this._hostLView);if(EC(e)){let t=rd(e,this._hostLView),r=nd(e),i=t[de].data[r+8];return new Gi(i,t)}else return new Gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=cb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Yt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=sb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ob(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!BN(e),a;if(s)a=t;else{let A=t||{};a=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let l=s?e:new ic(Qi(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let O=(s?u:this.parentInjector).get(Jt,null);O&&(o=O)}let h=Qi(l.componentType??{}),p=sb(this._lContainer,h?.id??null),v=p?.firstChild??null,_=l.create(u,i,v,o);return this.insertImpl(_.hostView,a,ob(this._hostTNode,p)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(QN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[It],u=new VD(l,l[Yn],l[It]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return u1(s,i,o,r),e.attachToViewContainerRef(),xb(ym(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=cb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Hm(this._lContainer,t);r&&(Qu(ym(this._lContainer),t),rD(r[de],r))}detach(e){let t=this._adjustIndex(e,-1),r=Hm(this._lContainer,t);return r&&Qu(ym(this._lContainer),t)!=null?new no(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function cb(n){return n[Zu]}function ym(n){return n[Zu]||(n[Zu]=[])}function jD(n,e){let t,r=e[n.index];return dr(r)?t=r:(t=wD(r,e,null,n),e[n.index]=t,kd(e,t)),UD(t,e,n,r),new VD(t,n,e)}function tF(n,e){let t=n[Ze],r=t.createComment(""),i=gn(e,n),o=oD(t,i);return hd(t,o,r,Tk(t,i),!1),r}var UD=BD,sv=()=>!1;function nF(n,e,t){return sv(n,e,t)}function BD(n,e,t,r){if(n[kr])return;let i;t.type&8?i=Kn(r):i=tF(e,t),n[kr]=i}function rF(n,e,t){if(n[kr]&&n[rc])return!0;let r=t[sr],i=e.index-xt;if(!r||$O(e)||mc(r,i))return!1;let s=zm(r,i),a=r.data[qg]?.[i],[l,u]=V1(s,a);return n[kr]=l,n[rc]=u,!0}function iF(n,e,t,r){sv(n,t,e)||BD(n,e,t,r)}function oF(){UD=iF,sv=rF}var eg=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},tg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)av(e,t).matches!==null&&this.queries[t].setDirty()}},ng=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=fF(e):this.predicate=e}},rg=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ig=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,sF(t,o)),this.matchTNodeWithReadOption(e,t,zu(t,e,o,!1,!1))}else r===Sn?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,zu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Be||i===Rn||i===Sn&&t.type&4)this.addMatch(t.index,-2);else{let o=zu(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function sF(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function aF(n,e){return n.type&11?Es(n,e):n.type&4?ov(n,e):null}function cF(n,e,t,r){return t===-1?aF(e,n):t===-2?lF(n,e,r):eo(n,n[de],t,e)}function lF(n,e,t){if(t===Be)return Es(e,n);if(t===Sn)return ov(e,n);if(t===Rn)return jD(e,n)}function $D(n,e,t,r){let i=e[Or].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let h=o[u];a.push(cF(e,h,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function og(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=$D(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let u=o[a+1],h=e[-l];for(let p=Yt;p<h.length;p++){let v=h[p];v[Yi]===v[It]&&og(v[de],v,u,r)}if(h[ms]!==null){let p=h[ms];for(let v=0;v<p.length;v++){let _=p[v];og(_[de],_,u,r)}}}}}return r}function uF(n,e){return n[Or].queries[e].queryList}function dF(n,e,t){let r=new cd((t&4)===4);return Bk(n,e,r,r.destroy),(e[Or]??=new tg).queries.push(new eg(r))-1}function hF(n,e,t){let r=wt();return r.firstCreatePass&&(pF(r,new ng(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),dF(r,Ne(),e)}function fF(n){return n.split(",").map(e=>e.trim())}function pF(n,e,t){n.queries===null&&(n.queries=new rg),n.queries.track(new ig(e,t))}function av(n,e){return n.queries.getByIndex(e)}function mF(n,e){let t=n[de],r=av(t,e);return r.crossesNgTemplate?og(t,n,e,[]):$D(t,n,r,e)}var lb=new Set;function hr(n){lb.has(n)||(lb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function qD(n){return typeof n=="function"&&n[Rr]!==void 0}function ws(n,e){hr("NgSignals");let t=iw(n),r=t[Rr];return e?.equal&&(r.equal=e.equal),t.set=i=>zp(r,i),t.update=i=>ow(r,i),t.asReadonly=gF.bind(t),t}function gF(){let n=this[Rr];if(n.readonlyFn===void 0){let e=()=>this();e[Rr]=n,n.readonlyFn=e}return n.readonlyFn}function zD(n){return qD(n)&&typeof n.set=="function"}function vF(n){return Object.getPrototypeOf(n.prototype).constructor}function Xe(n){let e=vF(n.type),t=!0,r=[n];for(;e;){let i;if(gi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Lu(n.inputs),s.inputTransforms=Lu(n.inputTransforms),s.declaredInputs=Lu(n.declaredInputs),s.outputs=Lu(n.outputs);let a=i.hostBindings;a&&wF(n,a);let l=i.viewQuery,u=i.contentQueries;if(l&&EF(n,l),u&&IF(n,u),yF(n,i),zP(n.outputs,i.outputs),gi(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Xe&&(t=!1)}}e=Object.getPrototypeOf(e)}_F(r)}function yF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function _F(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ec(i.hostAttrs,t=ec(t,i.hostAttrs))}}function Lu(n){return n===hs?{}:n===fn?[]:n}function EF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function IF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function wF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var vi=class{},oc=class{};var sg=class extends vi{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gd(this);let o=Vb(e);this._bootstrapComponents=ZC(o.bootstrap),this._r3Injector=xC(e,t,[{provide:vi,useValue:this},{provide:cr,useValue:this.componentFactoryResolver},...r],$t(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ag=class extends oc{constructor(e){super(),this.moduleType=e}create(e){return new sg(this.moduleType,e,[])}};var vd=class extends vi{constructor(e){super(),this.componentFactoryResolver=new gd(this),this.instance=null;let t=new tc([...e.providers,{provide:vi,useValue:this},{provide:cr,useValue:this.componentFactoryResolver}],e.parent||Ag(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function cv(n,e,t=null){return new vd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function HD(n){return lv(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function bF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function lv(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function CF(n,e,t){return n[e]=t}function lr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function GD(n,e,t,r){let i=lr(n,e,t);return lr(n,e+1,r)||i}function DF(n,e,t,r,i){let o=GD(n,e,t,r);return lr(n,e+2,i)||o}function gc(n){return(n.flags&32)===32}function TF(n,e,t,r,i,o,s,a,l){let u=e.consts,h=Od(e,n,4,s||null,a||null);_D(e,t,h,td(u,l)),Fg(e,h);let p=h.tView=Xg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function SF(n,e,t,r,i,o,s,a,l,u){let h=t+xt,p=e.firstCreatePass?TF(h,e,n,r,i,o,s,a,l):e.data[h];dc(p,!1);let v=WD(e,n,p,t);kg()&&Yg(e,n,v,p),to(v,n);let _=wD(v,n,v,p);return n[h]=_,kd(n,_),nF(_,p,n),xg(p)&&mD(e,n,p),l!=null&&gD(n,p,u),p}function Y(n,e,t,r,i,o,s,a){let l=Ne(),u=wt(),h=td(u.consts,o);return SF(l,u,n,e,t,r,i,h,s,a),Y}var WD=KD;function KD(n,e,t,r){return Ei(!0),e[Ze].createComment("")}function AF(n,e,t,r){let i=e[sr],o=!i||uc()||gc(t)||mc(i,r);if(Ei(o),o)return KD(n,e,t,r);let s=i.data[YO]?.[r]??null;s!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=s);let a=Fd(i,n,e,t);Rd(i,r,a);let l=Hg(i,r);return Ld(l,a)}function xF(){WD=AF}var ls=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ls||{}),QD=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}}return n})(),cg=class n{constructor(){this.ngZone=V(ae),this.scheduler=V(gs),this.errorHandler=V(Fr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ls.EarlyRead,ls.Write,ls.MixedReadWrite,ls.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}},lg=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function uv(n,e){!e?.injector&&Gb(uv);let t=e?.injector??V(Ve);return as(t)?(hr("NgAfterRender"),YD(n,t,e,!1)):JD}function Ii(n,e){!e?.injector&&Gb(Ii);let t=e?.injector??V(Ve);return as(t)?(hr("NgAfterNextRender"),YD(n,t,e,!0)):JD}function RF(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function YD(n,e,t,r){let i=e.get(QD);i.impl??=e.get(cg);let o=t?.phase??ls.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(Vg):null,a=new lg(i.impl,RF(n,o),r,s);return i.impl.register(a),a}var JD={destroy(){}};function jr(n,e,t,r){let i=Ne(),o=hc();if(lr(i,o,e)){let s=wt(),a=Ad();n1(a,i,n,e,t,r)}return jr}function MF(n,e,t,r){return lr(n,hc(),t)?e+Nr(t)+r:Jn}function PF(n,e,t,r,i,o){let s=uC(),a=GD(n,s,t,i);return Mg(2),a?e+Nr(t)+r+Nr(i)+o:Jn}function NF(n,e,t,r,i,o,s,a){let l=uC(),u=DF(n,l,t,i,s);return Mg(3),u?e+Nr(t)+r+Nr(i)+o+Nr(s)+a:Jn}function Vu(n,e){return n<<17|e<<2}function ro(n){return n>>17&32767}function OF(n){return(n&2)==2}function kF(n,e){return n&131071|e<<17}function ug(n){return n|2}function ys(n){return(n&131068)>>2}function _m(n,e){return n&-131069|e<<2}function FF(n){return(n&1)===1}function dg(n){return n|1}function LF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ro(s),l=ys(s);n[r]=t;let u=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||cc(p,h)>0)&&(u=!0)}else h=t;if(i)if(l!==0){let v=ro(n[a+1]);n[r+1]=Vu(v,a),v!==0&&(n[v+1]=_m(n[v+1],r)),n[a+1]=kF(n[a+1],r)}else n[r+1]=Vu(a,0),a!==0&&(n[a+1]=_m(n[a+1],r)),a=r;else n[r+1]=Vu(l,0),a===0?a=r:n[l+1]=_m(n[l+1],r),l=r;u&&(n[r+1]=ug(n[r+1])),ub(n,h,r,!0),ub(n,h,r,!1),VF(e,h,n,r,o),s=Vu(a,l),o?e.classBindings=s:e.styleBindings=s}function VF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&cc(o,e)>=0&&(t[r+1]=dg(t[r+1]))}function ub(n,e,t,r){let i=n[t+1],o=e===null,s=r?ro(i):ys(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];jF(l,e)&&(a=!0,n[s+1]=r?dg(u):ug(u)),s=r?ro(u):ys(u)}a&&(n[t+1]=r?ug(i):dg(i))}function jF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?cc(n,e)>=0:!1}function $(n,e,t){let r=Ne(),i=hc();if(lr(r,i,e)){let o=wt(),s=Ad();ev(o,s,r,n,e,r[Ze],t,!1)}return $}function db(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";tv(n,t,o[s],s,r)}function oo(n,e){return UF(n,e,null,!0),oo}function UF(n,e,t,r){let i=Ne(),o=wt(),s=Mg(2);if(o.firstUpdatePass&&$F(o,n,s,r),e!==Jn&&lr(i,s,e)){let a=o.data[_i()];WF(o,a,i,i[Ze],n,i[s+1]=KF(e,t),r,s)}}function BF(n,e){return e>=n.expandoStartIndex}function $F(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[_i()],s=BF(n,t);QF(o,r)&&e===null&&!s&&(e=!1),e=qF(i,o,e,r),LF(i,o,e,t,s,r)}}function qF(n,e,t,r){let i=dO(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Em(null,n,e,t,r),t=sc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Em(i,n,e,t,r),o===null){let l=zF(n,e,r);l!==void 0&&Array.isArray(l)&&(l=Em(null,n,e,l[1],r),l=sc(l,e.attrs,r),HF(n,e,r,l))}else o=GF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function zF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ys(r)!==0)return n[ro(r)]}function HF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ro(i)]=r}function GF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=sc(r,s,t)}return sc(r,e.attrs,t)}function Em(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=sc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function sc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),hN(n,s,t?!0:e[++o]))}return n===void 0?null:n}function WF(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],h=FF(u)?hb(l,e,t,i,ys(u),s):void 0;if(!yd(h)){yd(o)||OF(u)&&(o=hb(l,null,t,i,a,s));let p=eC(_i(),t);Pk(r,s,p,i,o)}}function hb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),h=u?l[1]:l,p=h===null,v=t[i+1];v===Jn&&(v=p?fn:void 0);let _=p?cm(v,r):h===r?v:void 0;if(u&&!yd(_)&&(_=cm(l,r)),yd(_)&&(a=_,s))return a;let A=n[i+1];i=s?ro(A):ys(A)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=cm(l,r))}return a}function yd(n){return n!==void 0}function KF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=$t(Md(n)))),n}function QF(n,e){return(n.flags&(e?8:16))!==0}function YF(n,e,t,r,i,o){let s=e.consts,a=td(s,i),l=Od(e,n,2,r,a);return _D(e,t,l,td(s,o)),l.attrs!==null&&Zm(l,l.attrs,!1),l.mergedAttrs!==null&&Zm(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function E(n,e,t,r){let i=Ne(),o=wt(),s=xt+n,a=i[Ze],l=o.firstCreatePass?YF(s,o,i,e,t,r):o.data[s],u=ZD(o,i,l,a,e,n);i[s]=u;let h=xg(l);return dc(l,!0),lD(a,u,l),!gc(l)&&kg()&&Yg(o,i,u,l),ZN()===0&&to(u,i),XN(),h&&(mD(o,i,l),pD(o,l,i)),r!==null&&gD(i,l),E}function g(){let n=en();cC()?oO():(n=n.parent,dc(n,!1));let e=n;tO(e)&&rO(),eO();let t=wt();return t.firstCreatePass&&(Fg(t,n),Qb(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&vO(e)&&db(t,e,Ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&yO(e)&&db(t,e,Ne(),e.stylesWithoutHost,!1),g}function G(n,e,t,r){return E(n,e,t,r),g(),G}var ZD=(n,e,t,r,i,o)=>(Ei(!0),Kg(r,i,vC()));function JF(n,e,t,r,i,o){let s=e[sr],a=!s||uc()||gc(t)||mc(s,o);if(Ei(a),a)return Kg(r,i,vC());let l=Fd(s,n,e,t);return GC(s,o)&&Rd(s,o,l.nextSibling),s&&(NC(t)||OC(l))&&lc(t)&&(nO(t),aD(l)),l}function ZF(){ZD=JF}var XF=(n,e,t,r)=>(Ei(!0),eD(e[Ze],""));function eL(n,e,t,r){let i,o=e[sr],s=!o||uc()||mc(o,r)||gc(t);if(Ei(s),s)return eD(e[Ze],"");let a=Fd(o,n,e,t),l=sk(o,r);return Rd(o,r,a),i=Ld(l,a),i}function tL(){XF=eL}function Mn(){return Ne()}function dv(n,e,t){let r=Ne(),i=hc();if(lr(r,i,e)){let o=wt(),s=Ad();ev(o,s,r,n,e,r[Ze],t,!0)}return dv}var _d="en-US";var nL=_d;function rL(n){typeof n=="string"&&(nL=n.toLowerCase().replace(/_/g,"-"))}var iL=(n,e,t)=>{};function W(n,e,t,r){let i=Ne(),o=wt(),s=en();return XD(o,i,i[Ze],s,n,e,r),W}function oL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ju],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function XD(n,e,t,r,i,o,s){let a=xg(r),u=n.firstCreatePass&&DD(n),h=e[Wn],p=CD(e),v=!0;if(r.type&3||s){let O=gn(r,e),k=s?s(O):O,z=p.length,X=s?ge=>s(Kn(ge[r.index])):r.index,ee=null;if(!s&&a&&(ee=oL(n,e,i,r.index)),ee!==null){let ge=ee.__ngLastListenerFn__||ee;ge.__ngNextListenerFn__=o,ee.__ngLastListenerFn__=o,v=!1}else{o=pb(r,e,h,o),iL(O,i,o);let ge=t.listen(k,i,o);p.push(o,ge),u&&u.push(i,X,z,z+1)}}else o=pb(r,e,h,o);let _=r.outputs,A;if(v&&_!==null&&(A=_[i])){let O=A.length;if(O)for(let k=0;k<O;k+=2){let z=A[k],X=A[k+1],et=e[z][X].subscribe(o),le=p.length;p.push(o,et),u&&u.push(i,r.index,le,-(le+1))}}}function fb(n,e,t,r){let i=Pe(null);try{return rr(6,e,t),t(r)!==!1}catch(o){return TD(n,o),!1}finally{rr(7,e,t),Pe(i)}}function pb(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?yi(n.index,e):e;iv(s,5);let a=fb(e,t,r,o),l=i.__ngNextListenerFn__;for(;l;)a=fb(e,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function he(n=1){return fO(n)}function hv(n,e,t){hF(n,e,t)}function jd(n){let e=Ne(),t=wt(),r=dC();Pg(r+1);let i=av(t,r);if(n.dirty&&KN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=mF(e,r);n.reset(o,VO),n.notifyOnChanges()}return!0}return!1}function Ud(){return uF(Ne(),dC())}function sL(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function b(n,e=""){let t=Ne(),r=wt(),i=n+xt,o=r.firstCreatePass?Od(r,i,1,e,null):r.data[i],s=eT(r,t,o,e,n);t[i]=s,kg()&&Yg(r,t,s,o),dc(o,!1)}var eT=(n,e,t,r,i)=>(Ei(!0),XC(e[Ze],r));function aL(n,e,t,r,i){let o=e[sr],s=!o||uc()||gc(t)||mc(o,i);return Ei(s),s?XC(e[Ze],r):Fd(o,n,e,t)}function cL(){eT=aL}function Ie(n){return xe("",n,""),Ie}function xe(n,e,t){let r=Ne(),i=MF(r,n,e,t);return i!==Jn&&nv(r,_i(),i),xe}function fv(n,e,t,r,i){let o=Ne(),s=PF(o,n,e,t,r,i);return s!==Jn&&nv(o,_i(),s),fv}function so(n,e,t,r,i,o,s){let a=Ne(),l=NF(a,n,e,t,r,i,o,s);return l!==Jn&&nv(a,_i(),l),so}function Ur(n,e,t){zD(e)&&(e=e());let r=Ne(),i=hc();if(lr(r,i,e)){let o=wt(),s=Ad();ev(o,s,r,n,e,r[Ze],t,!1)}return Ur}function wi(n,e){let t=zD(n);return t&&n.set(e),t}function Br(n,e){let t=Ne(),r=wt(),i=en();return XD(r,t,t[Ze],i,n,e),Br}function lL(n,e,t){let r=wt();if(r.firstCreatePass){let i=gi(n);hg(t,r.data,r.blueprint,i,!0),hg(e,r.data,r.blueprint,i,!1)}}function hg(n,e,t,r,i){if(n=Bt(n),Array.isArray(n))for(let o=0;o<n.length;o++)hg(n[o],e,t,r,i);else{let o=wt(),s=Ne(),a=en(),l=fs(n)?n:Bt(n.provide),u=zb(n),h=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(fs(n)||!n.multi){let _=new Xi(u,i,N),A=wm(l,e,i?h:h+v,p);A===-1?(km(od(a,s),o,l),Im(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[A]=_,s[A]=_)}else{let _=wm(l,e,h+v,p),A=wm(l,e,h,h+v),O=_>=0&&t[_],k=A>=0&&t[A];if(i&&!k||!i&&!O){km(od(a,s),o,l);let z=hL(i?dL:uL,t.length,i,r,u);!i&&k&&(t[A].providerFactory=z),Im(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(z),s.push(z)}else{let z=tT(t[i?A:_],u,!i&&r);Im(o,n,_>-1?_:A,z)}!i&&r&&k&&t[A].componentProviders++}}}function Im(n,e,t,r){let i=fs(e),o=ON(e);if(i||o){let l=(o?Bt(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[r,l]):u[h+1].push(r,l)}else u.push(t,l)}}}function tT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function wm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function uL(n,e,t,r){return fg(this.multi,[])}function dL(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=eo(t,t[de],this.providerFactory.index,r);o=a.slice(0,s),fg(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],fg(i,o);return o}function fg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function hL(n,e,t,r,i){let o=new Xi(n,t,N);return o.multi=[],o.index=e,o.componentProviders=0,tT(o,i,r&&!t),o}function Pt(n,e=[]){return t=>{t.providersResolver=(r,i)=>lL(r,i?i(n):n,e)}}var fL=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Bb(!1,t.type),i=r.length>0?cv([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(F(Jt))})}}return n})();function Ce(n){hr("NgStandalone"),n.getStandaloneInjector=e=>e.get(fL).getOrCreateStandaloneInjector(n)}function pL(n,e){let t=n[e];return t===Jn?void 0:t}function mL(n,e,t,r,i,o){let s=e+t;return lr(n,s,i)?CF(n,s+1,o?r.call(o,i):r(i)):pL(n,s+1)}function pv(n,e){let t=wt(),r,i=n+xt;t.firstCreatePass?(r=gL(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Wi(r.type,!0)),s,a=Qt(N);try{let l=id(!1),u=o();return id(l),sL(t,Ne(),i,u),u}finally{Qt(a)}}function gL(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function mv(n,e,t){let r=n+xt,i=Ne(),o=WN(i,r);return vL(i,r)?mL(i,sO(),e,o.transform,t,o):o.transform(t)}function vL(n,e){return n[de].data[e].pure}var Vr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},nT=new Vr("18.2.10");var Bd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var rT=new H("");function ao(n){return!!n&&typeof n.then=="function"}function iT(n){return!!n&&typeof n.subscribe=="function"}var oT=new H(""),sT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=V(oT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(ao(o))t.push(o);else if(iT(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bs=new H("");function yL(){rw(()=>{throw new Q(600,!1)})}function _L(n){return n.isBoundToModule}var EL=10;function IL(n,e,t){try{let r=t();return ao(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Pn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(FO),this.afterRenderManager=V(QD),this.zonelessEnabled=V(Vd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new _e,this.afterTick=new _e,this.componentTypes=[],this.components=[],this.isStable=V(io).hasPendingTasks.pipe(pe(t=>!t)),this._injector=V(Jt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof md;if(!this._injector.get(sT).done){let v=!i&&Lb(t),_=!1;throw new Q(405,_)}let s;i?s=t:s=this._injector.get(cr).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=_L(s)?void 0:this._injector.get(vi),l=r||s.selector,u=s.create(Ve.NULL,[],l,a),h=u.location.nativeElement,p=u.injector.get(rT,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Hu(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Q(101,!1);let t=Pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Pe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(vs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<EL;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)wL(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Td(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Hu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(bs,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Hu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Hu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var ju;function $d(n){ju??=new WeakMap;let e=ju.get(n);if(e)return e;let t=n.isStable.pipe(qn(r=>r)).toPromise().then(()=>{});return ju.set(n,t),n.onDestroy(()=>ju?.delete(n)),t}function wL(n,e,t,r){if(!t&&!Td(n))return;xD(n,e,t&&!r?0:1)}var pg=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},gv=(()=>{class n{compileModuleSync(t){return new ag(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Vb(t),o=ZC(i.declarations).reduce((s,a)=>{let l=Qi(a);return l&&s.push(new ic(l)),s},[]);return new pg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var bL=(()=>{class n{constructor(){this.zone=V(ae),this.changeDetectionScheduler=V(gs),this.applicationRef=V(Pn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),CL=new H("",{factory:()=>!1});function aT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ae(ne(L({},lT()),{scheduleInRootZone:t})),[{provide:ae,useFactory:n},{provide:Ki,multi:!0,useFactory:()=>{let r=V(bL,{optional:!0});return()=>r.initialize()}},{provide:Ki,multi:!0,useFactory:()=>{let r=V(DL);return()=>{r.initialize()}}},e===!0?{provide:FD,useValue:!0}:[],{provide:LD,useValue:t??RC}]}function cT(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=aT({ngZoneFactory:()=>{let i=lT(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&hr("NgZone_CoalesceEvent"),new ae(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Qn([{provide:CL,useValue:!0},{provide:Vd,useValue:!1},r])}function lT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var DL=(()=>{class n{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=V(ae),this.pendingTasks=V(io)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ae.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ae.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var TL=(()=>{class n{constructor(){this.appRef=V(Pn),this.taskService=V(io),this.ngZone=V(ae),this.zonelessEnabled=V(Vd),this.disableScheduling=V(FD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ge,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ad):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(LD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Um||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Jw:MC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ad+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Jw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function SL(){return typeof $localize<"u"&&$localize.locale||_d}var vv=new H("",{providedIn:"root",factory:()=>V(vv,we.Optional|we.SkipSelf)||SL()});var mg=new H("");function Uu(n){return!n.moduleRef}function AL(n){let e=Uu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ae);return t.run(()=>{Uu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Fr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Uu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(mg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(mg);s.add(o),n.moduleRef.onDestroy(()=>{Hu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return IL(r,t,()=>{let o=e.get(sT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(vv,_d);if(rL(s||_d),Uu(n)){let a=e.get(Pn);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return xL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function xL(n,e){let t=n.injector.get(Pn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new Q(-403,!1);e.push(n)}var Gu=null;function RL(n=[],e){return Ve.create({name:e,providers:[{provide:Cd,useValue:"platform"},{provide:mg,useValue:new Set([()=>Gu=null])},...n]})}function ML(n=[]){if(Gu)return Gu;let e=RL(n);return Gu=e,yL(),PL(e),e}function PL(n){n.get(Bg,null)?.forEach(t=>t())}var fr=(()=>{class n{static{this.__NG_ELEMENT_ID__=NL}}return n})();function NL(n){return OL(en(),Ne(),(n&16)===16)}function OL(n,e,t){if(lc(n)&&!t){let r=yi(n.index,e);return new no(r,r)}else if(n.type&175){let r=e[Tn];return new no(r,e)}return null}var gg=class{constructor(){}supports(e){return HD(e)}create(e){return new vg(e)}},kL=(n,e)=>e,vg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<mb(r,i,o)?t:r,a=mb(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,h=l-i;if(u!=h){for(let v=0;v<u;v++){let _=v<o.length?o[v]:o[v]=0,A=_+v;h<=A&&A<u&&(o[v]=_+1)}let p=s.previousIndex;o[p]=h-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!HD(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,bF(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new yg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ed),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ed),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},yg=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},_g=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ed=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new _g,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function mb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var Eg=class{constructor(){}supports(e){return e instanceof Map||lv(e)}create(){return new Ig}},Ig=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||lv(e)))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new wg(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},wg=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function gb(){return new qd([new gg])}var qd=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:gb})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||gb()),deps:[[n,new Cg,new An]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Q(901,!1)}}return n})();function vb(){return new yv([new Eg])}var yv=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:vb})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||vb()),deps:[[n,new Cg,new An]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Q(901,!1)}}return n})();function uT(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=ML(r),o=[aT({}),{provide:gs,useExisting:TL},...t||[]],s=new vd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return AL({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var yb=!1;function FL(){yb||(yb=!0,nk(),ZF(),cL(),tL(),xF(),oF(),U1(),Uk())}function LL(n,e){return $d(n)}function dT(){return Qn([{provide:Fu,useFactory:()=>{let n=!0;return as()&&(n=!!V(Is,{optional:!0})?.get(zC,null)),n&&hr("NgHydration"),n}},{provide:Ki,useValue:()=>{N1(!1),as()&&V(Fu)&&(VL(),FL())},multi:!0},{provide:KC,useFactory:()=>as()&&V(Fu)},{provide:bs,useFactory:()=>{if(as()&&V(Fu)){let n=V(Pn),e=V(Ve);return()=>{LL(n,e).then(()=>{L1(n)})}}return()=>{}},multi:!0}])}function VL(){let n=xd(),e;for(let t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===ek){e=t;break}if(!e)throw new Q(-507,!1)}function co(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Cs(n,e){hr("NgSignals");let t=ew(n);return e?.equal&&(t[Rr].equal=e.equal),t}function Nn(n){let e=Pe(null);try{return n()}finally{Pe(e)}}var vT=null;function $r(){return vT}function yT(n){vT??=n}var zd=class{};var Te=new H(""),_T=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>V(BL),providedIn:"platform"})}}return n})();var BL=(()=>{class n extends _T{constructor(){super(),this._doc=V(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $r().getBaseHref(this._doc)}onPopState(t){let r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function ET(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function hT(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function lo(n){return n&&n[0]!=="?"?"?"+n:n}var Wd=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>V(IT),providedIn:"root"})}}return n})(),$L=new H(""),IT=(()=>{class n extends Wd{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ET(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+lo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+lo(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+lo(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(F(_T),F($L,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ct=(()=>{class n{constructor(t){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=HL(hT(fT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+lo(r))}normalize(t){return n.stripTrailingSlash(zL(this._basePath,fT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=lo}static{this.joinWithSlash=ET}static{this.stripTrailingSlash=hT}static{this.\u0275fac=function(r){return new(r||n)(F(Wd))}}static{this.\u0275prov=q({token:n,factory:()=>qL(),providedIn:"root"})}}return n})();function qL(){return new ct(F(Wd))}function zL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function fT(n){return n.replace(/\/index.html$/,"")}function HL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Iv(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var _v=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},gt=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new _v(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),pT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);pT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(N(Rn),N(Sn),N(qd))}}static{this.\u0275dir=Re({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function pT(n,e){n.context.$implicit=e.item}var tt=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ev,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mT("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mT("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(N(Rn),N(Sn))}}static{this.\u0275dir=Re({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Ev=class{constructor(){this.$implicit=null,this.ngIf=null}};function mT(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${$t(e)}'.`)}function GL(n,e){return{key:n,value:e}}var wT=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=gT}transform(t,r=gT){if(!t||!(t instanceof Map)&&typeof t!="object")return null;this.differ??=this.differs.find(t).create();let i=this.differ.diff(t),o=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(GL(s.key,s.currentValue))})),(i||o)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static{this.\u0275fac=function(r){return new(r||n)(N(yv,16))}}static{this.\u0275pipe=Ob({name:"keyvalue",type:n,pure:!1,standalone:!0})}}return n})();function gT(n,e){let t=n.key,r=e.key;if(t===r)return 0;if(t===void 0)return 1;if(r===void 0)return-1;if(t===null)return 1;if(r===null)return-1;if(typeof t=="string"&&typeof r=="string")return t<r?-1:1;if(typeof t=="number"&&typeof r=="number")return t-r;if(typeof t=="boolean"&&typeof r=="boolean")return t<r?-1:1;let i=String(t),o=String(r);return i==o?0:i<o?-1:1}var $e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mt({type:n})}static{this.\u0275inj=Rt({})}}return n})(),wv="browser",WL="server";function bT(n){return n===wv}function vc(n){return n===WL}var Hd=class{};var Qd=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var MT=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(MT||{}),bv=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Qd,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Yd=class n extends bv{constructor(e={}){super(e),this.type=MT.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var KL=new H("");var QL=new H(""),CT="b",DT="h",TT="s",ST="st",AT="u",xT="rt",Kd=new H(""),YL=["GET","HEAD"];function JL(n,e){let _=V(Kd),{isCacheActive:t}=_,r=HI(_,["isCacheActive"]),{transferCache:i,method:o}=n;if(!t||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!YL.includes(o)||!r.includeRequestsWithAuthHeaders&&ZL(n)||r.filter?.(n)===!1)return e(n);let s=V(Is),a=V(QL,{optional:!0}),l=vc(V(tn));if(a&&!l)throw new Q(2803,!1);let u=l&&a?nV(n.url,a):n.url,h=eV(n,u),p=s.get(h,null),v=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(v=i.includeHeaders),p){let{[CT]:A,[xT]:O,[DT]:k,[TT]:z,[ST]:X,[AT]:ee}=p,ge=A;switch(O){case"arraybuffer":ge=new TextEncoder().encode(A).buffer;break;case"blob":ge=new Blob([A]);break}let et=new Qd(k);return re(new Yd({body:ge,headers:et,status:z,statusText:X,url:ee}))}return e(n).pipe(it(A=>{A instanceof Yd&&l&&s.set(h,{[CT]:A.body,[DT]:XL(A.headers,v),[TT]:A.status,[ST]:A.statusText,[AT]:u,[xT]:n.responseType})}))}function ZL(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function XL(n,e){if(!e)return{};let t={};for(let r of e){let i=n.getAll(r);i!==null&&(t[r]=i)}return t}function RT(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function eV(n,e){let{params:t,method:r,responseType:i}=n,o=RT(t),s=n.serializeBody();s instanceof URLSearchParams?s=RT(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),l=tV(a);return l}function tV(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function PT(n){return[{provide:Kd,useFactory:()=>(hr("NgHttpTransferCache"),L({isCacheActive:!0},n))},{provide:KL,useValue:JL,multi:!0,deps:[Is,Kd]},{provide:bs,multi:!0,useFactory:()=>{let e=V(Pn),t=V(Kd);return()=>{$d(e).then(()=>{t.isCacheActive=!1})}}}]}function nV(n,e){let t=new URL(n,"resolve://").origin,r=e[t];return r?n.replace(t,r):n}var Tv=class extends zd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sv=class n extends Tv{static makeCurrent(){yT(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=rV();return t==null?null:iV(t)}resetBaseElement(){yc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Iv(document.cookie,e)}},yc=null;function rV(){return yc=yc||document.querySelector("base"),yc?yc.getAttribute("href"):null}function iV(n){return new URL(n,document.baseURI).pathname}var oV=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Av=new H(""),FT=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(F(Av),F(ae))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Jd=class{constructor(e){this._doc=e}},Cv="ng-app-id",LT=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vc(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Cv}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Cv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Cv,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(F(Te),F(fc),F($g,8),F(tn))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Dv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Mv=/%COMP%/g,VT="%COMP%",sV=`_nghost-${VT}`,aV=`_ngcontent-${VT}`,cV=!0,lV=new H("",{providedIn:"root",factory:()=>cV});function uV(n){return aV.replace(Mv,n)}function dV(n){return sV.replace(Mv,n)}function jT(n,e){return e.map(t=>t.replace(Mv,n))}var NT=(()=>{class n{constructor(t,r,i,o,s,a,l,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=vc(a),this.defaultRenderer=new _c(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===or.ShadowDom&&(r=ne(L({},r),{encapsulation:or.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Zd?i.applyToHost(t):i instanceof Ec&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case or.Emulated:o=new Zd(l,u,r,this.appId,h,s,a,p);break;case or.ShadowDom:return new xv(l,u,t,r,s,a,this.nonce,p);default:o=new Ec(l,u,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(F(FT),F(LT),F(fc),F(lV),F(Te),F(tn),F(ae),F($g))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),_c=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Dv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(OT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(OT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Dv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Dv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Lr.DashCase|Lr.Important)?e.style.setProperty(t,r,i&Lr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Lr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=$r().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function OT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var xv=class extends _c{constructor(e,t,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=jT(i.id,i.styles);for(let h of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ec=class extends _c{constructor(e,t,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?jT(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zd=class extends Ec{constructor(e,t,r,i,o,s,a,l){let u=i+"-"+r.id;super(e,t,r,o,s,a,l,u),this.contentAttr=uV(u),this.hostAttr=dV(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},hV=(()=>{class n extends Jd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(F(Te))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),kT=["alt","control","meta","shift"],fV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},mV=(()=>{class n extends Jd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$r().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),kT.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=fV[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),kT.forEach(s=>{if(s!==i){let a=pV[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(F(Te))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function UT(n,e){return uT(L({rootComponent:n},gV(e)))}function gV(n){return{appProviders:[...IV,...n?.providers??[]],platformProviders:EV}}function vV(){Sv.makeCurrent()}function yV(){return new Fr}function _V(){return jC(document),document}var EV=[{provide:tn,useValue:wv},{provide:Bg,useValue:vV,multi:!0},{provide:Te,useFactory:_V,deps:[]}];var IV=[{provide:Cd,useValue:"root"},{provide:Fr,useFactory:yV,deps:[]},{provide:Av,useClass:hV,multi:!0,deps:[Te,ae,tn]},{provide:Av,useClass:mV,multi:!0,deps:[Te]},NT,LT,FT,{provide:vs,useExisting:NT},{provide:Hd,useClass:oV,deps:[]},[]];var BT=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(F(Te))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Rv=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n}(Rv||{});function $T(...n){let e=[],t=new Set,r=t.has(Rv.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);return Qn([[],dT(),t.has(Rv.NoHttpTransferCache)||r?[]:PT({}),e])}var ye="primary",Lc=Symbol("RouteTitle"),Fv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Rs(n){return new Fv(n)}function bV(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function CV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!pr(n[t],e[t]))return!1;return!0}function pr(n,e){let t=n?Lv(n):void 0,r=e?Lv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!YT(n[i],e[i]))return!1;return!0}function Lv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function YT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function JT(n){return n.length>0?n[n.length-1]:null}function bi(n){return Ga(n)?n:ao(n)?Ye(Promise.resolve(n)):re(n)}var DV={exact:XT,subset:eS},ZT={exact:TV,subset:SV,ignored:()=>!0};function qT(n,e,t){return DV[t.paths](n.root,e.root,t.matrixParams)&&ZT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function TV(n,e){return pr(n,e)}function XT(n,e,t){if(!ho(n.segments,e.segments)||!th(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!XT(n.children[r],e.children[r],t))return!1;return!0}function SV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>YT(n[t],e[t]))}function eS(n,e,t){return tS(n,e,e.segments,t)}function tS(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ho(i,t)||e.hasChildren()||!th(i,t,r))}else if(n.segments.length===t.length){if(!ho(n.segments,t)||!th(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!eS(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ho(n.segments,i)||!th(n.segments,i,r)||!n.children[ye]?!1:tS(n.children[ye],e,o,r)}}function th(n,e,t){return e.every((r,i)=>ZT[t](n[i].parameters,r.parameters))}var zr=class{constructor(e=new Ue([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){return RV.serialize(this)}},Ue=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nh(this)}},uo=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Rs(this.parameters),this._parameterMap}toString(){return rS(this)}};function AV(n,e){return ho(n,e)&&n.every((t,r)=>pr(t.parameters,e[r].parameters))}function ho(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function xV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ye&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ye&&(t=t.concat(e(i,r)))}),t}var ly=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>new Sc,providedIn:"root"})}}return n})(),Sc=class{parse(e){let t=new jv(e);return new zr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ic(e.root,!0)}`,r=NV(e.queryParams),i=typeof e.fragment=="string"?`#${MV(e.fragment)}`:"";return`${t}${r}${i}`}},RV=new Sc;function nh(n){return n.segments.map(e=>rS(e)).join("/")}function Ic(n,e){if(!n.hasChildren())return nh(n);if(e){let t=n.children[ye]?Ic(n.children[ye],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ye&&r.push(`${i}:${Ic(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=xV(n,(r,i)=>i===ye?[Ic(n.children[ye],!1)]:[`${i}:${Ic(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ye]!=null?`${nh(n)}/${t[0]}`:`${nh(n)}/(${t.join("//")})`}}function nS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xd(n){return nS(n).replace(/%3B/gi,";")}function MV(n){return encodeURI(n)}function Vv(n){return nS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rh(n){return decodeURIComponent(n)}function zT(n){return rh(n.replace(/\+/g,"%20"))}function rS(n){return`${Vv(n.path)}${PV(n.parameters)}`}function PV(n){return Object.entries(n).map(([e,t])=>`;${Vv(e)}=${Vv(t)}`).join("")}function NV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Xd(t)}=${Xd(i)}`).join("&"):`${Xd(t)}=${Xd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var OV=/^[^\/()?;#]+/;function Pv(n){let e=n.match(OV);return e?e[0]:""}var kV=/^[^\/()?;=#]+/;function FV(n){let e=n.match(kV);return e?e[0]:""}var LV=/^[^=?&#]+/;function VV(n){let e=n.match(LV);return e?e[0]:""}var jV=/^[^&#]+/;function UV(n){let e=n.match(jV);return e?e[0]:""}var jv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ye]=new Ue(e,t)),r}parseSegment(){let e=Pv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new uo(rh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=FV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Pv(this.remaining);i&&(r=i,this.capture(r))}e[rh(t)]=rh(r)}parseQueryParam(e){let t=VV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=UV(this.remaining);s&&(r=s,this.capture(r))}let i=zT(t),o=zT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Pv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ye);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ye]:new Ue([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function iS(n){return n.segments.length>0?new Ue([],{[ye]:n}):n}function oS(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=oS(i);if(r===ye&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ue(n.segments,e);return BV(t)}function BV(n){if(n.numberOfChildren===1&&n.children[ye]){let e=n.children[ye];return new Ue(n.segments.concat(e.segments),e.children)}return n}function Ac(n){return n instanceof zr}function $V(n,e,t=null,r=null){let i=sS(n);return aS(i,e,t,r)}function sS(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new Ue(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=iS(r);return e??i}function aS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Nv(i,i,i,t,r);let o=qV(e);if(o.toRoot())return Nv(i,i,new Ue([],{}),t,r);let s=zV(o,i,n),a=s.processChildren?Cc(s.segmentGroup,s.index,o.commands):lS(s.segmentGroup,s.index,o.commands);return Nv(i,s.segmentGroup,a,t,r)}function ih(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function xc(n){return typeof n=="object"&&n!=null&&n.outlets}function Nv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===e?s=t:s=cS(n,e,t);let a=iS(oS(s));return new zr(a,o,i)}function cS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=cS(o,e,t)}),new Ue(n.segments,r)}var oh=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ih(r[0]))throw new Q(4003,!1);let i=r.find(xc);if(i&&i!==JT(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new oh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new oh(t,e,r)}var Ss=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function zV(n,e,t){if(n.isAbsolute)return new Ss(e,!0,0);if(!t)return new Ss(e,!1,NaN);if(t.parent===null)return new Ss(t,!0,0);let r=ih(n.commands[0])?0:1,i=t.segments.length-1+r;return HV(t,i,n.numberOfDoubleDots)}function HV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new Ss(r,!1,i-o)}function GV(n){return xc(n[0])?n[0].outlets:{[ye]:n}}function lS(n,e,t){if(n??=new Ue([],{}),n.segments.length===0&&n.hasChildren())return Cc(n,e,t);let r=WV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ue(n.segments.slice(0,r.pathIndex),{});return o.children[ye]=new Ue(n.segments.slice(r.pathIndex),n.children),Cc(o,0,i)}else return r.match&&i.length===0?new Ue(n.segments,{}):r.match&&!n.hasChildren()?Uv(n,e,t):r.match?Cc(n,0,i):Uv(n,e,t)}function Cc(n,e,t){if(t.length===0)return new Ue(n.segments,{});{let r=GV(t),i={};if(Object.keys(r).some(o=>o!==ye)&&n.children[ye]&&n.numberOfChildren===1&&n.children[ye].segments.length===0){let o=Cc(n.children[ye],e,t);return new Ue(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=lS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ue(n.segments,i)}}function WV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(xc(a))break;let l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!GT(l,u,s))return o;r+=2}else{if(!GT(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Uv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(xc(o)){let l=KV(o.outlets);return new Ue(r,l)}if(i===0&&ih(t[0])){let l=n.segments[e];r.push(new uo(l.path,HT(t[0]))),i++;continue}let s=xc(o)?o.outlets[ye]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&ih(a)?(r.push(new uo(s,HT(a))),i+=2):(r.push(new uo(s,{})),i++)}return new Ue(r,{})}function KV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Uv(new Ue([],{}),0,r))}),e}function HT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function GT(n,e,t){return n==t.path&&pr(e,t.parameters)}var Dc="imperative",bt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(bt||{}),On=class{constructor(e,t){this.id=e,this.url=t}},Rc=class extends On{constructor(e,t,r="imperative",i=null){super(e,t),this.type=bt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fo=class extends On{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=bt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_n=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(_n||{}),Bv=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Bv||{}),qr=class extends On{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=bt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},po=class extends On{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=bt.NavigationSkipped}},Mc=class extends On{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=bt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sh=class extends On{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=bt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$v=class extends On{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=bt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qv=class extends On{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=bt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zv=class extends On{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=bt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hv=class extends On{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=bt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gv=class{constructor(e){this.route=e,this.type=bt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wv=class{constructor(e){this.route=e,this.type=bt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kv=class{constructor(e){this.snapshot=e,this.type=bt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qv=class{constructor(e){this.snapshot=e,this.type=bt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yv=class{constructor(e){this.snapshot=e,this.type=bt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jv=class{constructor(e){this.snapshot=e,this.type=bt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Pc=class{},Ms=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function QV(n,e){return n.providers&&!n._injector&&(n._injector=cv(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Zn(n){return n.outlet||ye}function YV(n,e){let t=n.filter(r=>Zn(r)===e);return t.push(...n.filter(r=>Zn(r)!==e)),t}function Vc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Zv=class{get injector(){return Vc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new fh(this.rootInjector),this.attachRef=null}},fh=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Zv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(F(Jt))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ah=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Xv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Xv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ey(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ey(e,this._root).map(t=>t.value)}};function Xv(n,e){if(n===e.value)return e;for(let t of e.children){let r=Xv(n,t);if(r)return r}return null}function ey(n,e){if(n===e.value)return[e];for(let t of e.children){let r=ey(n,t);if(r.length)return r.unshift(e),r}return[]}var yn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ts(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ch=class extends ah{constructor(e,t){super(e),this.snapshot=t,uy(this,e)}toString(){return this.snapshot.toString()}};function uS(n){let e=JV(n),t=new pt([new uo("",{})]),r=new pt({}),i=new pt({}),o=new pt({}),s=new pt(""),a=new Ps(t,r,o,s,i,ye,n,e.root);return a.snapshot=e.root,new ch(new yn(a,[]),e)}function JV(n){let e={},t={},r={},i="",o=new As([],e,r,i,t,ye,n,null,{});return new uh("",new yn(o,[]))}var Ps=class{constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(pe(u=>u[Lc]))??re(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pe(e=>Rs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pe(e=>Rs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function lh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&hS(i)&&(r.resolve[Lc]=i.title),r}var As=class{get title(){return this.data?.[Lc]}constructor(e,t,r,i,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},uh=class extends ah{constructor(e,t){super(t),this.url=e,uy(this,t)}toString(){return dS(this._root)}};function uy(n,e){e.value._routerState=n,e.children.forEach(t=>uy(n,t))}function dS(n){let e=n.children.length>0?` { ${n.children.map(dS).join(", ")} } `:"";return`${n.value}${e}`}function Ov(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,pr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),pr(e.params,t.params)||n.paramsSubject.next(t.params),CV(e.url,t.url)||n.urlSubject.next(t.url),pr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ty(n,e){let t=pr(n.params,e.params)&&AV(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ty(n.parent,e.parent))}function hS(n){return typeof n.title=="string"||n.title===null}var dy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ye,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=V(fh),this.location=V(Rn),this.changeDetector=V(fr),this.inputBinder=V(hy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ny(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Re({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mn]})}}return n})(),ny=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ps?this.route:e===fh?this.childContexts:this.parent.get(e,t)}},hy=new H("");function ZV(n,e,t){let r=Nc(n,e._root,t?t._root:void 0);return new ch(r,e)}function Nc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=XV(n,e,t);return new yn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Nc(n,a)),s}}let r=ej(e.value),i=e.children.map(o=>Nc(n,o));return new yn(r,i)}}function XV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Nc(n,r,i);return Nc(n,r)})}function ej(n){return new Ps(new pt(n.url),new pt(n.params),new pt(n.queryParams),new pt(n.fragment),new pt(n.data),n.outlet,n.component,n)}var Oc=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},fS="ngNavigationCancelingError";function dh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ac(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=pS(!1,_n.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function pS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[fS]=!0,t.cancellationCode=e,t}function tj(n){return mS(n)&&Ac(n.url)}function mS(n){return!!n&&n[fS]}var nj=(n,e,t,r)=>pe(i=>(new ry(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ry=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ov(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ts(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ts(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ts(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ts(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Jv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Qv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Ov(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ov(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},hh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},xs=class{constructor(e,t){this.component=e,this.route=t}};function rj(n,e,t){let r=n._root,i=e?e._root:null;return wc(r,i,t,[r.value])}function ij(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Os(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!wb(n)?n:e.get(n):r}function wc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ts(e);return n.children.forEach(s=>{oj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Tc(a,t.getContext(s),i)),i}function oj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=sj(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new hh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?wc(n,e,a?a.children:null,r,i):wc(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xs(a.outlet.component,s))}else s&&Tc(e,a,i),i.canActivateChecks.push(new hh(r)),o.component?wc(n,null,a?a.children:null,r,i):wc(n,null,t,r,i);return i}function sj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ho(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ho(n.url,e.url)||!pr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ty(n,e)||!pr(n.queryParams,e.queryParams);case"paramsChange":default:return!ty(n,e)}}function Tc(n,e,t){let r=Ts(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Tc(s,e.children.getContext(o),t):Tc(s,null,t):Tc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new xs(e.outlet.component,i)):t.canDeactivateChecks.push(new xs(null,i)):t.canDeactivateChecks.push(new xs(null,i))}function jc(n){return typeof n=="function"}function aj(n){return typeof n=="boolean"}function cj(n){return n&&jc(n.canLoad)}function lj(n){return n&&jc(n.canActivate)}function uj(n){return n&&jc(n.canActivateChild)}function dj(n){return n&&jc(n.canDeactivate)}function hj(n){return n&&jc(n.canMatch)}function gS(n){return n instanceof Mr||n?.name==="EmptyError"}var eh=Symbol("INITIAL_VALUE");function Ns(){return hn(n=>Mu(n.map(e=>e.pipe(Kt(1),Pr(eh)))).pipe(pe(e=>{for(let t of e)if(t!==!0){if(t===eh)return eh;if(t===!1||fj(t))return t}return!0}),Je(e=>e!==eh),Kt(1)))}function fj(n){return Ac(n)||n instanceof Oc}function pj(n,e){return at(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?re(ne(L({},t),{guardsResult:!0})):mj(s,r,i,n).pipe(at(a=>a&&aj(a)?gj(r,o,n,e):re(a)),pe(a=>ne(L({},t),{guardsResult:a})))})}function mj(n,e,t,r){return Ye(n).pipe(at(i=>Ij(i.component,i.route,t,e,r)),qn(i=>i!==!0,!0))}function gj(n,e,t,r){return Ye(e).pipe(Hi(i=>ns(yj(i.route.parent,r),vj(i.route,r),Ej(n,i.path,t),_j(n,i.route,t))),qn(i=>i!==!0,!0))}function vj(n,e){return n!==null&&e&&e(new Yv(n)),re(!0)}function yj(n,e){return n!==null&&e&&e(new Kv(n)),re(!0)}function _j(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return re(!0);let i=r.map(o=>li(()=>{let s=Vc(e)??t,a=Os(o,s),l=lj(a)?a.canActivate(e,n):ur(s,()=>a(e,n));return bi(l).pipe(qn())}));return re(i).pipe(Ns())}function Ej(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>ij(s)).filter(s=>s!==null).map(s=>li(()=>{let a=s.guards.map(l=>{let u=Vc(s.node)??t,h=Os(l,u),p=uj(h)?h.canActivateChild(r,n):ur(u,()=>h(r,n));return bi(p).pipe(qn())});return re(a).pipe(Ns())}));return re(o).pipe(Ns())}function Ij(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return re(!0);let s=o.map(a=>{let l=Vc(e)??i,u=Os(a,l),h=dj(u)?u.canDeactivate(n,e,t,r):ur(l,()=>u(n,e,t,r));return bi(h).pipe(qn())});return re(s).pipe(Ns())}function wj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return re(!0);let o=i.map(s=>{let a=Os(s,n),l=cj(a)?a.canLoad(e,t):ur(n,()=>a(e,t));return bi(l)});return re(o).pipe(Ns(),vS(r))}function vS(n){return fu(it(e=>{if(typeof e!="boolean")throw dh(n,e)}),pe(e=>e===!0))}function bj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return re(!0);let o=i.map(s=>{let a=Os(s,n),l=hj(a)?a.canMatch(e,t):ur(n,()=>a(e,t));return bi(l)});return re(o).pipe(Ns(),vS(r))}var kc=class{constructor(e){this.segmentGroup=e||null}},Fc=class extends Error{constructor(e){super(),this.urlTree=e}};function Ds(n){return es(new kc(n))}function Cj(n){return es(new Q(4e3,!1))}function Dj(n){return es(pS(!1,_n.GuardRejected))}var iy=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return re(r);if(i.numberOfChildren>1||!i.children[ye])return Cj(`${e.redirectTo}`);i=i.children[ye]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:u,routeConfig:h,url:p,outlet:v,params:_,data:A,title:O}=i,k=ur(o,()=>a({params:_,data:A,queryParams:l,fragment:u,routeConfig:h,url:p,outlet:v,title:O}));if(k instanceof zr)throw new Fc(k);t=k}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Fc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new zr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Ue(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},oy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tj(n,e,t,r,i){let o=yS(n,e,t);return o.matched?(r=QV(e,r),bj(r,e,t,i).pipe(pe(s=>s===!0?o:L({},oy)))):re(o)}function yS(n,e,t){if(e.path==="**")return Sj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},oy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||bV)(t,n,e);if(!i)return L({},oy);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Sj(n){return{matched:!0,parameters:n.length>0?JT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function WT(n,e,t,r){return t.length>0&&Rj(n,t,r)?{segmentGroup:new Ue(e,xj(r,new Ue(t,n.children))),slicedSegments:[]}:t.length===0&&Mj(n,t,r)?{segmentGroup:new Ue(n.segments,Aj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ue(n.segments,n.children),slicedSegments:t}}function Aj(n,e,t,r){let i={};for(let o of t)if(ph(n,e,o)&&!r[Zn(o)]){let s=new Ue([],{});i[Zn(o)]=s}return L(L({},r),i)}function xj(n,e){let t={};t[ye]=e;for(let r of n)if(r.path===""&&Zn(r)!==ye){let i=new Ue([],{});t[Zn(r)]=i}return t}function Rj(n,e,t){return t.some(r=>ph(n,e,r)&&Zn(r)!==ye)}function Mj(n,e,t){return t.some(r=>ph(n,e,r))}function ph(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Pj(n,e,t){return e.length===0&&!n.children[t]}var sy=class{};function Nj(n,e,t,r,i,o,s="emptyOnly"){return new ay(n,e,t,r,i,s,o).recognize()}var Oj=31,ay=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new iy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=WT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(pe(({children:t,rootSnapshot:r})=>{let i=new yn(r,t),o=new uh("",i),s=$V(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new As([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ye,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ye,t).pipe(pe(r=>({children:r,rootSnapshot:t})),ui(r=>{if(r instanceof Fc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof kc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(pe(s=>s instanceof yn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ye(o).pipe(Hi(s=>{let a=r.children[s],l=YV(t,s);return this.processSegmentGroup(e,l,a,s,i)}),Ou((s,a)=>(s.push(...a),s)),di(null),sm(),at(s=>{if(s===null)return Ds(r);let a=_S(s);return kj(a),re(a)}))}processSegment(e,t,r,i,o,s,a){return Ye(t).pipe(Hi(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(ui(u=>{if(u instanceof kc)return re(null);throw u}))),qn(l=>!!l),ui(l=>{if(gS(l))return Pj(r,i,o)?re(new sy):Ds(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Zn(r)!==s&&(s===ye||!ph(i,o,r))?Ds(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):Ds(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:v}=yS(t,i,o);if(!l)return Ds(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Oj&&(this.allowRedirects=!1));let _=new As(o,u,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,KT(i),Zn(i),i.component??i._loadedComponent??null,i,QT(i)),A=lh(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(A.params),_.data=Object.freeze(A.data);let O=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,_,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(at(k=>this.processSegment(e,r,t,k.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Tj(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(hn(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(hn(({routes:u})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:v,remainingSegments:_}=l,A=new As(v,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,KT(r),Zn(r),r.component??r._loadedComponent??null,r,QT(r)),O=lh(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(O.params),A.data=Object.freeze(O.data);let{segmentGroup:k,slicedSegments:z}=WT(t,v,_,u);if(z.length===0&&k.hasChildren())return this.processChildren(h,u,k,A).pipe(pe(ee=>new yn(A,ee)));if(u.length===0&&z.length===0)return re(new yn(A,[]));let X=Zn(r)===o;return this.processSegment(h,u,k,z,X?ye:o,!0,A).pipe(pe(ee=>new yn(A,ee instanceof yn?[ee]:[])))}))):Ds(t)))}getChildConfig(e,t,r){return t.children?re({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?re({routes:t._loadedRoutes,injector:t._loadedInjector}):wj(e,t,r,this.urlSerializer).pipe(at(i=>i?this.configLoader.loadChildren(e,t).pipe(it(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Dj(t))):re({routes:[],injector:e})}};function kj(n){n.sort((e,t)=>e.value.outlet===ye?-1:t.value.outlet===ye?1:e.value.outlet.localeCompare(t.value.outlet))}function Fj(n){let e=n.value.routeConfig;return e&&e.path===""}function _S(n){let e=[],t=new Set;for(let r of n){if(!Fj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=_S(r.children);e.push(new yn(r.value,i))}return e.filter(r=>!t.has(r))}function KT(n){return n.data||{}}function QT(n){return n.resolve||{}}function Lj(n,e,t,r,i,o){return at(s=>Nj(n,e,t,r,s.extractedUrl,i,o).pipe(pe(({state:a,tree:l})=>ne(L({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Vj(n,e){return at(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return re(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of ES(l))s.add(u);let a=0;return Ye(s).pipe(Hi(l=>o.has(l)?jj(l,r,n,e):(l.data=lh(l,l.parent,n).resolve,re(void 0))),it(()=>a++),is(1),at(l=>a===s.size?re(t):Ut))})}function ES(n){let e=n.children.map(t=>ES(t)).flat();return[n,...e]}function jj(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!hS(i)&&(o[Lc]=i.title),Uj(o,n,e,r).pipe(pe(s=>(n._resolvedData=s,n.data=lh(n,n.parent,t).resolve,null)))}function Uj(n,e,t,r){let i=Lv(n);if(i.length===0)return re({});let o={};return Ye(i).pipe(at(s=>Bj(n[s],e,t,r).pipe(qn(),it(a=>{if(a instanceof Oc)throw dh(new Sc,a);o[s]=a}))),is(1),om(o),ui(s=>gS(s)?Ut:es(s)))}function Bj(n,e,t,r){let i=Vc(e)??r,o=Os(n,i),s=o.resolve?o.resolve(e,t):ur(i,()=>o(e,t));return bi(s)}function kv(n){return hn(e=>{let t=n(e);return t?Ye(t).pipe(pe(()=>e)):re(e)})}var IS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ye);return r}getResolvedTitleForRoute(t){return t.data[Lc]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>V($j),providedIn:"root"})}}return n})(),$j=(()=>{class n extends IS{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(F(BT))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fy=new H("",{providedIn:"root",factory:()=>({})}),qj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=be({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ce],decls:1,vars:0,template:function(r,i){r&1&&G(0,"router-outlet")},dependencies:[dy],encapsulation:2})}}return n})();function py(n){let e=n.children&&n.children.map(py),t=e?ne(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ye&&(t.component=qj),t}var my=new H(""),zj=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(gv)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return re(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=bi(t.loadComponent()).pipe(pe(wS),it(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),rs(()=>{this.componentLoaders.delete(t)})),i=new Ko(r,()=>new _e).pipe(Wo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Hj(r,this.compiler,t,this.onLoadEndListener).pipe(rs(()=>{this.childrenLoaders.delete(r)})),s=new Ko(o,()=>new _e).pipe(Wo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Hj(n,e,t,r){return bi(n.loadChildren()).pipe(pe(wS),at(i=>i instanceof oc||Array.isArray(i)?re(i):Ye(e.compileModuleAsync(i))),pe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(my,[],{optional:!0,self:!0}).flat()),{routes:s.map(py),injector:o}}))}function Gj(n){return n&&typeof n=="object"&&"default"in n}function wS(n){return Gj(n)?n.default:n}var gy=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>V(Wj),providedIn:"root"})}}return n})(),Wj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Kj=new H("");var Qj=new H(""),Yj=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _e,this.transitionAbortSubject=new _e,this.configLoader=V(zj),this.environmentInjector=V(Jt),this.urlSerializer=V(ly),this.rootContexts=V(fh),this.location=V(ct),this.inputBindingEnabled=V(hy,{optional:!0})!==null,this.titleStrategy=V(IS),this.options=V(fy,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(gy),this.createViewTransition=V(Kj,{optional:!0}),this.navigationErrorHandler=V(Qj,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>re(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Gv(i)),r=i=>this.events.next(new Wv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ne(L(L({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new pt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Dc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Je(o=>o.id!==0),pe(o=>ne(L({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),hn(o=>{let s=!1,a=!1;return re(o).pipe(hn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",_n.SupersededByNewNavigation),Ut;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ne(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&h!=="reload"){let p="";return this.events.next(new po(l.id,this.urlSerializer.serialize(l.rawUrl),p,Bv.IgnoredSameUrlNavigation)),l.resolve(!1),Ut}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return re(l).pipe(hn(p=>{let v=this.transitions?.getValue();return this.events.next(new Rc(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),v!==this.transitions?.getValue()?Ut:Promise.resolve(p)}),Lj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),it(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ne(L({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let v=new sh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:v,source:_,restoredState:A,extras:O}=l,k=new Rc(p,this.urlSerializer.serialize(v),_,A);this.events.next(k);let z=uS(this.rootComponentType).snapshot;return this.currentTransition=o=ne(L({},l),{targetSnapshot:z,urlAfterRedirects:v,extras:ne(L({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,re(o)}else{let p="";return this.events.next(new po(l.id,this.urlSerializer.serialize(l.extractedUrl),p,Bv.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ut}}),it(l=>{let u=new $v(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),pe(l=>(this.currentTransition=o=ne(L({},l),{guards:rj(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),pj(this.environmentInjector,l=>this.events.next(l)),it(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw dh(this.urlSerializer,l.guardsResult);let u=new qv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Je(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",_n.GuardRejected),!1)),kv(l=>{if(l.guards.canActivateChecks.length)return re(l).pipe(it(u=>{let h=new zv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),hn(u=>{let h=!1;return re(u).pipe(Vj(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",_n.NoDataFromResolver)}}))}),it(u=>{let h=new Hv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),kv(l=>{let u=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(it(v=>{h.component=v}),pe(()=>{})));for(let v of h.children)p.push(...u(v));return p};return Mu(u(l.targetSnapshot.root)).pipe(di(null),Kt(1))}),kv(()=>this.afterPreactivation()),hn(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return h?Ye(h).pipe(pe(()=>o)):re(o)}),pe(l=>{let u=ZV(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ne(L({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),it(()=>{this.events.next(new Pc)}),nj(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Kt(1),it({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),hi(this.transitionAbortSubject.pipe(it(l=>{throw l}))),rs(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",_n.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ui(l=>{if(a=!0,mS(l))this.events.next(new qr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),tj(l)?this.events.next(new Ms(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Mc(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let h=ur(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(h instanceof Oc){let{message:p,cancellationCode:v}=dh(this.urlSerializer,h);this.events.next(new qr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,v)),this.events.next(new Ms(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(u);let p=t.errorHandler(l);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Ut}))}))}cancelNavigationTransition(t,r,i){let o=new qr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Jj(n){return n!==Dc}var Zj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>V(Xj),providedIn:"root"})}}return n})(),cy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Xj=(()=>{class n extends cy{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})()}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>V(e2),providedIn:"root"})}}return n})(),e2=(()=>{class n extends bS{constructor(){super(...arguments),this.location=V(ct),this.urlSerializer=V(ly),this.options=V(fy,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(gy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new zr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=uS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Rc)this.stateMemento=this.createStateMemento();else if(t instanceof po)this.rawUrlTree=r.initialUrl;else if(t instanceof sh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Pc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof qr&&(t.code===_n.GuardRejected||t.code===_n.NoDataFromResolver)?this.restoreHistory(r):t instanceof Mc?this.restoreHistory(r,!0):t instanceof fo&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof zr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=L(L({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})()}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(bc||{});function t2(n,e){n.events.pipe(Je(t=>t instanceof fo||t instanceof qr||t instanceof Mc||t instanceof po),pe(t=>t instanceof fo||t instanceof po?bc.COMPLETE:(t instanceof qr?t.code===_n.Redirect||t.code===_n.SupersededByNewNavigation:!1)?bc.REDIRECTING:bc.FAILED),Je(t=>t!==bc.REDIRECTING),Kt(1)).subscribe(()=>{e()})}function n2(n){throw n}var r2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},i2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=V(Bd),this.stateManager=V(bS),this.options=V(fy,{optional:!0})||{},this.pendingTasks=V(io),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(Yj),this.urlSerializer=V(ly),this.location=V(ct),this.urlHandlingStrategy=V(gy),this._events=new _e,this.errorHandler=this.options.errorHandler||n2,this.navigated=!1,this.routeReuseStrategy=V(Zj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(my,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(hy,{optional:!0}),this.eventsSubscription=new Ge,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof qr&&r.code!==_n.Redirect&&r.code!==_n.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof fo)this.navigated=!0;else if(r instanceof Ms){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Jj(i.source)},s);this.scheduleNavigation(a,Dc,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}s2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=L({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(py),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let v=i?i.snapshot:this.routerState.snapshot.root;p=sS(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return aS(p,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ac(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Dc,null,r)}navigate(t,r={skipLocationChange:!1}){return o2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},r2):r===!1?i=L({},i2):i=r,Ac(t))return qT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return qT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((p,v)=>{a=p,l=v});let h=this.pendingTasks.add();return t2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function o2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Q(4008,!1)}function s2(n){return!(n instanceof Pc)&&!(n instanceof Ms)}var a2=new H("");function CS(n,...e){return Qn([{provide:my,multi:!0,useValue:n},[],{provide:Ps,useFactory:c2,deps:[mr]},{provide:bs,multi:!0,useFactory:l2},e.map(t=>t.\u0275providers)])}function c2(n){return n.routerState.root}function l2(){let n=V(Ve);return e=>{let t=n.get(Pn);if(e!==t.components[0])return;let r=n.get(mr),i=n.get(u2);n.get(d2)===1&&r.initialNavigation(),n.get(h2,null,we.Optional)?.setUpPreloading(),n.get(a2,null,we.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var u2=new H("",{factory:()=>new _e}),d2=new H("",{providedIn:"root",factory:()=>1});var h2=new H("");var OS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(N(xn),N(Be))}}static{this.\u0275dir=Re({type:n})}}return n})(),Hc=(()=>{class n extends OS{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})()}static{this.\u0275dir=Re({type:n,features:[Xe]})}}return n})(),go=new H(""),f2={provide:go,useExisting:qt(()=>Iy),multi:!0},Iy=(()=>{class n extends Hc{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})()}static{this.\u0275dir=Re({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&W("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Pt([f2]),Xe]})}}return n})(),p2={provide:go,useExisting:qt(()=>Nt),multi:!0};function m2(){let n=$r()?$r().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var g2=new H(""),Nt=(()=>{class n extends OS{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!m2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(N(xn),N(Be),N(g2,8))}}static{this.\u0275dir=Re({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&W("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Pt([p2]),Xe]})}}return n})();function Ci(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function kS(n){return n!=null&&typeof n.length=="number"}var vo=new H(""),js=new H(""),v2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,fe=class{static min(e){return y2(e)}static max(e){return _2(e)}static required(e){return FS(e)}static requiredTrue(e){return E2(e)}static email(e){return I2(e)}static minLength(e){return w2(e)}static maxLength(e){return b2(e)}static pattern(e){return C2(e)}static nullValidator(e){return vh(e)}static compose(e){return $S(e)}static composeAsync(e){return qS(e)}};function y2(n){return e=>{if(Ci(e.value)||Ci(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function _2(n){return e=>{if(Ci(e.value)||Ci(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function FS(n){return Ci(n.value)?{required:!0}:null}function E2(n){return n.value===!0?null:{required:!0}}function I2(n){return Ci(n.value)||v2.test(n.value)?null:{email:!0}}function w2(n){return e=>Ci(e.value)||!kS(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function b2(n){return e=>kS(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function C2(n){if(!n)return vh;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ci(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function vh(n){return null}function LS(n){return n!=null}function VS(n){return ao(n)?Ye(n):n}function jS(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function US(n,e){return e.map(t=>t(n))}function D2(n){return!n.validate}function BS(n){return n.map(e=>D2(e)?e:t=>e.validate(t))}function $S(n){if(!n)return null;let e=n.filter(LS);return e.length==0?null:function(t){return jS(US(t,e))}}function wy(n){return n!=null?$S(BS(n)):null}function qS(n){if(!n)return null;let e=n.filter(LS);return e.length==0?null:function(t){let r=US(t,e).map(VS);return im(r).pipe(pe(jS))}}function by(n){return n!=null?qS(BS(n)):null}function DS(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function zS(n){return n._rawValidators}function HS(n){return n._rawAsyncValidators}function vy(n){return n?Array.isArray(n)?n:[n]:[]}function yh(n,e){return Array.isArray(n)?n.includes(e):n===e}function TS(n,e){let t=vy(e);return vy(n).forEach(i=>{yh(t,i)||t.push(i)}),t}function SS(n,e){return vy(e).filter(t=>!yh(n,t))}var _h=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=by(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ht=class extends _h{get formDirective(){return null}get path(){return null}},mo=class extends _h{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Eh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},T2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},w7=ne(L({},T2),{"[class.ng-submitted]":"isSubmitted"}),ut=(()=>{class n extends Eh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(N(mo,2))}}static{this.\u0275dir=Re({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&oo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Xe]})}}return n})(),nn=(()=>{class n extends Eh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(N(Ht,10))}}static{this.\u0275dir=Re({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&oo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Xe]})}}return n})();var Uc="VALID",gh="INVALID",ks="PENDING",Bc="DISABLED",Di=class{},Ih=class extends Di{constructor(e,t){super(),this.value=e,this.source=t}},qc=class extends Di{constructor(e,t){super(),this.pristine=e,this.source=t}},zc=class extends Di{constructor(e,t){super(),this.touched=e,this.source=t}},Fs=class extends Di{constructor(e,t){super(),this.status=e,this.source=t}},yy=class extends Di{constructor(e){super(),this.source=e}},_y=class extends Di{constructor(e){super(),this.source=e}};function Cy(n){return(Dh(n)?n.validators:n)||null}function S2(n){return Array.isArray(n)?wy(n):n||null}function Dy(n,e){return(Dh(e)?e.asyncValidators:n)||null}function A2(n){return Array.isArray(n)?by(n):n||null}function Dh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function GS(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[t])throw new Q(1001,"")}function WS(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Q(1002,"")})}var Ls=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Cs(()=>this.statusReactive()),this.statusReactive=ws(void 0),this._pristine=Cs(()=>this.pristineReactive()),this.pristineReactive=ws(!0),this._touched=Cs(()=>this.touchedReactive()),this.touchedReactive=ws(!1),this._events=new _e,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Nn(this.statusReactive)}set status(e){Nn(()=>this.statusReactive.set(e))}get valid(){return this.status===Uc}get invalid(){return this.status===gh}get pending(){return this.status==ks}get disabled(){return this.status===Bc}get enabled(){return this.status!==Bc}get pristine(){return Nn(this.pristineReactive)}set pristine(e){Nn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Nn(this.touchedReactive)}set touched(e){Nn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SS(e,this._rawAsyncValidators))}hasValidator(e){return yh(this._rawValidators,e)}hasAsyncValidator(e){return yh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ne(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new zc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new zc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ne(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new qc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new qc(!0,r))}markAsPending(e={}){this.status=ks;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ne(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Bc,this.errors=null,this._forEachChild(i=>{i.disable(ne(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ih(this.value,r)),this._events.next(new Fs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ne(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Uc,this._forEachChild(r=>{r.enable(ne(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ne(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uc||this.status===ks)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ih(this.value,t)),this._events.next(new Fs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ne(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bc:Uc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ks,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=VS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Fs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?Bc:this.errors?gh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ks)?ks:this._anyControlsHaveStatus(gh)?gh:Uc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new qc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new zc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=S2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=A2(this._rawAsyncValidators)}},vt=class extends Ls{constructor(e,t,r){super(Cy(t),Dy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){WS(this,!0,e),Object.keys(e).forEach(r=>{GS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ey=class extends vt{};var Gc=new H("CallSetDisabledState",{providedIn:"root",factory:()=>Th}),Th="always";function Sh(n,e){return[...e.path,n]}function wh(n,e,t=Th){Ty(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),R2(n,e),P2(n,e),M2(n,e),x2(n,e)}function AS(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ch(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function bh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function x2(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Ty(n,e){let t=zS(n);e.validator!==null?n.setValidators(DS(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=HS(n);e.asyncValidator!==null?n.setAsyncValidators(DS(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();bh(e._rawValidators,i),bh(e._rawAsyncValidators,i)}function Ch(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=zS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=HS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return bh(e._rawValidators,r),bh(e._rawAsyncValidators,r),t}function R2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&KS(n,e)})}function M2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&KS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function KS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function P2(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function QS(n,e){n==null,Ty(n,e)}function N2(n,e){return Ch(n,e)}function YS(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function O2(n){return Object.getPrototypeOf(n.constructor)===Hc}function JS(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ZS(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Nt?t=o:O2(o)?r=o:i=o}),i||r||t||null}function k2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var F2={provide:Ht,useExisting:qt(()=>Sy)},$c=Promise.resolve(),Sy=(()=>{class n extends Ht{get submitted(){return Nn(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Cs(()=>this.submittedReactive()),this.submittedReactive=ws(!1),this._directives=new Set,this.ngSubmit=new Fe,this.form=new vt({},wy(t),by(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){$c.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),wh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){$c.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){$c.then(()=>{let r=this._findContainer(t.path),i=new vt({});QS(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){$c.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){$c.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),JS(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(N(vo,10),N(js,10),N(Gc,8))}}static{this.\u0275dir=Re({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&W("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Pt([F2]),Xe]})}}return n})();function xS(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function RS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Z=class extends Ls{constructor(e=null,t,r){super(Cy(t),Dy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(RS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){RS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var L2=n=>n instanceof Z,V2=(()=>{class n extends Ht{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Sh(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})()}static{this.\u0275dir=Re({type:n,features:[Xe]})}}return n})();var j2={provide:mo,useExisting:qt(()=>Hr)},MS=Promise.resolve(),Hr=(()=>{class n extends mo{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Z,this._registered=!1,this.name="",this.update=new Fe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ZS(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),YS(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){MS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&co(r);MS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Sh(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(N(Ht,9),N(vo,10),N(js,10),N(go,10),N(fr,8),N(Gc,8))}}static{this.\u0275dir=Re({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Pt([j2]),Xe,mn]})}}return n})(),rn=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Re({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),U2={provide:go,useExisting:qt(()=>En),multi:!0},En=(()=>{class n extends Hc{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})()}static{this.\u0275dir=Re({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&W("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Pt([U2]),Xe]})}}return n})();var XS=new H("");var B2={provide:Ht,useExisting:qt(()=>on)},on=(()=>{class n extends Ht{get submitted(){return Nn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Cs(()=>this._submittedReactive()),this._submittedReactive=ws(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ch(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return wh(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){AS(t.control||null,t,!1),k2(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),JS(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new yy(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new _y(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(AS(r||null,t),L2(i)&&(wh(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);QS(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&N2(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ty(this.form,this),this._oldForm&&Ch(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(N(vo,10),N(js,10),N(Gc,8))}}static{this.\u0275dir=Re({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&W("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Pt([B2]),Xe,mn]})}}return n})(),$2={provide:Ht,useExisting:qt(()=>Us)},Us=(()=>{class n extends V2{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){eA(this._parent)}static{this.\u0275fac=function(r){return new(r||n)(N(Ht,13),N(vo,10),N(js,10))}}static{this.\u0275dir=Re({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Pt([$2]),Xe]})}}return n})(),q2={provide:Ht,useExisting:qt(()=>Bs)},Bs=(()=>{class n extends Ht{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Sh(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){eA(this._parent)}static{this.\u0275fac=function(r){return new(r||n)(N(Ht,13),N(vo,10),N(js,10))}}static{this.\u0275dir=Re({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Pt([q2]),Xe]})}}return n})();function eA(n){return!(n instanceof Us)&&!(n instanceof on)&&!(n instanceof Bs)}var z2={provide:mo,useExisting:qt(()=>In)},In=(()=>{class n extends mo{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ZS(this,o)}ngOnChanges(t){this._added||this._setUpControl(),YS(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Sh(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(N(Ht,13),N(vo,10),N(js,10),N(go,10),N(XS,8))}}static{this.\u0275dir=Re({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Pt([z2]),Xe,mn]})}}return n})(),H2={provide:go,useExisting:qt(()=>kn),multi:!0};function tA(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function G2(n){return n.split(":")[0]}var kn=(()=>{class n extends Hc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=tA(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=G2(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})()}static{this.\u0275dir=Re({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&W("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pt([H2]),Xe]})}}return n})(),sn=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(tA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(N(Be),N(xn),N(kn,9))}}static{this.\u0275dir=Re({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),W2={provide:go,useExisting:qt(()=>nA),multi:!0};function PS(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function K2(n){return n.split(":")[0]}var nA=(()=>{class n extends Hc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=K2(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})()}static{this.\u0275dir=Re({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&W("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pt([W2]),Xe]})}}return n})(),an=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(PS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(PS(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(N(Be),N(xn),N(nA,9))}}static{this.\u0275dir=Re({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var Q2=(()=>{class n{constructor(){this._validator=vh}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):vh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Re({type:n,features:[mn]})}}return n})();var Y2={provide:vo,useExisting:qt(()=>Xn),multi:!0};var Xn=(()=>{class n extends Q2{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=co,this.createValidator=t=>FS}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})()}static{this.\u0275dir=Re({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&jr("required",i._enabled?"":null)},inputs:{required:"required"},features:[Pt([Y2]),Xe]})}}return n})();var rA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mt({type:n})}static{this.\u0275inj=Rt({})}}return n})(),Vs=class extends Ls{constructor(e,t,r){super(Cy(t),Dy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){WS(this,!1,e),e.forEach((r,i)=>{GS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function NS(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var iA=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return NS(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new vt(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Ey(i,r)}control(t,r,i){let o={};return this.useNonNullable?(NS(r)?o=r:(o.validators=r,o.asyncValidators=i),new Z(t,ne(L({},o),{nonNullable:!0}))):new Z(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Vs(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Z)return t;if(t instanceof Ls)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var cn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Gc,useValue:t.callSetDisabledState??Th}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mt({type:n})}static{this.\u0275inj=Rt({imports:[rA]})}}return n})(),Fn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:XS,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Gc,useValue:t.callSetDisabledState??Th}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mt({type:n})}static{this.\u0275inj=Rt({imports:[rA]})}}return n})();var sA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},J2=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},aA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,v=(a&15)<<2|u>>6,_=u&63;l||(_=64,s||(v=64)),r.push(t[h],t[p],t[v],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(sA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):J2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new xy;let v=o<<2|a>>4;if(r.push(v),u!==64){let _=a<<4&240|u>>2;if(r.push(_),p!==64){let A=u<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},xy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Z2=function(n){let e=sA(n);return aA.encodeByteArray(e,!0)},Wc=function(n){return Z2(n).replace(/\./g,"")},My=function(n){try{return aA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function X2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var eU=()=>X2().__FIREBASE_DEFAULTS__,tU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&My(n[1]);return e&&JSON.parse(e)},xh=()=>{try{return eU()||tU()||nU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},cA=n=>{var e,t;return(t=(e=xh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},lA=n=>{let e=cA(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Py=()=>{var n;return(n=xh())===null||n===void 0?void 0:n.config},uA=n=>{var e;return(e=xh())===null||e===void 0?void 0:e[`_${n}`]};var Ah=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function dA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Wc(JSON.stringify(t)),Wc(JSON.stringify(s)),""].join(".")}function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function rU(){var n;let e=(n=xh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pA(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gA(){return!rU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ny(){try{return typeof indexedDB=="object"}catch{return!1}}function vA(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var iU="FirebaseError",Ln=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=iU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gr.prototype.create)}},Gr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?oU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ln(i,a,r)}};function oU(n,e){return n.replace(sU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var sU=/\{\$([^}]+)}/g;function $s(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(oA(o)&&oA(s)){if(!$s(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function oA(n){return n!==null&&typeof n=="object"}function Oy(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yA(n,e){let t=new Ry(n,e);return t.subscribe.bind(t)}var Ry=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");aU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ay),i.error===void 0&&(i.error=Ay),i.complete===void 0&&(i.complete=Ay);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function aU(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ay(){}var D7=4*60*60*1e3;function Vn(n){return n&&n._delegate?n._delegate:n}var jn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var yo="[DEFAULT]";var ky=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ah;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lU(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return R(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cU(n){return n===yo?void 0:n}function lU(n){return n.instantiationMode==="EAGER"}var Rh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ky(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var uU=[],Se=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Se||{}),dU={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},hU=Se.INFO,fU={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},pU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=fU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ti=class{constructor(e){this.name=e,this._logLevel=hU,this._logHandler=pU,this._userLogHandler=null,uU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}};var mU=(n,e)=>e.some(t=>n instanceof t),_A,EA;function gU(){return _A||(_A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vU(){return EA||(EA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var IA=new WeakMap,Ly=new WeakMap,wA=new WeakMap,Fy=new WeakMap,jy=new WeakMap;function yU(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(vr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&IA.set(t,n)}).catch(()=>{}),jy.set(e,n),e}function _U(n){if(Ly.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Ly.set(n,e)}var Vy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ly.get(n);if(e==="objectStoreNames")return n.objectStoreNames||wA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bA(n){Vy=n(Vy)}function EU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Mh(this),e,...t);return wA.set(r,e.sort?e.sort():[e]),vr(r)}:vU().includes(n)?function(...e){return n.apply(Mh(this),e),vr(IA.get(this))}:function(...e){return vr(n.apply(Mh(this),e))}}function IU(n){return typeof n=="function"?EU(n):(n instanceof IDBTransaction&&_U(n),mU(n,gU())?new Proxy(n,Vy):n)}function vr(n){if(n instanceof IDBRequest)return yU(n);if(Fy.has(n))return Fy.get(n);let e=IU(n);return e!==n&&(Fy.set(n,e),jy.set(e,n)),e}var Mh=n=>jy.get(n);function DA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=vr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(vr(s.result),l.oldVersion,l.newVersion,vr(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var wU=["get","getKey","getAll","getAllKeys","count"],bU=["put","add","delete","clear"],Uy=new Map;function CA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Uy.get(e))return Uy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=bU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wU.includes(t)))return;let o=function(s,...a){return R(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&l.done]))[0]})};return Uy.set(e,o),o}bA(n=>ne(L({},n),{get:(e,t,r)=>CA(e,t)||n.get(e,t,r),has:(e,t)=>!!CA(e,t)||n.has(e,t)}));var $y=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(CU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function CU(n){let e=n.getComponent();return e?.type==="VERSION"}var qy="@firebase/app",TA="0.10.13";var Wr=new Ti("@firebase/app"),DU="@firebase/app-compat",TU="@firebase/analytics-compat",SU="@firebase/analytics",AU="@firebase/app-check-compat",xU="@firebase/app-check",RU="@firebase/auth",MU="@firebase/auth-compat",PU="@firebase/database",NU="@firebase/data-connect",OU="@firebase/database-compat",kU="@firebase/functions",FU="@firebase/functions-compat",LU="@firebase/installations",VU="@firebase/installations-compat",jU="@firebase/messaging",UU="@firebase/messaging-compat",BU="@firebase/performance",$U="@firebase/performance-compat",qU="@firebase/remote-config",zU="@firebase/remote-config-compat",HU="@firebase/storage",GU="@firebase/storage-compat",WU="@firebase/firestore",KU="@firebase/vertexai-preview",QU="@firebase/firestore-compat",YU="firebase",JU="10.14.1";var zy="[DEFAULT]",ZU={[qy]:"fire-core",[DU]:"fire-core-compat",[SU]:"fire-analytics",[TU]:"fire-analytics-compat",[xU]:"fire-app-check",[AU]:"fire-app-check-compat",[RU]:"fire-auth",[MU]:"fire-auth-compat",[PU]:"fire-rtdb",[NU]:"fire-data-connect",[OU]:"fire-rtdb-compat",[kU]:"fire-fn",[FU]:"fire-fn-compat",[LU]:"fire-iid",[VU]:"fire-iid-compat",[jU]:"fire-fcm",[UU]:"fire-fcm-compat",[BU]:"fire-perf",[$U]:"fire-perf-compat",[qU]:"fire-rc",[zU]:"fire-rc-compat",[HU]:"fire-gcs",[GU]:"fire-gcs-compat",[WU]:"fire-fst",[QU]:"fire-fst-compat",[KU]:"fire-vertex","fire-js":"fire-js",[YU]:"fire-js-all"};var Kc=new Map,XU=new Map,Hy=new Map;function SA(n,e){try{n.container.addComponent(e)}catch(t){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ai(n){let e=n.name;if(Hy.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;Hy.set(e,n);for(let t of Kc.values())SA(t,n);for(let t of XU.values())SA(t,n);return!0}function Qy(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function qs(n){return n.settings!==void 0}var eB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Gr("app","Firebase",eB);var Gy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}};var zs=JU;function Yy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:zy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Si.create("bad-app-name",{appName:String(i)});if(t||(t=Py()),!t)throw Si.create("no-options");let o=Kc.get(i);if(o){if($s(t,o.options)&&$s(r,o.config))return o;throw Si.create("duplicate-app",{appName:i})}let s=new Rh(i);for(let l of Hy.values())s.addComponent(l);let a=new Gy(t,r,s);return Kc.set(i,a),a}function Yc(n=zy){let e=Kc.get(n);if(!e&&n===zy&&Py())return Yy();if(!e)throw Si.create("no-app",{appName:n});return e}function Ph(){return Array.from(Kc.values())}function yt(n,e,t){var r;let i=(r=ZU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(a.join(" "));return}Ai(new jn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var tB="firebase-heartbeat-database",nB=1,Qc="firebase-heartbeat-store",By=null;function MA(){return By||(By=DA(tB,nB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Qc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Si.create("idb-open",{originalErrorMessage:n.message})})),By}function rB(n){return R(this,null,function*(){try{let t=(yield MA()).transaction(Qc),r=yield t.objectStore(Qc).get(PA(n));return yield t.done,r}catch(e){if(e instanceof Ln)Wr.warn(e.message);else{let t=Si.create("idb-get",{originalErrorMessage:e?.message});Wr.warn(t.message)}}})}function AA(n,e){return R(this,null,function*(){try{let r=(yield MA()).transaction(Qc,"readwrite");yield r.objectStore(Qc).put(e,PA(n)),yield r.done}catch(t){if(t instanceof Ln)Wr.warn(t.message);else{let r=Si.create("idb-set",{originalErrorMessage:t?.message});Wr.warn(r.message)}}})}function PA(n){return`${n.name}!${n.options.appId}`}var iB=1024,oB=30*24*60*60*1e3,Wy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Ky(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return R(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=oB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Wr.warn(r)}})}getHeartbeatsHeader(){return R(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=xA(),{heartbeatsToSend:r,unsentEntries:i}=sB(this._heartbeatsCache.heartbeats),o=Wc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Wr.warn(t),""}})}};function xA(){return new Date().toISOString().substring(0,10)}function sB(n,e=iB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),RA(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),RA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Ky=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return R(this,null,function*(){return Ny()?vA().then(()=>!0).catch(()=>!1):!1})}read(){return R(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield rB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return R(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return R(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function RA(n){return Wc(JSON.stringify({version:2,heartbeats:n})).length}function aB(n){Ai(new jn("platform-logger",e=>new $y(e),"PRIVATE")),Ai(new jn("heartbeat",e=>new Wy(e),"PRIVATE")),yt(qy,TA,n),yt(qy,TA,"esm2017"),yt("fire-js","")}aB("");var cB="firebase",lB="10.14.1";yt(cB,lB,"app");var Gs=new Vr("ANGULARFIRE2_VERSION");function Zy(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Zc=(n,e)=>{let t=e?[e]:Ph(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Jc=class{constructor(){return Zc(uB)}},uB="app-check";function Hs(){}var Nh=class{zone;delegate;constructor(e,t=tm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},Jy=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hs,{},Hs,Hs)),t.pipe(it({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Xc=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Nh(Zone.current)),this.insideAngular=t.run(()=>new Nh(Zone.current,Zo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(F(ae))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Oh(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function dB(n){return Oh().ngZone.runOutsideAngular(()=>n())}function _o(n){return Oh().ngZone.run(()=>n())}function hB(n){return fB(Oh())(n)}function fB(n){return function(t){return t=t.lift(new Jy(n.ngZone)),t.pipe(ci(n.outsideAngular),ai(n.insideAngular))}}var pB=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),_o(()=>n.apply(void 0,r))},Un=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=_o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hs,{},Hs,Hs))),r[o]=pB(r[o],t));let i=dB(()=>n.apply(this,r));if(!e)if(i instanceof ue){let o=Oh();return i.pipe(ci(o.outsideAngular),ai(o.insideAngular))}else return _o(()=>i);return i instanceof ue?i.pipe(hB):i instanceof Promise?_o(()=>new Promise((o,s)=>i.then(a=>_o(()=>o(a)),a=>_o(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:_o(()=>i)};var Eo=class{constructor(e){return e}},el=class{constructor(){return Ph()}};function mB(n){return n&&n.length===1?n[0]:new Eo(Yc())}var Xy=new H("angularfire2._apps"),gB={provide:Eo,useFactory:mB,deps:[[new An,Xy]]},vB={provide:el,deps:[[new An,Xy]]};function yB(n){return(e,t)=>{let r=t.get(tn);yt("angularfire",Gs.full,"core"),yt("angularfire",Gs.full,"app"),yt("angular",nT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Eo(i)}}function NA(n,...e){return Qn([gB,vB,{provide:Xy,useFactory:yB(n),multi:!0,deps:[ae,Ve,Xc,...e]}])}var OA=Un(Yy,!0);function $A(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var qA=$A,zA=new Gr("auth","Firebase",$A());var Vh=new Ti("@firebase/auth");function EB(n,...e){Vh.logLevel<=Se.WARN&&Vh.warn(`Auth (${zs}): ${n}`,...e)}function Fh(n,...e){Vh.logLevel<=Se.ERROR&&Vh.error(`Auth (${zs}): ${n}`,...e)}function kA(n,...e){throw d_(n,...e)}function u_(n,...e){return d_(n,...e)}function HA(n,e,t){let r=Object.assign(Object.assign({},qA()),{[e]:t});return new Gr("auth","Firebase",r).create(e,{appName:n.name})}function Lh(n){return HA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return zA.create(n,...e)}function Le(n,e,...t){if(!n)throw d_(e,...t)}function tl(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Fh(e),new Error(e)}function jh(n,e){n||tl(e)}function IB(){return FA()==="http:"||FA()==="https:"}function FA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function wB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IB()||pA()||"connection"in navigator)?navigator.onLine:!0}function bB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var wo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,jh(t>e,"Short delay should be less than long delay!"),this.isMobile=hA()||mA()}get(){return wB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function CB(n,e){jh(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Uh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var DB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var TB=new wo(3e4,6e4);function GA(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function zh(o,s,a,l){return R(this,arguments,function*(n,e,t,r,i={}){return WA(n,i,()=>R(this,null,function*(){let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});let p=Oy(Object.assign({key:n.config.apiKey},h)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:v},u);return fA()||(_.referrerPolicy="no-referrer"),Uh.fetch()(KA(n,n.config.apiHost,t,p),_)}))})}function WA(n,e,t){return R(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},DB),e);try{let i=new n_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw kh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw kh(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw kh(n,"user-disabled",s);let h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw HA(n,h,u);kA(n,h)}}catch(i){if(i instanceof Ln)throw i;kA(n,"network-request-failed",{message:String(i)})}})}function KA(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?CB(n.config,i):`${n.config.apiScheme}://${i}`}var n_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(u_(this.auth,"network-request-failed")),TB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function kh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=u_(n,e,r);return i.customData._tokenResponse=t,i}function SB(n,e){return R(this,null,function*(){return zh(n,"POST","/v1/accounts:delete",e)})}function QA(n,e){return R(this,null,function*(){return zh(n,"POST","/v1/accounts:lookup",e)})}function nl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function h_(n,e=!1){return R(this,null,function*(){let t=Vn(n),r=yield t.getIdToken(e),i=YA(r);Le(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:nl(e_(i.auth_time)),issuedAtTime:nl(e_(i.iat)),expirationTime:nl(e_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function e_(n){return Number(n)*1e3}function YA(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Fh("JWT malformed, contained fewer than 3 sections"),null;try{let i=My(t);return i?JSON.parse(i):(Fh("Failed to decode base64 JWT payload"),null)}catch(i){return Fh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function LA(n){let e=YA(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function r_(n,e,t=!1){return R(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Ln&&AB(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function AB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var i_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>R(this,null,function*(){yield this.iteration()}),t)}iteration(){return R(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var il=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Bh(n){return R(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield r_(n,QA(t,{idToken:r}));Le(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?JA(o.providerUserInfo):[],a=xB(n.providerData,s),l=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,h=l?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new il(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function f_(n){return R(this,null,function*(){let e=Vn(n);yield Bh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function xB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JA(n){return n.map(e=>{var{providerId:t}=e,r=rm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function RB(n,e){return R(this,null,function*(){let t=yield WA(n,{},()=>R(this,null,function*(){let r=Oy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=KA(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Uh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function MB(n,e){return R(this,null,function*(){return zh(n,"POST","/v2/accounts:revokeToken",GA(n,e))})}var rl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");let t=LA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return R(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return R(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield RB(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Le(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Le(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Le(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return tl("not implemented")}};function xi(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ol=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=rm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new il(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return R(this,null,function*(){let t=yield r_(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return h_(this,e)}reload(){return f_(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return R(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Bh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return R(this,null,function*(){if(qs(this.auth.app))return Promise.reject(Lh(this.auth));let e=yield this.getIdToken();return yield r_(this,SB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,u,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,_=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=t.photoURL)!==null&&s!==void 0?s:void 0,O=(a=t.tenantId)!==null&&a!==void 0?a:void 0,k=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,z=(u=t.createdAt)!==null&&u!==void 0?u:void 0,X=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:ee,emailVerified:ge,isAnonymous:et,providerData:le,stsTokenManager:D}=t;Le(ee&&D,e,"internal-error");let y=rl.fromJSON(this.name,D);Le(typeof ee=="string",e,"internal-error"),xi(p,e.name),xi(v,e.name),Le(typeof ge=="boolean",e,"internal-error"),Le(typeof et=="boolean",e,"internal-error"),xi(_,e.name),xi(A,e.name),xi(O,e.name),xi(k,e.name),xi(z,e.name),xi(X,e.name);let I=new n({uid:ee,auth:e,email:v,emailVerified:ge,displayName:p,isAnonymous:et,photoURL:A,phoneNumber:_,tenantId:O,stsTokenManager:y,createdAt:z,lastLoginAt:X});return le&&Array.isArray(le)&&(I.providerData=le.map(C=>Object.assign({},C))),k&&(I._redirectEventId=k),I}static _fromIdTokenResponse(e,t,r=!1){return R(this,null,function*(){let i=new rl;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Bh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return R(this,null,function*(){let i=t.users[0];Le(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?JA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new rl;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new il(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var VA=new Map;function Io(n){jh(n instanceof Function,"Expected a class definition");let e=VA.get(n);return e?(jh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,VA.set(n,e),e)}var PB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return R(this,null,function*(){return!0})}_set(t,r){return R(this,null,function*(){this.storage[t]=r})}_get(t){return R(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return R(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),o_=PB;function t_(n,e,t){return`firebase:${n}:${e}:${t}`}var $h=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=t_(this.userKey,i.apiKey,o),this.fullPersistenceKey=t_("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return R(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ol._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return R(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return R(this,null,function*(){if(!t.length)return new n(Io(o_),e,r);let i=(yield Promise.all(t.map(u=>R(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Io(o_),s=t_(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(s);if(h){let p=ol._fromJSON(e,h);u!==o&&(a=p),o=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>R(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function jA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VB(e))return"Blackberry";if(jB(e))return"Webos";if(OB(e))return"Safari";if((e.includes("chrome/")||kB(e))&&!e.includes("edge/"))return"Chrome";if(LB(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function NB(n=wn()){return/firefox\//i.test(n)}function OB(n=wn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kB(n=wn()){return/crios\//i.test(n)}function FB(n=wn()){return/iemobile/i.test(n)}function LB(n=wn()){return/android/i.test(n)}function VB(n=wn()){return/blackberry/i.test(n)}function jB(n=wn()){return/webos/i.test(n)}function ZA(n,e=[]){let t;switch(n){case"Browser":t=jA(wn());break;case"Worker":t=`${jA(wn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${zs}/${r}`}var s_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return R(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function UB(t){return R(this,arguments,function*(n,e={}){return zh(n,"GET","/v2/passwordPolicy",GA(n,e))})}var BB=6,a_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:BB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var c_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qh(this),this.idTokenSubscription=new qh(this),this.beforeStateQueue=new s_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Io(t)),this._initializationPromise=this.queue(()=>R(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield $h.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return R(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return R(this,null,function*(){try{let t=yield QA(this,{idToken:e}),r=yield ol._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return R(this,null,function*(){var t;if(qs(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return R(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return R(this,null,function*(){try{yield Bh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=bB()}_delete(){return R(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return R(this,null,function*(){if(qs(this.app))return Promise.reject(Lh(this));let t=e?Vn(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return R(this,null,function*(){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>R(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return R(this,null,function*(){return qs(this.app)?Promise.reject(Lh(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return qs(this.app)?Promise.reject(Lh(this)):this.queue(()=>R(this,null,function*(){yield this.assertedPersistence.setPersistence(Io(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return R(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return R(this,null,function*(){let e=yield UB(this),t=new a_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return R(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield MB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return R(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return R(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Io(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=yield $h.create(this,[Io(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return R(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>R(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return R(this,null,function*(){if(e===this.currentUser)return this.queue(()=>R(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return R(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return R(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return R(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&EB(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function $B(n){return Vn(n)}var qh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yA(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var qB={loadJS(){return R(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zB(n){qB=n}function HB(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function GB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Io);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var wQ=HB("rcb"),bQ=new wo(3e4,6e4);var CQ=new wo(2e3,1e4);var DQ=10*60*1e3;var TQ=new wo(3e4,6e4);var SQ=new wo(5e3,15e3);var AQ=encodeURIComponent("fac");var UA="@firebase/auth",BA="1.7.9";var l_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return R(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function WB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KB(n){Ai(new jn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Le(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZA(n)},u=new c_(r,i,o,l);return GB(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ai(new jn("auth-internal",e=>{let t=$B(e.getProvider("auth").getImmediate());return(r=>new l_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yt(UA,BA,WB(n)),yt(UA,BA,"esm2017")}var QB=5*60,xQ=uA("authIdTokenMaxAge")||QB;function YB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}zB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=u_("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",YB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KB("Browser");var Q$="auth";var Hh=class{constructor(){return Zc(Q$)}};var XA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ex={};var Ri,p_;(function(){var n;function e(D,y){function I(){}I.prototype=y.prototype,D.D=y.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(C,T,x){for(var w=Array(arguments.length-2),Sr=2;Sr<arguments.length;Sr++)w[Sr-2]=arguments[Sr];return y.prototype[T].apply(C,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,I){I||(I=0);var C=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)C[T]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(T=0;16>T;++T)C[T]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=D.g[0],I=D.g[1],T=D.g[2];var x=D.g[3],w=y+(x^I&(T^x))+C[0]+3614090360&4294967295;y=I+(w<<7&4294967295|w>>>25),w=x+(T^y&(I^T))+C[1]+3905402710&4294967295,x=y+(w<<12&4294967295|w>>>20),w=T+(I^x&(y^I))+C[2]+606105819&4294967295,T=x+(w<<17&4294967295|w>>>15),w=I+(y^T&(x^y))+C[3]+3250441966&4294967295,I=T+(w<<22&4294967295|w>>>10),w=y+(x^I&(T^x))+C[4]+4118548399&4294967295,y=I+(w<<7&4294967295|w>>>25),w=x+(T^y&(I^T))+C[5]+1200080426&4294967295,x=y+(w<<12&4294967295|w>>>20),w=T+(I^x&(y^I))+C[6]+2821735955&4294967295,T=x+(w<<17&4294967295|w>>>15),w=I+(y^T&(x^y))+C[7]+4249261313&4294967295,I=T+(w<<22&4294967295|w>>>10),w=y+(x^I&(T^x))+C[8]+1770035416&4294967295,y=I+(w<<7&4294967295|w>>>25),w=x+(T^y&(I^T))+C[9]+2336552879&4294967295,x=y+(w<<12&4294967295|w>>>20),w=T+(I^x&(y^I))+C[10]+4294925233&4294967295,T=x+(w<<17&4294967295|w>>>15),w=I+(y^T&(x^y))+C[11]+2304563134&4294967295,I=T+(w<<22&4294967295|w>>>10),w=y+(x^I&(T^x))+C[12]+1804603682&4294967295,y=I+(w<<7&4294967295|w>>>25),w=x+(T^y&(I^T))+C[13]+4254626195&4294967295,x=y+(w<<12&4294967295|w>>>20),w=T+(I^x&(y^I))+C[14]+2792965006&4294967295,T=x+(w<<17&4294967295|w>>>15),w=I+(y^T&(x^y))+C[15]+1236535329&4294967295,I=T+(w<<22&4294967295|w>>>10),w=y+(T^x&(I^T))+C[1]+4129170786&4294967295,y=I+(w<<5&4294967295|w>>>27),w=x+(I^T&(y^I))+C[6]+3225465664&4294967295,x=y+(w<<9&4294967295|w>>>23),w=T+(y^I&(x^y))+C[11]+643717713&4294967295,T=x+(w<<14&4294967295|w>>>18),w=I+(x^y&(T^x))+C[0]+3921069994&4294967295,I=T+(w<<20&4294967295|w>>>12),w=y+(T^x&(I^T))+C[5]+3593408605&4294967295,y=I+(w<<5&4294967295|w>>>27),w=x+(I^T&(y^I))+C[10]+38016083&4294967295,x=y+(w<<9&4294967295|w>>>23),w=T+(y^I&(x^y))+C[15]+3634488961&4294967295,T=x+(w<<14&4294967295|w>>>18),w=I+(x^y&(T^x))+C[4]+3889429448&4294967295,I=T+(w<<20&4294967295|w>>>12),w=y+(T^x&(I^T))+C[9]+568446438&4294967295,y=I+(w<<5&4294967295|w>>>27),w=x+(I^T&(y^I))+C[14]+3275163606&4294967295,x=y+(w<<9&4294967295|w>>>23),w=T+(y^I&(x^y))+C[3]+4107603335&4294967295,T=x+(w<<14&4294967295|w>>>18),w=I+(x^y&(T^x))+C[8]+1163531501&4294967295,I=T+(w<<20&4294967295|w>>>12),w=y+(T^x&(I^T))+C[13]+2850285829&4294967295,y=I+(w<<5&4294967295|w>>>27),w=x+(I^T&(y^I))+C[2]+4243563512&4294967295,x=y+(w<<9&4294967295|w>>>23),w=T+(y^I&(x^y))+C[7]+1735328473&4294967295,T=x+(w<<14&4294967295|w>>>18),w=I+(x^y&(T^x))+C[12]+2368359562&4294967295,I=T+(w<<20&4294967295|w>>>12),w=y+(I^T^x)+C[5]+4294588738&4294967295,y=I+(w<<4&4294967295|w>>>28),w=x+(y^I^T)+C[8]+2272392833&4294967295,x=y+(w<<11&4294967295|w>>>21),w=T+(x^y^I)+C[11]+1839030562&4294967295,T=x+(w<<16&4294967295|w>>>16),w=I+(T^x^y)+C[14]+4259657740&4294967295,I=T+(w<<23&4294967295|w>>>9),w=y+(I^T^x)+C[1]+2763975236&4294967295,y=I+(w<<4&4294967295|w>>>28),w=x+(y^I^T)+C[4]+1272893353&4294967295,x=y+(w<<11&4294967295|w>>>21),w=T+(x^y^I)+C[7]+4139469664&4294967295,T=x+(w<<16&4294967295|w>>>16),w=I+(T^x^y)+C[10]+3200236656&4294967295,I=T+(w<<23&4294967295|w>>>9),w=y+(I^T^x)+C[13]+681279174&4294967295,y=I+(w<<4&4294967295|w>>>28),w=x+(y^I^T)+C[0]+3936430074&4294967295,x=y+(w<<11&4294967295|w>>>21),w=T+(x^y^I)+C[3]+3572445317&4294967295,T=x+(w<<16&4294967295|w>>>16),w=I+(T^x^y)+C[6]+76029189&4294967295,I=T+(w<<23&4294967295|w>>>9),w=y+(I^T^x)+C[9]+3654602809&4294967295,y=I+(w<<4&4294967295|w>>>28),w=x+(y^I^T)+C[12]+3873151461&4294967295,x=y+(w<<11&4294967295|w>>>21),w=T+(x^y^I)+C[15]+530742520&4294967295,T=x+(w<<16&4294967295|w>>>16),w=I+(T^x^y)+C[2]+3299628645&4294967295,I=T+(w<<23&4294967295|w>>>9),w=y+(T^(I|~x))+C[0]+4096336452&4294967295,y=I+(w<<6&4294967295|w>>>26),w=x+(I^(y|~T))+C[7]+1126891415&4294967295,x=y+(w<<10&4294967295|w>>>22),w=T+(y^(x|~I))+C[14]+2878612391&4294967295,T=x+(w<<15&4294967295|w>>>17),w=I+(x^(T|~y))+C[5]+4237533241&4294967295,I=T+(w<<21&4294967295|w>>>11),w=y+(T^(I|~x))+C[12]+1700485571&4294967295,y=I+(w<<6&4294967295|w>>>26),w=x+(I^(y|~T))+C[3]+2399980690&4294967295,x=y+(w<<10&4294967295|w>>>22),w=T+(y^(x|~I))+C[10]+4293915773&4294967295,T=x+(w<<15&4294967295|w>>>17),w=I+(x^(T|~y))+C[1]+2240044497&4294967295,I=T+(w<<21&4294967295|w>>>11),w=y+(T^(I|~x))+C[8]+1873313359&4294967295,y=I+(w<<6&4294967295|w>>>26),w=x+(I^(y|~T))+C[15]+4264355552&4294967295,x=y+(w<<10&4294967295|w>>>22),w=T+(y^(x|~I))+C[6]+2734768916&4294967295,T=x+(w<<15&4294967295|w>>>17),w=I+(x^(T|~y))+C[13]+1309151649&4294967295,I=T+(w<<21&4294967295|w>>>11),w=y+(T^(I|~x))+C[4]+4149444226&4294967295,y=I+(w<<6&4294967295|w>>>26),w=x+(I^(y|~T))+C[11]+3174756917&4294967295,x=y+(w<<10&4294967295|w>>>22),w=T+(y^(x|~I))+C[2]+718787259&4294967295,T=x+(w<<15&4294967295|w>>>17),w=I+(x^(T|~y))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(T+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+x&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var I=y-this.blockSize,C=this.B,T=this.h,x=0;x<y;){if(T==0)for(;x<=I;)i(this,D,x),x+=this.blockSize;if(typeof D=="string"){for(;x<y;)if(C[T++]=D.charCodeAt(x++),T==this.blockSize){i(this,C),T=0;break}}else for(;x<y;)if(C[T++]=D[x++],T==this.blockSize){i(this,C),T=0;break}}this.h=T,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var I=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=I&255,I/=256;for(this.u(D),D=Array(16),y=I=0;4>y;++y)for(var C=0;32>C;C+=8)D[I++]=this.g[y]>>>C&255;return D};function o(D,y){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=y(D)}function s(D,y){this.h=y;for(var I=[],C=!0,T=D.length-1;0<=T;T--){var x=D[T]|0;C&&x==y||(I[T]=x,C=!1)}this.g=I}var a={};function l(D){return-128<=D&&128>D?o(D,function(y){return new s([y|0],0>y?-1:0)}):new s([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return k(u(-D));for(var y=[],I=1,C=0;D>=I;C++)y[C]=D/I|0,I*=4294967296;return new s(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return k(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(y,8)),C=p,T=0;T<D.length;T+=8){var x=Math.min(8,D.length-T),w=parseInt(D.substring(T,T+x),y);8>x?(x=u(Math.pow(y,x)),C=C.j(x).add(u(w))):(C=C.j(I),C=C.add(u(w)))}return C}var p=l(0),v=l(1),_=l(16777216);n=s.prototype,n.m=function(){if(O(this))return-k(this).m();for(var D=0,y=1,I=0;I<this.g.length;I++){var C=this.i(I);D+=(0<=C?C:4294967296+C)*y,y*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(O(this))return"-"+k(this).toString(D);for(var y=u(Math.pow(D,6)),I=this,C="";;){var T=ge(I,y).g;I=z(I,T.j(y));var x=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=T,A(I))return x+C;for(;6>x.length;)x="0"+x;C=x+C}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function O(D){return D.h==-1}n.l=function(D){return D=z(this,D),O(D)?-1:A(D)?0:1};function k(D){for(var y=D.g.length,I=[],C=0;C<y;C++)I[C]=~D.g[C];return new s(I,~D.h).add(v)}n.abs=function(){return O(this)?k(this):this},n.add=function(D){for(var y=Math.max(this.g.length,D.g.length),I=[],C=0,T=0;T<=y;T++){var x=C+(this.i(T)&65535)+(D.i(T)&65535),w=(x>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);C=w>>>16,x&=65535,w&=65535,I[T]=w<<16|x}return new s(I,I[I.length-1]&-2147483648?-1:0)};function z(D,y){return D.add(k(y))}n.j=function(D){if(A(this)||A(D))return p;if(O(this))return O(D)?k(this).j(k(D)):k(k(this).j(D));if(O(D))return k(this.j(k(D)));if(0>this.l(_)&&0>D.l(_))return u(this.m()*D.m());for(var y=this.g.length+D.g.length,I=[],C=0;C<2*y;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var T=0;T<D.g.length;T++){var x=this.i(C)>>>16,w=this.i(C)&65535,Sr=D.i(T)>>>16,ba=D.i(T)&65535;I[2*C+2*T]+=w*ba,X(I,2*C+2*T),I[2*C+2*T+1]+=x*ba,X(I,2*C+2*T+1),I[2*C+2*T+1]+=w*Sr,X(I,2*C+2*T+1),I[2*C+2*T+2]+=x*Sr,X(I,2*C+2*T+2)}for(C=0;C<y;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=y;C<2*y;C++)I[C]=0;return new s(I,0)};function X(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function ee(D,y){this.g=D,this.h=y}function ge(D,y){if(A(y))throw Error("division by zero");if(A(D))return new ee(p,p);if(O(D))return y=ge(k(D),y),new ee(k(y.g),k(y.h));if(O(y))return y=ge(D,k(y)),new ee(k(y.g),y.h);if(30<D.g.length){if(O(D)||O(y))throw Error("slowDivide_ only works with positive integers.");for(var I=v,C=y;0>=C.l(D);)I=et(I),C=et(C);var T=le(I,1),x=le(C,1);for(C=le(C,2),I=le(I,2);!A(C);){var w=x.add(C);0>=w.l(D)&&(T=T.add(I),x=w),C=le(C,1),I=le(I,1)}return y=z(D,T.j(y)),new ee(T,y)}for(T=p;0<=D.l(y);){for(I=Math.max(1,Math.floor(D.m()/y.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),x=u(I),w=x.j(y);O(w)||0<w.l(D);)I-=C,x=u(I),w=x.j(y);A(x)&&(x=v),T=T.add(x),D=z(D,w)}return new ee(T,D)}n.A=function(D){return ge(this,D).h},n.and=function(D){for(var y=Math.max(this.g.length,D.g.length),I=[],C=0;C<y;C++)I[C]=this.i(C)&D.i(C);return new s(I,this.h&D.h)},n.or=function(D){for(var y=Math.max(this.g.length,D.g.length),I=[],C=0;C<y;C++)I[C]=this.i(C)|D.i(C);return new s(I,this.h|D.h)},n.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),I=[],C=0;C<y;C++)I[C]=this.i(C)^D.i(C);return new s(I,this.h^D.h)};function et(D){for(var y=D.g.length+1,I=[],C=0;C<y;C++)I[C]=D.i(C)<<1|D.i(C-1)>>>31;return new s(I,D.h)}function le(D,y){var I=y>>5;y%=32;for(var C=D.g.length-I,T=[],x=0;x<C;x++)T[x]=0<y?D.i(x+I)>>>y|D.i(x+I+1)<<32-y:D.i(x+I);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,p_=ex.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,Ri=ex.Integer=s}).apply(typeof XA<"u"?XA:typeof self<"u"?self:typeof window<"u"?window:{});var Gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kr={};var m_,Y$,Ws,g_,sl,Wh,v_,y_,__;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gh=="object"&&Gh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var S=c[m];if(!(S in f))break e;f=f[S]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,S={next:function(){if(!m&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return m=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,m),c.apply(d,S)}}return function(){return c.apply(d,arguments)}}function v(c,d,f){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,v.apply(null,arguments)}function _(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function A(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,S,M){for(var B=Array(arguments.length-2),He=2;He<arguments.length;He++)B[He-2]=arguments[He];return d.prototype[S].apply(m,B)}}function O(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function k(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(l(m)){let S=c.length||0,M=m.length||0;c.length=S+M;for(let B=0;B<M;B++)c[S+B]=m[B]}else c.push(m)}}class z{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function X(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var et=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function le(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,d){let f,m;for(let S=1;S<arguments.length;S++){m=arguments[S];for(f in m)c[f]=m[f];for(let M=0;M<I.length;M++)f=I[M],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function x(c){a.setTimeout(()=>{throw c},0)}function w(){var c=fp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Sr{constructor(){this.h=this.g=null}add(d,f){let m=ba.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ba=new z(()=>new TM,c=>c.reset());class TM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ca,Da=!1,fp=new Sr,B0=()=>{let c=a.Promise.resolve(void 0);Ca=()=>{c.then(SM)}};var SM=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){x(f)}var d=ba;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Da=!1};function ri(){this.s=this.s,this.C=this.C}ri.prototype.s=!1,ri.prototype.ma=function(){this.s||(this.s=!0,this.N())},ri.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Dt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var AM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ta(c,d){if(Dt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(et){e:{try{ge(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ta.aa.h.call(this)}}A(Ta,Dt);var xM={2:"touch",3:"pen",4:"mouse"};Ta.prototype.h=function(){Ta.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Sa="closure_listenable_"+(1e6*Math.random()|0),RM=0;function MM(c,d,f,m,S){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=S,this.key=++RM,this.da=this.fa=!1}function jl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ul(c){this.src=c,this.g={},this.h=0}Ul.prototype.add=function(c,d,f,m,S){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var B=mp(c,d,m,S);return-1<B?(d=c[B],f||(d.fa=!1)):(d=new MM(d,this.src,M,!!m,S),d.fa=f,c.push(d)),d};function pp(c,d){var f=d.type;if(f in c.g){var m=c.g[f],S=Array.prototype.indexOf.call(m,d,void 0),M;(M=0<=S)&&Array.prototype.splice.call(m,S,1),M&&(jl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function mp(c,d,f,m){for(var S=0;S<c.length;++S){var M=c[S];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==m)return S}return-1}var gp="closure_lm_"+(1e6*Math.random()|0),vp={};function $0(c,d,f,m,S){if(m&&m.once)return z0(c,d,f,m,S);if(Array.isArray(d)){for(var M=0;M<d.length;M++)$0(c,d[M],f,m,S);return null}return f=Ip(f),c&&c[Sa]?c.K(d,f,u(m)?!!m.capture:!!m,S):q0(c,d,f,!1,m,S)}function q0(c,d,f,m,S,M){if(!d)throw Error("Invalid event type");var B=u(S)?!!S.capture:!!S,He=_p(c);if(He||(c[gp]=He=new Ul(c)),f=He.add(d,f,m,B,M),f.proxy)return f;if(m=PM(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)AM||(S=B),S===void 0&&(S=!1),c.addEventListener(d.toString(),m,S);else if(c.attachEvent)c.attachEvent(G0(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function PM(){function c(f){return d.call(c.src,c.listener,f)}let d=NM;return c}function z0(c,d,f,m,S){if(Array.isArray(d)){for(var M=0;M<d.length;M++)z0(c,d[M],f,m,S);return null}return f=Ip(f),c&&c[Sa]?c.L(d,f,u(m)?!!m.capture:!!m,S):q0(c,d,f,!0,m,S)}function H0(c,d,f,m,S){if(Array.isArray(d))for(var M=0;M<d.length;M++)H0(c,d[M],f,m,S);else m=u(m)?!!m.capture:!!m,f=Ip(f),c&&c[Sa]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=mp(M,f,m,S),-1<f&&(jl(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=_p(c))&&(d=c.g[d.toString()],c=-1,d&&(c=mp(d,f,m,S)),(f=-1<c?d[c]:null)&&yp(f))}function yp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Sa])pp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(G0(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=_p(d))?(pp(f,c),f.h==0&&(f.src=null,d[gp]=null)):jl(c)}}}function G0(c){return c in vp?vp[c]:vp[c]="on"+c}function NM(c,d){if(c.da)c=!0;else{d=new Ta(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&yp(c),c=f.call(m,d)}return c}function _p(c){return c=c[gp],c instanceof Ul?c:null}var Ep="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ip(c){return typeof c=="function"?c:(c[Ep]||(c[Ep]=function(d){return c.handleEvent(d)}),c[Ep])}function Tt(){ri.call(this),this.i=new Ul(this),this.M=this,this.F=null}A(Tt,ri),Tt.prototype[Sa]=!0,Tt.prototype.removeEventListener=function(c,d,f,m){H0(this,c,d,f,m)};function Lt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Dt(d,c);else if(d instanceof Dt)d.target=d.target||c;else{var S=d;d=new Dt(m,c),C(d,S)}if(S=!0,f)for(var M=f.length-1;0<=M;M--){var B=d.g=f[M];S=Bl(B,m,!0,d)&&S}if(B=d.g=c,S=Bl(B,m,!0,d)&&S,S=Bl(B,m,!1,d)&&S,f)for(M=0;M<f.length;M++)B=d.g=f[M],S=Bl(B,m,!1,d)&&S}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)jl(f[m]);delete c.g[d],c.h--}}this.F=null},Tt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Tt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Bl(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,M=0;M<d.length;++M){var B=d[M];if(B&&!B.da&&B.capture==f){var He=B.listener,Et=B.ha||B.src;B.fa&&pp(c.i,B),S=He.call(Et,m)!==!1&&S}}return S&&!m.defaultPrevented}function W0(c,d,f){if(typeof c=="function")f&&(c=v(c,f));else if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function K0(c){c.g=W0(()=>{c.g=null,c.i&&(c.i=!1,K0(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class OM extends ri{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:K0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(c){ri.call(this),this.h=c,this.g={}}A(Aa,ri);var Q0=[];function Y0(c){le(c.g,function(d,f){this.g.hasOwnProperty(f)&&yp(d)},c),c.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),Y0(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wp=a.JSON.stringify,kM=a.JSON.parse,FM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function bp(){}bp.prototype.h=null;function J0(c){return c.h||(c.h=c.i())}function Z0(){}var xa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cp(){Dt.call(this,"d")}A(Cp,Dt);function Dp(){Dt.call(this,"c")}A(Dp,Dt);var Li={},X0=null;function $l(){return X0=X0||new Tt}Li.La="serverreachability";function eI(c){Dt.call(this,Li.La,c)}A(eI,Dt);function Ra(c){let d=$l();Lt(d,new eI(d))}Li.STAT_EVENT="statevent";function tI(c,d){Dt.call(this,Li.STAT_EVENT,c),this.stat=d}A(tI,Dt);function Vt(c){let d=$l();Lt(d,new tI(d,c))}Li.Ma="timingevent";function nI(c,d){Dt.call(this,Li.Ma,c),this.size=d}A(nI,Dt);function Ma(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Pa(){this.g=!0}Pa.prototype.xa=function(){this.g=!1};function LM(c,d,f,m,S,M){c.info(function(){if(c.g)if(M)for(var B="",He=M.split("&"),Et=0;Et<He.length;Et++){var Oe=He[Et].split("=");if(1<Oe.length){var St=Oe[0];Oe=Oe[1];var At=St.split("_");B=2<=At.length&&At[1]=="type"?B+(St+"="+Oe+"&"):B+(St+"=redacted&")}}else B=null;else B=M;return"XMLHTTP REQ ("+m+") [attempt "+S+"]: "+d+`
`+f+`
`+B})}function VM(c,d,f,m,S,M,B){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+S+"]: "+d+`
`+f+`
`+M+" "+B})}function Vo(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+UM(c,f)+(m?" "+m:"")})}function jM(c,d){c.info(function(){return"TIMEOUT: "+d})}Pa.prototype.info=function(){};function UM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var S=m[1];if(Array.isArray(S)&&!(1>S.length)){var M=S[0];if(M!="noop"&&M!="stop"&&M!="close")for(var B=1;B<S.length;B++)S[B]=""}}}}return wp(f)}catch{return d}}var ql={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tp;function zl(){}A(zl,bp),zl.prototype.g=function(){return new XMLHttpRequest},zl.prototype.i=function(){return{}},Tp=new zl;function ii(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iI}function iI(){this.i=null,this.g="",this.h=!1}var oI={},Sp={};function Ap(c,d,f){c.L=1,c.v=Kl(Ar(d)),c.m=f,c.P=!0,sI(c,null)}function sI(c,d){c.F=Date.now(),Hl(c),c.A=Ar(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),EI(f.i,"t",m),c.C=0,f=c.j.J,c.h=new iI,c.g=VI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new OM(v(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var S="readystatechange";Array.isArray(S)||(S&&(Q0[0]=S.toString()),S=Q0);for(var M=0;M<S.length;M++){var B=$0(f,S[M],m||d.handleEvent,!1,d.h||d);if(!B)break;d.g[B.key]=B}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ra(),LM(c.i,c.u,c.A,c.l,c.R,c.m)}ii.prototype.ca=function(c){c=c.target;let d=this.M;d&&xr(c)==3?d.j():this.Y(c)},ii.prototype.Y=function(c){try{if(c==this.g)e:{let At=xr(this.g);var d=this.g.Ba();let Bo=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||SI(this.g)))){this.J||At!=4||d==7||(d==8||0>=Bo?Ra(3):Ra(2)),xp(this);var f=this.g.Z();this.X=f;t:if(aI(this)){var m=SI(this.g);c="";var S=m.length,M=xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vi(this),Na(this);var B="";break t}this.h.i=new a.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(M&&d==S-1)});m.length=0,this.h.g+=c,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,VM(this.i,this.u,this.A,this.l,this.R,At,f),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Et=this.g;if((He=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(He)){var Oe=He;break t}}Oe=null}if(f=Oe)Vo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rp(this,f);else{this.o=!1,this.s=3,Vt(12),Vi(this),Na(this);break e}}if(this.P){f=!0;let Bn;for(;!this.J&&this.C<B.length;)if(Bn=BM(this,B),Bn==Sp){At==4&&(this.s=4,Vt(14),f=!1),Vo(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==oI){this.s=4,Vt(15),Vo(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else Vo(this.i,this.l,Bn,null),Rp(this,Bn);if(aI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||B.length!=0||this.h.h||(this.s=1,Vt(16),f=!1),this.o=this.o&&f,!f)Vo(this.i,this.l,B,"[Invalid Chunked Response]"),Vi(this),Na(this);else if(0<B.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Fp(St),St.M=!0,Vt(11))}}else Vo(this.i,this.l,B,null),Rp(this,B);At==4&&Vi(this),this.o&&!this.J&&(At==4?OI(this.j,this):(this.o=!1,Hl(this)))}else iP(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Vi(this),Na(this)}}}catch{}finally{}};function aI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function BM(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Sp:(f=Number(d.substring(f,m)),isNaN(f)?oI:(m+=1,m+f>d.length?Sp:(d=d.slice(m,m+f),c.C=m+f,d)))}ii.prototype.cancel=function(){this.J=!0,Vi(this)};function Hl(c){c.S=Date.now()+c.I,cI(c,c.I)}function cI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ma(v(c.ba,c),d)}function xp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ii.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(jM(this.i,this.A),this.L!=2&&(Ra(),Vt(17)),Vi(this),this.s=2,Na(this)):cI(this,this.S-c)};function Na(c){c.j.G==0||c.J||OI(c.j,c)}function Vi(c){xp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Y0(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Rp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Mp(f.h,c))){if(!c.K&&Mp(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var S=m;if(S[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Xl(f),Jl(f);else break e;kp(f),Vt(18)}}else f.za=S[1],0<f.za-f.T&&37500>S[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ma(v(f.Za,f),6e3));if(1>=dI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ui(f,11)}else if((c.K||f.g==c)&&Xl(f),!X(d))for(S=f.Da.g.parse(d),d=0;d<S.length;d++){let Oe=S[d];if(f.T=Oe[0],Oe=Oe[1],f.G==2)if(Oe[0]=="c"){f.K=Oe[1],f.ia=Oe[2];let St=Oe[3];St!=null&&(f.la=St,f.j.info("VER="+f.la));let At=Oe[4];At!=null&&(f.Aa=At,f.j.info("SVER="+f.Aa));let Bo=Oe[5];Bo!=null&&typeof Bo=="number"&&0<Bo&&(m=1.5*Bo,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Bn=c.g;if(Bn){let tu=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tu){var M=m.h;M.g||tu.indexOf("spdy")==-1&&tu.indexOf("quic")==-1&&tu.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Pp(M,M.h),M.h=null))}if(m.D){let Lp=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Lp&&(m.ya=Lp,Qe(m.I,m.D,Lp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var B=c;if(m.qa=LI(m,m.J?m.ia:null,m.W),B.K){hI(m.h,B);var He=B,Et=m.L;Et&&(He.I=Et),He.B&&(xp(He),Hl(He)),m.g=B}else PI(m);0<f.i.length&&Zl(f)}else Oe[0]!="stop"&&Oe[0]!="close"||Ui(f,7);else f.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Ui(f,7):Op(f):Oe[0]!="noop"&&f.l&&f.l.ta(Oe),f.v=0)}}Ra(4)}catch{}}var $M=class{constructor(c,d){this.g=c,this.map=d}};function lI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function dI(c){return c.h?1:c.g?c.g.size:0}function Mp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Pp(c,d){c.g?c.g.add(d):c.h=d}function hI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}lI.prototype.cancel=function(){if(this.i=fI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function fI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return O(c.i)}function qM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function zM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function pI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=zM(c),m=qM(c),S=m.length,M=0;M<S;M++)d.call(void 0,m[M],f&&f[M],c)}var mI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),S=null;if(0<=m){var M=c[f].substring(0,m);S=c[f].substring(m+1)}else M=c[f];d(M,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function ji(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ji){this.h=c.h,Gl(this,c.j),this.o=c.o,this.g=c.g,Wl(this,c.s),this.l=c.l;var d=c.i,f=new Fa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),gI(this,f),this.m=c.m}else c&&(d=String(c).match(mI))?(this.h=!1,Gl(this,d[1]||"",!0),this.o=Oa(d[2]||""),this.g=Oa(d[3]||"",!0),Wl(this,d[4]),this.l=Oa(d[5]||"",!0),gI(this,d[6]||"",!0),this.m=Oa(d[7]||"")):(this.h=!1,this.i=new Fa(null,this.h))}ji.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ka(d,vI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ka(d,vI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ka(f,f.charAt(0)=="/"?KM:WM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ka(f,YM)),c.join("")};function Ar(c){return new ji(c)}function Gl(c,d,f){c.j=f?Oa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Wl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function gI(c,d,f){d instanceof Fa?(c.i=d,JM(c.i,c.h)):(f||(d=ka(d,QM)),c.i=new Fa(d,c.h))}function Qe(c,d,f){c.i.set(d,f)}function Kl(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Oa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ka(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,GM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function GM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vI=/[#\/\?@]/g,WM=/[#\?:]/g,KM=/[#\?]/g,QM=/[#\?@]/g,YM=/#/g;function Fa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function oi(c){c.g||(c.g=new Map,c.h=0,c.i&&HM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Fa.prototype,n.add=function(c,d){oi(this),this.i=null,c=jo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function yI(c,d){oi(c),d=jo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function _I(c,d){return oi(c),d=jo(c,d),c.g.has(d)}n.forEach=function(c,d){oi(this),this.g.forEach(function(f,m){f.forEach(function(S){c.call(d,S,m,this)},this)},this)},n.na=function(){oi(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let S=c[m];for(let M=0;M<S.length;M++)f.push(d[m])}return f},n.V=function(c){oi(this);let d=[];if(typeof c=="string")_I(this,c)&&(d=d.concat(this.g.get(jo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return oi(this),this.i=null,c=jo(this,c),_I(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function EI(c,d,f){yI(c,d),0<f.length&&(c.i=null,c.g.set(jo(c,d),O(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let M=encodeURIComponent(String(m)),B=this.V(m);for(m=0;m<B.length;m++){var S=M;B[m]!==""&&(S+="="+encodeURIComponent(String(B[m]))),c.push(S)}}return this.i=c.join("&")};function jo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function JM(c,d){d&&!c.j&&(oi(c),c.i=null,c.g.forEach(function(f,m){var S=m.toLowerCase();m!=S&&(yI(this,m),EI(this,S,f))},c)),c.j=d}function ZM(c,d){let f=new Pa;if(a.Image){let m=new Image;m.onload=_(si,f,"TestLoadImage: loaded",!0,d,m),m.onerror=_(si,f,"TestLoadImage: error",!1,d,m),m.onabort=_(si,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=_(si,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function XM(c,d){let f=new Pa,m=new AbortController,S=setTimeout(()=>{m.abort(),si(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(M=>{clearTimeout(S),M.ok?si(f,"TestPingServer: ok",!0,d):si(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),si(f,"TestPingServer: error",!1,d)})}function si(c,d,f,m,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),m(f)}catch{}}function eP(){this.g=new FM}function tP(c,d,f){let m=f||"";try{pI(c,function(S,M){let B=S;u(S)&&(B=wp(S)),d.push(m+M+"="+encodeURIComponent(B))})}catch(S){throw d.push(m+"type="+encodeURIComponent("_badmap")),S}}function La(c){this.l=c.Ub||null,this.j=c.eb||!1}A(La,bp),La.prototype.g=function(){return new Ql(this.l,this.j)},La.prototype.i=function(c){return function(){return c}}({});function Ql(c,d){Tt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ql,Tt),n=Ql.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ja(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ja(this)),this.g&&(this.readyState=3,ja(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;II(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function II(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Va(this):ja(this),this.readyState==3&&II(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Va(this))},n.Qa=function(c){this.g&&(this.response=c,Va(this))},n.ga=function(){this.g&&Va(this)};function Va(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ja(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ja(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wI(c){let d="";return le(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Np(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=wI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Qe(c,d,f))}function rt(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(rt,Tt);var nP=/^https?$/i,rP=["POST","PUT"];n=rt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tp.g(),this.v=this.o?J0(this.o):J0(Tp),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){bI(this,M);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var S in m)f.set(S,m[S]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())f.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),S=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rP,d,void 0))||m||S||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,B]of f)this.g.setRequestHeader(M,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{TI(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){bI(this,M)}};function bI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,CI(c),Yl(c)}function CI(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),Yl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yl(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?DI(this):this.bb())},n.bb=function(){DI(this)};function DI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||xr(c)!=4||c.Z()!=2)){if(c.u&&xr(c)==4)W0(c.Ea,0,c);else if(Lt(c,"readystatechange"),xr(c)==4){c.h=!1;try{let B=c.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=B===0){var S=String(c.D).match(mI)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),m=!nP.test(S?S.toLowerCase():"")}f=m}if(f)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var M=2<xr(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",CI(c)}}finally{Yl(c)}}}}function Yl(c,d){if(c.g){TI(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Lt(c,"ready");try{f.onreadystatechange=m}catch{}}}function TI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function xr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),kM(d)}};function SI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function iP(c){let d={};c=(c.g&&2<=xr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(X(c[m]))continue;var f=T(c[m]);let S=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[S]||[];d[S]=M,M.push(f)}D(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function AI(c){this.Aa=0,this.i=[],this.j=new Pa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,c),this.cb=Ua("retryDelaySeedMs",1e4,c),this.Wa=Ua("forwardChannelMaxRetries",2,c),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new lI(c&&c.concurrentRequestLimit),this.Da=new eP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=AI.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){Vt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=LI(this,null,this.W),Zl(this)};function Op(c){if(xI(c),c.G==3){var d=c.U++,f=Ar(c.I);if(Qe(f,"SID",c.K),Qe(f,"RID",d),Qe(f,"TYPE","terminate"),Ba(c,f),d=new ii(c,c.j,d),d.L=2,d.v=Kl(Ar(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=VI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Hl(d)}FI(c)}function Jl(c){c.g&&(Fp(c),c.g.cancel(),c.g=null)}function xI(c){Jl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Xl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Zl(c){if(!uI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ca||B0(),Da||(Ca(),Da=!0),fp.add(d,c),c.B=0}}function oP(c,d){return dI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ma(v(c.Ga,c,d),kI(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let S=new ii(this,this.j,c),M=this.o;if(this.S&&(M?(M=y(M),C(M,this.S)):M=this.S),this.m!==null||this.O||(S.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=MI(this,S,d),f=Ar(this.I),Qe(f,"RID",c),Qe(f,"CVER",22),this.D&&Qe(f,"X-HTTP-Session-Id",this.D),Ba(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(wI(M)))+"&"+d:this.m&&Np(f,this.m,M)),Pp(this.h,S),this.Ua&&Qe(f,"TYPE","init"),this.P?(Qe(f,"$req",d),Qe(f,"SID","null"),S.T=!0,Ap(S,f,null)):Ap(S,f,d),this.G=2}}else this.G==3&&(c?RI(this,c):this.i.length==0||uI(this.h)||RI(this))};function RI(c,d){var f;d?f=d.l:f=c.U++;let m=Ar(c.I);Qe(m,"SID",c.K),Qe(m,"RID",f),Qe(m,"AID",c.T),Ba(c,m),c.m&&c.o&&Np(m,c.m,c.o),f=new ii(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=MI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Pp(c.h,f),Ap(f,m,d)}function Ba(c,d){c.H&&le(c.H,function(f,m){Qe(d,m,f)}),c.l&&pI({},function(f,m){Qe(d,m,f)})}function MI(c,d,f){f=Math.min(c.i.length,f);var m=c.l?v(c.l.Na,c.l,c):null;e:{var S=c.i;let M=-1;for(;;){let B=["count="+f];M==-1?0<f?(M=S[0].g,B.push("ofs="+M)):M=0:B.push("ofs="+M);let He=!0;for(let Et=0;Et<f;Et++){let Oe=S[Et].g,St=S[Et].map;if(Oe-=M,0>Oe)M=Math.max(0,S[Et].g-100),He=!1;else try{tP(St,B,"req"+Oe+"_")}catch{m&&m(St)}}if(He){m=B.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function PI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ca||B0(),Da||(Ca(),Da=!0),fp.add(d,c),c.v=0}}function kp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ma(v(c.Fa,c),kI(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,NI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ma(v(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Jl(this),NI(this))};function Fp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function NI(c){c.g=new ii(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Ar(c.qa);Qe(d,"RID","rpc"),Qe(d,"SID",c.K),Qe(d,"AID",c.T),Qe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(d,"TO",c.ja),Qe(d,"TYPE","xmlhttp"),Ba(c,d),c.m&&c.o&&Np(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Kl(Ar(d)),f.m=null,f.P=!0,sI(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Jl(this),kp(this),Vt(19))};function Xl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function OI(c,d){var f=null;if(c.g==d){Xl(c),Fp(c),c.g=null;var m=2}else if(Mp(c.h,d))f=d.D,hI(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var S=c.B;m=$l(),Lt(m,new nI(m,f)),Zl(c)}else PI(c);else if(S=d.s,S==3||S==0&&0<d.X||!(m==1&&oP(c,d)||m==2&&kp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),S){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function kI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ui(c,d){if(c.j.info("Error code "+d),d==2){var f=v(c.fb,c),m=c.Xa;let S=!m;m=new ji(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gl(m,"https"),Kl(m),S?ZM(m.toString(),f):XM(m.toString(),f)}else Vt(2);c.G=0,c.l&&c.l.sa(d),FI(c),xI(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function FI(c){if(c.G=0,c.ka=[],c.l){let d=fI(c.h);(d.length!=0||c.i.length!=0)&&(k(c.ka,d),k(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function LI(c,d,f){var m=f instanceof ji?Ar(f):new ji(f);if(m.g!="")d&&(m.g=d+"."+m.g),Wl(m,m.s);else{var S=a.location;m=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var M=new ji(null);m&&Gl(M,m),d&&(M.g=d),S&&Wl(M,S),f&&(M.l=f),m=M}return f=c.D,d=c.ya,f&&d&&Qe(m,f,d),Qe(m,"VER",c.la),Ba(c,m),m}function VI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new rt(new La({eb:f})):new rt(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function jI(){}n=jI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function eu(){}eu.prototype.g=function(c,d){return new dn(c,d)};function dn(c,d){Tt.call(this),this.g=new AI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!X(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!X(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Uo(this)}A(dn,Tt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Op(this.g)},dn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=wp(c),c=f);d.i.push(new $M(d.Ya++,c)),d.G==3&&Zl(d)},dn.prototype.N=function(){this.g.l=null,delete this.j,Op(this.g),delete this.g,dn.aa.N.call(this)};function UI(c){Cp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(UI,Cp);function BI(){Dp.call(this),this.status=1}A(BI,Dp);function Uo(c){this.g=c}A(Uo,jI),Uo.prototype.ua=function(){Lt(this.g,"a")},Uo.prototype.ta=function(c){Lt(this.g,new UI(c))},Uo.prototype.sa=function(c){Lt(this.g,new BI)},Uo.prototype.ra=function(){Lt(this.g,"b")},eu.prototype.createWebChannel=eu.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,__=Kr.createWebChannelTransport=function(){return new eu},y_=Kr.getStatEventTarget=function(){return $l()},v_=Kr.Event=Li,Wh=Kr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ql.NO_ERROR=0,ql.TIMEOUT=8,ql.HTTP_ERROR=6,sl=Kr.ErrorCode=ql,rI.COMPLETE="complete",g_=Kr.EventType=rI,Z0.EventType=xa,xa.OPEN="a",xa.CLOSE="b",xa.ERROR="c",xa.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Ws=Kr.WebChannel=Z0,Y$=Kr.FetchXmlHttpFactory=La,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,m_=Kr.XhrIo=rt}).apply(typeof Gh<"u"?Gh:typeof self<"u"?self:typeof window<"u"?window:{});var tx="@firebase/firestore";var _t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");var fa="10.14.0";var To=new Ti("@firebase/firestore");function al(){return To.logLevel}function K(n,...e){if(To.logLevel<=Se.DEBUG){let t=e.map(XE);To.debug(`Firestore (${fa}): ${n}`,...t)}}function Yr(n,...e){if(To.logLevel<=Se.ERROR){let t=e.map(XE);To.error(`Firestore (${fa}): ${n}`,...t)}}function ea(n,...e){if(To.logLevel<=Se.WARN){let t=e.map(XE);To.warn(`Firestore (${fa}): ${n}`,...t)}}function XE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function oe(n="Unexpected state"){let e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+n;throw Yr(e),new Error(e)}function qe(n,e){n||oe()}function ce(n,e){return n}var j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},J=class extends Ln{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Er=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Zh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},C_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_t.UNAUTHENTICATED))}shutdown(){}},D_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},T_=class{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Er,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>R(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Er)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new Zh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new _t(e)}},S_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},A_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new S_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}},x_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},R_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qe(this.o===void 0);let r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string"),this.R=t.token,new x_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function J$(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Xh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=J$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function ke(n,e){return n<e?-1:n>e?1:0}function ta(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Ct=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new J(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new J(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new J(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var me=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ct(0,0))}static max(){return new n(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ef=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&oe(),r===void 0?r=e.length-t:r>e.length-t&&oe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},ot=class n extends ef{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new J(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Z$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bn=class n extends ef{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Z$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new J(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new J(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ie=class n{constructor(e){this.path=e}static fromPath(e){return new n(ot.fromString(e))}static fromName(e){return new n(ot.fromString(e).popFirst(5))}static empty(){return new n(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ot(e.slice()))}};var M_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};M_.UNKNOWN_ID=-1;function X$(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new Ct(t+1,0):new Ct(t,r));return new So(i,ie.empty(),e)}function eq(n){return new So(n.readTime,n.key,-1)}var So=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(me.min(),ie.empty(),-1)}static max(){return new n(me.max(),ie.empty(),-1)}};function tq(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ie.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}var nq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",P_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Dl(n){return R(this,null,function*(){if(n.code!==j.FAILED_PRECONDITION||n.message!==nq)throw n;K("LocalStore","Unexpectedly lost primary lease")})}var U=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function rq(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Tl(n){return n.name==="IndexedDbTransactionError"}var Nx=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Mf(n){return n==null}function fl(n){return n===0&&1/n==-1/0}function iq(n){return typeof n=="number"&&Number.isInteger(n)&&!fl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var oq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],RY=[...oq,"documentOverlays"],sq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],aq=sq,cq=[...aq,"indexConfiguration","indexState","indexEntries"];var MY=[...cq,"globals"];function nx(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pa(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ox(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var st=class n{constructor(e,t){this.comparator=e,this.root=t||Ir.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Js(this.root,e,this.comparator,!1)}getReverseIterator(){return new Js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Js(this.root,e,this.comparator,!0)}},Js=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ir=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ir(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var kt=class n{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tf(this.data.getIterator())}getIteratorFrom(e){return new tf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},tf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _r=class n{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new n([])}unionWith(e){let t=new kt(bn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var nf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ft=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nf("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ft.EMPTY_BYTE_STRING=new Ft("");var lq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(n){if(qe(!!n),typeof n=="string"){let e=0,t=lq.exec(n);if(qe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(n.seconds),nanos:nt(n.nanos)}}function nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pi(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}function e0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function t0(n){let e=n.mapValue.fields.__previous_value__;return e0(e)?t0(e):e}function pl(n){let e=Jr(n.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}var N_=class{constructor(e,t,r,i,o,s,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},rf=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Kh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ao(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?e0(n)?4:Fx(n)?9007199254740991:kx(n)?10:11:oe()}function Dr(n,e){if(n===e)return!0;let t=Ao(n);if(t!==Ao(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pl(n).isEqual(pl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Jr(i.timestampValue),a=Jr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Pi(i.bytesValue).isEqual(Pi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return nt(i.geoPointValue.latitude)===nt(o.geoPointValue.latitude)&&nt(i.geoPointValue.longitude)===nt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return nt(i.integerValue)===nt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=nt(i.doubleValue),a=nt(o.doubleValue);return s===a?fl(s)===fl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ta(n.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(nx(s)!==nx(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Dr(s[l],a[l])))return!1;return!0}(n,e);default:return oe()}}function ml(n,e){return(n.values||[]).find(t=>Dr(t,e))!==void 0}function na(n,e){if(n===e)return 0;let t=Ao(n),r=Ao(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=nt(o.integerValue||o.doubleValue),l=nt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return rx(n.timestampValue,e.timestampValue);case 4:return rx(pl(n),pl(e));case 5:return ke(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Pi(o),l=Pi(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let h=ke(a[u],l[u]);if(h!==0)return h}return ke(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ke(nt(o.latitude),nt(s.latitude));return a!==0?a:ke(nt(o.longitude),nt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ix(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,h;let p=o.fields||{},v=s.fields||{},_=(a=p.value)===null||a===void 0?void 0:a.arrayValue,A=(l=v.value)===null||l===void 0?void 0:l.arrayValue,O=ke(((u=_?.values)===null||u===void 0?void 0:u.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return O!==0?O:ix(_,A)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Kh.mapValue&&s===Kh.mapValue)return 0;if(o===Kh.mapValue)return 1;if(s===Kh.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){let v=ke(l[p],h[p]);if(v!==0)return v;let _=na(a[l[p]],u[h[p]]);if(_!==0)return _}return ke(l.length,h.length)}(n.mapValue,e.mapValue);default:throw oe()}}function rx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);let t=Jr(n),r=Jr(e),i=ke(t.seconds,r.seconds);return i!==0?i:ke(t.nanos,r.nanos)}function ix(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=na(t[i],r[i]);if(o)return o}return ke(t.length,r.length)}function ra(n){return O_(n)}function O_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Jr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Pi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=O_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${O_(t.fields[s])}`;return i+"}"}(n.mapValue):oe()}function k_(n){return!!n&&"integerValue"in n}function n0(n){return!!n&&"arrayValue"in n}function ox(n){return!!n&&"nullValue"in n}function sx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yh(n){return!!n&&"mapValue"in n}function kx(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ll(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return pa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ll(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ll(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Fx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var er=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Yh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(t)}setAll(e){let t=bn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=ll(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Yh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Yh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){pa(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ll(this.value))}};function Lx(n){let e=[];return pa(n.fields,(t,r)=>{let i=new bn([t]);if(Yh(r)){let o=Lx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new _r(e)}var tr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,me.min(),me.min(),me.min(),er.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,me.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,me.min(),me.min(),er.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,me.min(),me.min(),er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ia=class{constructor(e,t){this.position=e,this.inclusive=t}};function ax(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ie.comparator(ie.fromName(s.referenceValue),t.key):r=na(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function cx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Dr(n.position[t],e.position[t]))return!1;return!0}var oa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function uq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var of=class{},mt=class n extends of{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new L_(e,t,r):t==="array-contains"?new U_(e,r):t==="in"?new B_(e,r):t==="not-in"?new $_(e,r):t==="array-contains-any"?new q_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new V_(e,r):new j_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(na(t,this.value)):t!==null&&Ao(this.value)===Ao(t)&&this.matchesComparison(na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Tr=class n extends of{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Vx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Vx(n){return n.op==="and"}function jx(n){return dq(n)&&Vx(n)}function dq(n){for(let e of n.filters)if(e instanceof Tr)return!1;return!0}function F_(n){if(n instanceof mt)return n.field.canonicalString()+n.op.toString()+ra(n.value);if(jx(n))return n.filters.map(e=>F_(e)).join(",");{let e=n.filters.map(t=>F_(t)).join(",");return`${n.op}(${e})`}}function Ux(n,e){return n instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&Dr(r.value,i.value)}(n,e):n instanceof Tr?function(r,i){return i instanceof Tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Ux(s,i.filters[a]),!0):!1}(n,e):void oe()}function Bx(n){return n instanceof mt?function(t){return`${t.field.canonicalString()} ${t.op} ${ra(t.value)}`}(n):n instanceof Tr?function(t){return t.op.toString()+" {"+t.getFilters().map(Bx).join(" ,")+"}"}(n):"Filter"}var L_=class extends mt{constructor(e,t,r){super(e,t,r),this.key=ie.fromName(r.referenceValue)}matches(e){let t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}},V_=class extends mt{constructor(e,t){super(e,"in",t),this.keys=$x("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},j_=class extends mt{constructor(e,t){super(e,"not-in",t),this.keys=$x("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function $x(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ie.fromName(r.referenceValue))}var U_=class extends mt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return n0(t)&&ml(t.arrayValue,this.value)}},B_=class extends mt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ml(this.value.arrayValue,t)}},$_=class extends mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!ml(this.value.arrayValue,t)}},q_=class extends mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!n0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ml(this.value.arrayValue,r))}};var z_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function lx(n,e=null,t=[],r=[],i=null,o=null,s=null){return new z_(n,e,t,r,i,o,s)}function r0(n){let e=ce(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>F_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Mf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ra(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ra(r)).join(",")),e.ue=t}return e.ue}function i0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ux(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cx(n.startAt,e.startAt)&&cx(n.endAt,e.endAt)}function H_(n){return ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var sa=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function hq(n,e,t,r,i,o,s,a){return new sa(n,e,t,r,i,o,s,a)}function Pf(n){return new sa(n)}function ux(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function fq(n){return n.collectionGroup!==null}function ul(n){let e=ce(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new kt(bn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new oa(o,r))}),t.has(bn.keyField().canonicalString())||e.ce.push(new oa(bn.keyField(),r))}return e.ce}function wr(n){let e=ce(n);return e.le||(e.le=pq(e,ul(n))),e.le}function pq(n,e){if(n.limitType==="F")return lx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new oa(i.field,o)});let t=n.endAt?new ia(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ia(n.startAt.position,n.startAt.inclusive):null;return lx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function G_(n,e,t){return new sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nf(n,e){return i0(wr(n),wr(e))&&n.limitType===e.limitType}function qx(n){return`${r0(wr(n))}|lt:${n.limitType}`}function Ks(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Bx(i)).join(", ")}]`),Mf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ra(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ra(i)).join(",")),`Target(${r})`}(wr(n))}; limitType=${n.limitType})`}function Of(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of ul(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let u=ax(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ul(r),i)||r.endAt&&!function(s,a,l){let u=ax(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ul(r),i))}(n,e)}function mq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zx(n){return(e,t)=>{let r=!1;for(let i of ul(n)){let o=gq(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function gq(n,e,t){let r=n.field.isKeyField()?ie.comparator(e.key,t.key):function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?na(l,u):oe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}var Ni=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Ox(this.inner)}size(){return this.innerSize}};var vq=new st(ie.comparator);function Zr(){return vq}var Hx=new st(ie.comparator);function cl(...n){let e=Hx;for(let t of n)e=e.insert(t.key,t);return e}function Gx(n){let e=Hx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function bo(){return dl()}function Wx(){return dl()}function dl(){return new Ni(n=>n.toString(),(n,e)=>n.isEqual(e))}var yq=new st(ie.comparator),_q=new kt(ie.comparator);function Ae(...n){let e=_q;for(let t of n)e=e.add(t);return e}var Eq=new kt(ke);function Iq(){return Eq}function o0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fl(e)?"-0":e}}function Kx(n){return{integerValue:""+n}}function wq(n,e){return iq(e)?Kx(e):o0(n,e)}var aa=class{constructor(){this._=void 0}};function bq(n,e,t){return n instanceof ca?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&e0(o)&&(o=t0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof xo?Yx(n,e):n instanceof Ro?Jx(n,e):function(i,o){let s=Qx(i,o),a=dx(s)+dx(i.Pe);return k_(s)&&k_(i.Pe)?Kx(a):o0(i.serializer,a)}(n,e)}function Cq(n,e,t){return n instanceof xo?Yx(n,e):n instanceof Ro?Jx(n,e):t}function Qx(n,e){return n instanceof la?function(r){return k_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ca=class extends aa{},xo=class extends aa{constructor(e){super(),this.elements=e}};function Yx(n,e){let t=Zx(e);for(let r of n.elements)t.some(i=>Dr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ro=class extends aa{constructor(e){super(),this.elements=e}};function Jx(n,e){let t=Zx(e);for(let r of n.elements)t=t.filter(i=>!Dr(i,r));return{arrayValue:{values:t}}}var la=class extends aa{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function dx(n){return nt(n.integerValue||n.doubleValue)}function Zx(n){return n0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Dq(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof xo&&i instanceof xo||r instanceof Ro&&i instanceof Ro?ta(r.elements,i.elements,Dr):r instanceof la&&i instanceof la?Dr(r.Pe,i.Pe):r instanceof ca&&i instanceof ca}(n.transform,e.transform)}var W_=class{constructor(e,t){this.version=e,this.transformResults=t}},Qr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Jh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ua=class{};function Xx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new gl(n.key,Qr.none()):new Mo(n.key,n.data,Qr.none());{let t=n.data,r=er.empty(),i=new kt(bn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Xr(n.key,r,new _r(i.toArray()),Qr.none())}}function Tq(n,e,t){n instanceof Mo?function(i,o,s){let a=i.value.clone(),l=fx(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Xr?function(i,o,s){if(!Jh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=fx(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(eR(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function hl(n,e,t,r){return n instanceof Mo?function(o,s,a,l){if(!Jh(o.precondition,s))return a;let u=o.value.clone(),h=px(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Xr?function(o,s,a,l){if(!Jh(o.precondition,s))return a;let u=px(o.fieldTransforms,l,s),h=s.data;return h.setAll(eR(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Jh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function Sq(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=Qx(r.transform,i||null);o!=null&&(t===null&&(t=er.empty()),t.set(r.field,o))}return t||null}function hx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ta(r,i,(o,s)=>Dq(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Mo=class extends ua{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Xr=class extends ua{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function eR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function fx(n,e,t){let r=new Map;qe(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Cq(s,a,t[i]))}return r}function px(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,bq(o,s,e))}return r}var gl=class extends ua{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},K_=class extends ua{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Q_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Tq(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=hl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=hl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Wx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=Xx(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(t,r)=>hx(t,r))&&ta(this.baseMutations,e.baseMutations,(t,r)=>hx(t,r))}},Y_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){qe(e.mutations.length===r.length);let i=function(){return yq}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var J_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Z_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var dt,Me;function Aq(n){switch(n){default:return oe();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function tR(n){if(n===void 0)return Yr("GRPC error has no .code"),j.UNKNOWN;switch(n){case dt.OK:return j.OK;case dt.CANCELLED:return j.CANCELLED;case dt.UNKNOWN:return j.UNKNOWN;case dt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case dt.INTERNAL:return j.INTERNAL;case dt.UNAVAILABLE:return j.UNAVAILABLE;case dt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case dt.NOT_FOUND:return j.NOT_FOUND;case dt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case dt.ABORTED:return j.ABORTED;case dt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case dt.DATA_LOSS:return j.DATA_LOSS;default:return oe()}}(Me=dt||(dt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";var mx=null;function xq(){return new TextEncoder}var Rq=new Ri([4294967295,4294967295],0);function gx(n){let e=xq().encode(n),t=new p_;return t.update(e),new Uint8Array(t.digest())}function vx(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ri([t,r],0),new Ri([i,o],0)]}var X_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Co(`Invalid padding: ${t}`);if(r<0)throw new Co(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Co(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Co(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ri.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Ri.fromNumber(r)));return i.compare(Rq)===1&&(i=new Ri([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=gx(e),[r,i]=vx(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=gx(e),[r,i]=vx(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Co=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var sf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,vl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(me.min(),i,new st(ke),Zr(),Ae())}},vl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ae(),Ae(),Ae())}};var Zs=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},af=class{constructor(e,t){this.targetId=e,this.me=t}},cf=class{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},lf=class{constructor(){this.fe=0,this.ge=_x(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),t=Ae(),r=Ae();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new vl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=_x()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},eE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zr(),this.qe=yx(),this.Qe=new st(ke)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(H_(o))if(r===0){let s=new ie(o.path);this.Ue(t,s,tr.newNoDocument(s,me.min()))}else qe(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}mx?.et(function(h,p,v,_,A){var O,k,z,X,ee,ge;let et={localCacheCount:h,existenceFilterCount:p.count,databaseId:v.database,projectId:v.projectId},le=p.unchangedNames;return le&&(et.bloomFilter={applied:A===0,hashCount:(O=le?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(X=(z=(k=le?.bits)===null||k===void 0?void 0:k.bitmap)===null||z===void 0?void 0:z.length)!==null&&X!==void 0?X:0,padding:(ge=(ee=le?.bits)===null||ee===void 0?void 0:ee.padding)!==null&&ge!==void 0?ge:0,mightContain:D=>{var y;return(y=_?.mightContain(D))!==null&&y!==void 0&&y}}),et}(s,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Pi(r).toUint8Array()}catch(l){if(l instanceof nf)return ea("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new X_(s,i,o)}catch(l){return ea(l instanceof Co?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&H_(a.target)){let l=new ie(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,tr.newNoDocument(l,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Ae();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new sf(e,t,this.Qe,this.ke,r);return this.ke=Zr(),this.qe=yx(),this.Qe=new st(ke),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new lf,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new kt(ke),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||K("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lf),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function yx(){return new st(ie.comparator)}function _x(){return new st(ie.comparator)}var Mq={asc:"ASCENDING",desc:"DESCENDING"},Pq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nq={and:"AND",or:"OR"},tE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function nE(n,e){return n.useProto3Json||Mf(e)?e:{value:e}}function uf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Oq(n,e){return uf(n,e.toTimestamp())}function br(n){return qe(!!n),me.fromTimestamp(function(t){let r=Jr(t);return new Ct(r.seconds,r.nanos)}(n))}function s0(n,e){return rE(n,e).canonicalString()}function rE(n,e){let t=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function rR(n){let e=ot.fromString(n);return qe(cR(e)),e}function iE(n,e){return s0(n.databaseId,e.path)}function E_(n,e){let t=rR(e);if(t.get(1)!==n.databaseId.projectId)throw new J(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new J(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ie(oR(t))}function iR(n,e){return s0(n.databaseId,e)}function kq(n){let e=rR(n);return e.length===4?ot.emptyPath():oR(e)}function oE(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oR(n){return qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Ex(n,e,t){return{name:iE(n,e),fields:t.value.mapValue.fields}}function Fq(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(qe(h===void 0||typeof h=="string"),Ft.fromBase64String(h||"")):(qe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ft.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let h=u.code===void 0?j.UNKNOWN:tR(u.code);return new J(h,u.message||"")}(s);t=new cf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=E_(n,r.document.name),o=br(r.document.updateTime),s=r.document.createTime?br(r.document.createTime):me.min(),a=new er({mapValue:{fields:r.document.fields}}),l=tr.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new Zs(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=E_(n,r.document),o=r.readTime?br(r.readTime):me.min(),s=tr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Zs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=E_(n,r.document),o=r.removedTargetIds||[];t=new Zs([],o,i,null)}else{if(!("filter"in e))return oe();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Z_(i,o),a=r.targetId;t=new af(a,s)}}return t}function Lq(n,e){let t;if(e instanceof Mo)t={update:Ex(n,e.key,e.value)};else if(e instanceof gl)t={delete:iE(n,e.key)};else if(e instanceof Xr)t={update:Ex(n,e.key,e.data),updateMask:Gq(e.fieldMask)};else{if(!(e instanceof K_))return oe();t={verify:iE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ca)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ro)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof la)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw oe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Oq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe()}(n,e.precondition)),t}function Vq(n,e){return n&&n.length>0?(qe(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?br(i.updateTime):br(o);return s.isEqual(me.min())&&(s=br(o)),new W_(s,i.transformResults||[])}(t,e))):[]}function jq(n,e){return{documents:[iR(n,e.path)]}}function Uq(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=iR(n,i);let o=function(u){if(u.length!==0)return aR(Tr.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(h=>function(v){return{field:Qs(v.field),direction:qq(v.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=nE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i}}function Bq(n){let e=kq(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){qe(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let v=sR(p);return v instanceof Tr&&jx(v)?v.getFilters():[v]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(v=>function(A){return new oa(Ys(A.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(t.orderBy));let a=null;t.limit&&(a=function(p){let v;return v=typeof p=="object"?p.value:p,Mf(v)?null:v}(t.limit));let l=null;t.startAt&&(l=function(p){let v=!!p.before,_=p.values||[];return new ia(_,v)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let v=!p.before,_=p.values||[];return new ia(_,v)}(t.endAt)),hq(e,i,s,o,a,"F",l,u)}function $q(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ys(t.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ys(t.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ys(t.unaryFilter.field);return mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ys(t.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(n):n.fieldFilter!==void 0?function(t){return mt.create(Ys(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Tr.create(t.compositeFilter.filters.map(r=>sR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(t.compositeFilter.op))}(n):oe()}function qq(n){return Mq[n]}function zq(n){return Pq[n]}function Hq(n){return Nq[n]}function Qs(n){return{fieldPath:n.canonicalString()}}function Ys(n){return bn.fromServerFormat(n.fieldPath)}function aR(n){return n instanceof mt?function(t){if(t.op==="=="){if(sx(t.value))return{unaryFilter:{field:Qs(t.field),op:"IS_NAN"}};if(ox(t.value))return{unaryFilter:{field:Qs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sx(t.value))return{unaryFilter:{field:Qs(t.field),op:"IS_NOT_NAN"}};if(ox(t.value))return{unaryFilter:{field:Qs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(t.field),op:zq(t.op),value:t.value}}}(n):n instanceof Tr?function(t){let r=t.getFilters().map(i=>aR(i));return r.length===1?r[0]:{compositeFilter:{op:Hq(t.op),filters:r}}}(n):oe()}function Gq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var yl=class n{constructor(e,t,r,i,o=me.min(),s=me.min(),a=Ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var sE=class{constructor(e){this.ct=e}};function Wq(n){let e=Bq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?G_(e,e.limit,"L"):e}var df=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(nt(e.integerValue));else if("doubleValue"in e){let r=nt(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),fl(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Jr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Pi(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?Fx(e)?this.dt(t,Number.MAX_SAFE_INTEGER):kx(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):oe()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(nt(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),ie.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};df.vt=new df;var aE=class{constructor(){this.un=new cE}addToCollectionParentIndex(e,t){return this.un.add(t),U.resolve()}getCollectionParents(e,t){return U.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return U.resolve()}deleteFieldIndex(e,t){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,t){return U.resolve()}getDocumentsMatchingTarget(e,t){return U.resolve(null)}getIndexType(e,t){return U.resolve(0)}getFieldIndexes(e,t){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,t){return U.resolve(So.min())}getMinOffsetFromCollectionGroup(e,t){return U.resolve(So.min())}updateCollectionGroup(e,t,r){return U.resolve()}updateIndexEntries(e,t){return U.resolve()}},cE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new kt(ot.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(ot.comparator)).toArray()}};var NY=new Uint8Array(0);var yr=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(41943040,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);var _l=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var lE=class{constructor(){this.changes=new Ni(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?U.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var uE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var dE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&hl(r.mutation,i,_r.empty(),Ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ae()){let i=bo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=cl();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=bo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ae()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Zr(),s=dl(),a=function(){return dl()}();return t.forEach((l,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Xr)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),hl(h.mutation,u,h.mutation.getFieldMask(),Ct.now())):s.set(u.key,_r.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var p;return a.set(u,new uE(h,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=dl(),i=new st((s,a)=>s-a),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let h=r.get(l)||_r.empty();h=a.applyToLocalView(u,h),r.set(l,h);let p=(i.get(a.batchId)||Ae()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,h=l.value,p=Wx();h.forEach(v=>{if(!o.has(v)){let _=Xx(t.get(v),r.get(v));_!==null&&p.set(v,_),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fq(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):U.resolve(bo()),a=-1,l=o;return s.next(u=>U.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{l=l.insert(h,v)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ae())).next(h=>({batchId:a,changes:Gx(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ie(t)).next(r=>{let i=cl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=cl();return this.indexManager.getCollectionParents(e,o).next(a=>U.forEach(a,l=>{let u=function(p,v){return new sa(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((p,v)=>{s=s.insert(p,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,tr.newInvalidDocument(h)))});let a=cl();return s.forEach((l,u)=>{let h=o.get(l);h!==void 0&&hl(h.mutation,u,_r.empty(),Ct.now()),Of(t,u)&&(a=a.insert(l,u))}),a})}};var hE=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return U.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:br(i.createTime)}}(t)),U.resolve()}getNamedQuery(e,t){return U.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:Wq(i.bundledQuery),readTime:br(i.readTime)}}(t)),U.resolve()}};var fE=class{constructor(){this.overlays=new st(ie.comparator),this.Ir=new Map}getOverlay(e,t){return U.resolve(this.overlays.get(t))}getOverlays(e,t){let r=bo();return U.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),U.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,t,r){let i=bo(),o=t.length+1,s=new ie(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new st((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=bo(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=bo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return U.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new J_(t,r));let o=this.Ir.get(t);o===void 0&&(o=Ae(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var pE=class{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,U.resolve()}};var El=class{constructor(){this.Tr=new kt(ht.Er),this.dr=new kt(ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new ht(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new ht(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new ie(new ot([])),r=new ht(t,e),i=new ht(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ie(new ot([])),r=new ht(t,e),i=new ht(t,e+1),o=Ae();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ht(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ht=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ie.comparator(e.key,t.key)||ke(e.wr,t.wr)}static Ar(e,t){return ke(e.wr,t.wr)||ie.comparator(e.key,t.key)}};var mE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new kt(ht.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Q_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new ht(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,t){return U.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ht(t,0),i=new ht(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kt(ke);return t.forEach(i=>{let o=new ht(i,0),s=new ht(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ie.isDocumentKey(o)||(o=o.child(""));let s=new ht(new ie(o),0),a=new kt(ke);return this.br.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),U.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){qe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(t.mutations,i=>{let o=new ht(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new ht(t,0),i=this.br.firstAfterOrEqual(r);return U.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var gE=class{constructor(e){this.Mr=e,this.docs=function(){return new st(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return U.resolve(r?r.document.mutableCopy():tr.newInvalidDocument(t))}getEntries(e,t){let r=Zr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():tr.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Zr(),s=t.path,a=new ie(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||tq(eq(h),r)<=0||(i.has(h.key)||Of(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,t,r,i){oe()}Or(e,t){return U.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vE(this)}getSize(e){return U.resolve(this.size)}},vE=class extends lE{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var yE=class{constructor(e){this.persistence=e,this.Nr=new Ni(t=>r0(t),i0),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new El,this.targetCount=0,this.kr=_l.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),U.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new _l(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,U.resolve()}updateTargetData(e,t){return this.Kn(t),U.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return U.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),U.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),U.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return U.resolve(r)}containsKey(e,t){return U.resolve(this.Br.containsKey(t))}};var _E=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Nx(0),this.Kr=!1,this.Kr=!0,this.$r=new pE,this.referenceDelegate=e(this),this.Ur=new yE(this),this.indexManager=new aE,this.remoteDocumentCache=function(i){return new gE(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new sE(t),this.Gr=new hE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new mE(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){K("MemoryPersistence","Starting transaction:",e);let i=new EE(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},EE=class extends P_{constructor(e){super(),this.currentSequenceNumber=e}},IE=class n{constructor(e){this.persistence=e,this.Jr=new El,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),U.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{let i=ie.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,me.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return U.or([()=>U.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var wE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Ae(),i=Ae();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var bE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var CE=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return gA()?8:rq(wn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new bE;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(al()<=Se.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Ks(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(al()<=Se.DEBUG&&K("QueryEngine","Query:",Ks(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(al()<=Se.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Ks(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(t))):U.resolve())}Yi(e,t){if(ux(t))return U.resolve(null);let r=wr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=G_(t,null,"F"),r=wr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ae(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.ts(t,a);return this.ns(t,u,s,l.readTime)?this.Yi(e,G_(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,r,i){return ux(t)||i.isEqual(me.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?U.resolve(null):(al()<=Se.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ks(t)),this.rs(e,s,t,X$(i,-1)).next(a=>a))})}ts(e,t){let r=new kt(zx(e));return t.forEach((i,o)=>{Of(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return al()<=Se.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Ks(t)),this.Ji.getDocumentsMatchingQuery(e,t,So.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var DE=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new st(ke),this._s=new Ni(o=>r0(o),i0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dE(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function Kq(n,e,t,r){return new DE(n,e,t,r)}function lR(n,e){return R(this,null,function*(){let t=ce(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=Ae();for(let u of i){s.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function Qq(n,e){let t=ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){let p=u.batch,v=p.keys(),_=U.resolve();return v.forEach(A=>{_=_.next(()=>h.getEntry(l,A)).next(O=>{let k=u.docVersions.get(A);qe(k!==null),O.version.compareTo(k)<0&&(p.applyToRemoteDocument(O,u),O.isValidDocument()&&(O.setReadTime(u.commitVersion),h.addEntry(O)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ae();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function uR(n){let e=ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Yq(n,e){let t=ce(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let v=i.get(p);if(!v)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let _=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Ft.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(p,_),function(O,k,z){return O.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(v,_,h)&&a.push(t.Ur.updateTargetData(o,_))});let l=Zr(),u=Ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Jq(o,s,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(me.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.os=i,o))}function Jq(n,e,t){let r=Ae(),i=Ae();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Zr();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function Zq(n,e){let t=ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xq(n,e){let t=ce(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new yl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function TE(n,e,t){return R(this,null,function*(){let r=ce(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Tl(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Ix(n,e,t){let r=ce(n),i=me.min(),o=Ae();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){let p=ce(l),v=p._s.get(h);return v!==void 0?U.resolve(p.os.get(v)):p.Ur.getTargetData(u,h)}(r,s,wr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:me.min(),t?o:Ae())).next(a=>(ez(r,mq(e),a),{documents:a,Ts:o})))}function ez(n,e,t){let r=n.us.get(e)||me.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var hf=class{constructor(){this.activeTargetIds=Iq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var SE=class{constructor(){this.so=new hf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new hf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var AE=class{_o(e){}shutdown(){}};var ff=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Qh=null;function I_(){return Qh===null?Qh=function(){return 268435456+Math.round(2147483648*Math.random())}():Qh++,"0x"+Qh.toString(16)}var tz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var xE=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ot="WebChannelConnection",RE=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=I_(),l=this.xo(t,r.toUriEncodedString());K("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,l,u,i).then(h=>(K("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw ea("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=tz[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=I_();return new Promise((s,a)=>{let l=new m_;l.setWithCredentials(!0),l.listenOnce(g_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sl.NO_ERROR:let h=l.getResponseJson();K(Ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case sl.TIMEOUT:K(Ot,`RPC '${e}' ${o} timed out`),a(new J(j.DEADLINE_EXCEEDED,"Request time out"));break;case sl.HTTP_ERROR:let p=l.getStatus();if(K(Ot,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);let _=v?.error;if(_&&_.status&&_.message){let A=function(k){let z=k.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(z)>=0?z:j.UNKNOWN}(_.status);a(new J(A,_.message))}else a(new J(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(j.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{K(Ot,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);K(Ot,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",u,r,15)})}Bo(e,t,r){let i=I_(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=__(),a=y_(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let h=o.join("");K(Ot,`Creating RPC '${e}' stream ${i}: ${h}`,l);let p=s.createWebChannel(h,l),v=!1,_=!1,A=new xE({Io:k=>{_?K(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(v||(K(Ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),K(Ot,`RPC '${e}' stream ${i} sending:`,k),p.send(k))},To:()=>p.close()}),O=(k,z,X)=>{k.listen(z,ee=>{try{X(ee)}catch(ge){setTimeout(()=>{throw ge},0)}})};return O(p,Ws.EventType.OPEN,()=>{_||(K(Ot,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),O(p,Ws.EventType.CLOSE,()=>{_||(_=!0,K(Ot,`RPC '${e}' stream ${i} transport closed`),A.So())}),O(p,Ws.EventType.ERROR,k=>{_||(_=!0,ea(Ot,`RPC '${e}' stream ${i} transport errored:`,k),A.So(new J(j.UNAVAILABLE,"The operation could not be completed")))}),O(p,Ws.EventType.MESSAGE,k=>{var z;if(!_){let X=k.data[0];qe(!!X);let ee=X,ge=ee.error||((z=ee[0])===null||z===void 0?void 0:z.error);if(ge){K(Ot,`RPC '${e}' stream ${i} received error:`,ge);let et=ge.status,le=function(I){let C=dt[I];if(C!==void 0)return tR(C)}(et),D=ge.message;le===void 0&&(le=j.INTERNAL,D="Unknown error status: "+et+" with message "+ge.message),_=!0,A.So(new J(le,D)),p.close()}else K(Ot,`RPC '${e}' stream ${i} received:`,X),A.bo(X)}}),O(a,v_.STAT_EVENT,k=>{k.stat===Wh.PROXY?K(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Wh.NOPROXY&&K(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function w_(){return typeof document<"u"?document:null}function kf(n){return new tE(n,!0)}var pf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var mf=class{constructor(e,t,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pf(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return R(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return R(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return R(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(Yr(t.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new J(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>R(this,null,function*(){this.state=0,this.start()}))}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ME=class extends mf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=Fq(this.serializer,e),r=function(o){if(!("targetChange"in o))return me.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?me.min():s.readTime?br(s.readTime):me.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=oE(this.serializer),t.addTarget=function(o,s){let a,l=s.target;if(a=H_(l)?{documents:jq(o,l)}:{query:Uq(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=nR(o,s.resumeToken);let u=nE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(me.min())>0){a.readTime=uf(o,s.snapshotVersion.toTimestamp());let u=nE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=$q(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=oE(this.serializer),t.removeTarget=e,this.a_(t)}},PE=class extends mf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=Vq(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=oE(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Lq(this.serializer,r))};this.a_(t)}};var NE=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new J(j.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,rE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(j.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,rE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(j.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},OE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yr(t),this.D_=!1):K("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var kE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>R(this,null,function*(){Po(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(l){return R(this,null,function*(){let u=ce(l);u.L_.add(4),yield Sl(u),u.q_.set("Unknown"),u.L_.delete(4),yield Ff(u)})}(this))}))}),this.q_=new OE(r,i)}};function Ff(n){return R(this,null,function*(){if(Po(n))for(let e of n.B_)yield e(!0)})}function Sl(n){return R(this,null,function*(){for(let e of n.B_)yield e(!1)})}function dR(n,e){let t=ce(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),u0(t)?l0(t):ma(t).r_()&&c0(t,e))}function a0(n,e){let t=ce(n),r=ma(t);t.N_.delete(e),r.r_()&&hR(t,e),t.N_.size===0&&(r.r_()?r.o_():Po(t)&&t.q_.set("Unknown"))}function c0(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ma(n).A_(e)}function hR(n,e){n.Q_.xe(e),ma(n).R_(e)}function l0(n){n.Q_=new eE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ma(n).start(),n.q_.v_()}function u0(n){return Po(n)&&!ma(n).n_()&&n.N_.size>0}function Po(n){return ce(n).L_.size===0}function fR(n){n.Q_=void 0}function nz(n){return R(this,null,function*(){n.q_.set("Online")})}function rz(n){return R(this,null,function*(){n.N_.forEach((e,t)=>{c0(n,e)})})}function iz(n,e){return R(this,null,function*(){fR(n),u0(n)?(n.q_.M_(e),l0(n)):n.q_.set("Unknown")})}function oz(n,e,t){return R(this,null,function*(){if(n.q_.set("Online"),e instanceof cf&&e.state===2&&e.cause)try{yield function(i,o){return R(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gf(n,r)}else if(e instanceof Zs?n.Q_.Ke(e):e instanceof af?n.Q_.He(e):n.Q_.We(e),!t.isEqual(me.min()))try{let r=yield uR(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.N_.get(u);h&&o.N_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let h=o.N_.get(l);if(!h)return;o.N_.set(l,h.withResumeToken(Ft.EMPTY_BYTE_STRING,h.snapshotVersion)),hR(o,l);let p=new yl(h.target,l,u,h.sequenceNumber);c0(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){K("RemoteStore","Failed to raise snapshot:",r),yield gf(n,r)}})}function gf(n,e,t){return R(this,null,function*(){if(!Tl(e))throw e;n.L_.add(1),yield Sl(n),n.q_.set("Offline"),t||(t=()=>uR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>R(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Ff(n)}))})}function pR(n,e){return e().catch(t=>gf(n,t,e))}function Lf(n){return R(this,null,function*(){let e=ce(n),t=Oi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;sz(e);)try{let i=yield Zq(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,az(e,i)}catch(i){yield gf(e,i)}mR(e)&&gR(e)})}function sz(n){return Po(n)&&n.O_.length<10}function az(n,e){n.O_.push(e);let t=Oi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function mR(n){return Po(n)&&!Oi(n).n_()&&n.O_.length>0}function gR(n){Oi(n).start()}function cz(n){return R(this,null,function*(){Oi(n).p_()})}function lz(n){return R(this,null,function*(){let e=Oi(n);for(let t of n.O_)e.m_(t.mutations)})}function uz(n,e,t){return R(this,null,function*(){let r=n.O_.shift(),i=Y_.from(r,e,t);yield pR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Lf(n)})}function dz(n,e){return R(this,null,function*(){e&&Oi(n).V_&&(yield function(r,i){return R(this,null,function*(){if(function(s){return Aq(s)&&s!==j.ABORTED}(i.code)){let o=r.O_.shift();Oi(r).s_(),yield pR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Lf(r)}})}(n,e)),mR(n)&&gR(n)})}function wx(n,e){return R(this,null,function*(){let t=ce(n);t.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let r=Po(t);t.L_.add(3),yield Sl(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Ff(t)})}function hz(n,e){return R(this,null,function*(){let t=ce(n);e?(t.L_.delete(2),yield Ff(t)):e||(t.L_.add(2),yield Sl(t),t.q_.set("Unknown"))})}function ma(n){return n.K_||(n.K_=function(t,r,i){let o=ce(t);return o.w_(),new ME(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:nz.bind(null,n),Ro:rz.bind(null,n),mo:iz.bind(null,n),d_:oz.bind(null,n)}),n.B_.push(e=>R(this,null,function*(){e?(n.K_.s_(),u0(n)?l0(n):n.q_.set("Unknown")):(yield n.K_.stop(),fR(n))}))),n.K_}function Oi(n){return n.U_||(n.U_=function(t,r,i){let o=ce(t);return o.w_(),new PE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:cz.bind(null,n),mo:dz.bind(null,n),f_:lz.bind(null,n),g_:uz.bind(null,n)}),n.B_.push(e=>R(this,null,function*(){e?(n.U_.s_(),yield Lf(n)):(yield n.U_.stop(),n.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var FE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function d0(n,e){if(Yr("AsyncQueue",`${e}: ${n}`),Tl(n))return new J(j.UNAVAILABLE,`${e}: ${n}`);throw n}var vf=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ie.comparator(t.key,r.key):(t,r)=>ie.comparator(t.key,r.key),this.keyedMap=cl(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var yf=class{constructor(){this.W_=new st(ie.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},da=class n{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,vf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var LE=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},VE=class{constructor(){this.queries=bx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ce(t),o=i.queries;i.queries=bx(),o.forEach((s,a)=>{for(let l of a.j_)l.onError(r)})})(this,new J(j.ABORTED,"Firestore shutting down"))}};function bx(){return new Ni(n=>qx(n),Nf)}function vR(n,e){return R(this,null,function*(){let t=ce(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new LE,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=d0(s,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&h0(t)})}function yR(n,e){return R(this,null,function*(){let t=ce(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function fz(n,e){let t=ce(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&h0(t)}function pz(n,e,t){let r=ce(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function h0(n){n.Y_.forEach(e=>{e.next()})}var jE,Cx;(Cx=jE||(jE={})).ea="default",Cx.Cache="cache";var _f=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==jE.Cache}};var Ef=class{constructor(e){this.key=e}},If=class{constructor(e){this.key=e}},UE=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ae(),this.mutatedKeys=Ae(),this.Aa=zx(e),this.Ra=new vf(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new yf,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let v=i.get(h),_=Of(this.query,p)?p:null,A=!!v&&this.mutatedKeys.has(v.key),O=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),k=!1;v&&_?v.data.isEqual(_.data)?A!==O&&(r.track({type:3,doc:_}),k=!0):this.ga(v,_)||(r.track({type:2,doc:_}),k=!0,(l&&this.Aa(_,l)>0||u&&this.Aa(_,u)<0)&&(a=!0)):!v&&_?(r.track({type:0,doc:_}),k=!0):v&&!_&&(r.track({type:1,doc:v}),k=!0,(l||u)&&(a=!0)),k&&(_?(s=s.add(_),o=O?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(_,A){let O=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return O(_)-O(A)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new da(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new yf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new If(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Ef(r))}),t}ba(e){this.Ta=e.Ts,this.da=Ae();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return da.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},BE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},$E=class{constructor(e){this.key=e,this.va=!1}},qE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ni(a=>qx(a),Nf),this.Ma=new Map,this.xa=new Set,this.Oa=new st(ie.comparator),this.Na=new Map,this.La=new El,this.Ba={},this.ka=new Map,this.qa=_l.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function mz(n,e,t=!0){return R(this,null,function*(){let r=CR(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield _R(r,e,t,!0),i})}function gz(n,e){return R(this,null,function*(){let t=CR(n);yield _R(t,e,!0,!1)})}function _R(n,e,t,r){return R(this,null,function*(){let i=yield Xq(n.localStore,wr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield vz(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&dR(n.remoteStore,i),a})}function vz(n,e,t,r,i){return R(this,null,function*(){n.Ka=(p,v,_)=>function(O,k,z,X){return R(this,null,function*(){let ee=k.view.ma(z);ee.ns&&(ee=yield Ix(O.localStore,k.query,!1).then(({documents:D})=>k.view.ma(D,ee)));let ge=X&&X.targetChanges.get(k.targetId),et=X&&X.targetMismatches.get(k.targetId)!=null,le=k.view.applyChanges(ee,O.isPrimaryClient,ge,et);return Tx(O,k.targetId,le.wa),le.snapshot})}(n,p,v,_);let o=yield Ix(n.localStore,e,!0),s=new UE(e,o.Ts),a=s.ma(o.documents),l=vl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,l);Tx(n,t,u.wa);let h=new BE(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function yz(n,e,t){return R(this,null,function*(){let r=ce(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Nf(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield TE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&a0(r.remoteStore,i.targetId),zE(r,i.targetId)}).catch(Dl))):(zE(r,i.targetId),yield TE(r.localStore,i.targetId,!0))})}function _z(n,e){return R(this,null,function*(){let t=ce(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),a0(t.remoteStore,r.targetId))})}function Ez(n,e,t){return R(this,null,function*(){let r=Sz(n);try{let i=yield function(s,a){let l=ce(s),u=Ct.now(),h=a.reduce((_,A)=>_.add(A.key),Ae()),p,v;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let A=Zr(),O=Ae();return l.cs.getEntries(_,h).next(k=>{A=k,A.forEach((z,X)=>{X.isValidDocument()||(O=O.add(z))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,A)).next(k=>{p=k;let z=[];for(let X of a){let ee=Sq(X,p.get(X.key).overlayedDocument);ee!=null&&z.push(new Xr(X.key,ee,Lx(ee.value.mapValue),Qr.exists(!0)))}return l.mutationQueue.addMutationBatch(_,u,z,a)}).next(k=>{v=k;let z=k.applyToLocalDocumentSet(p,O);return l.documentOverlayCache.saveOverlays(_,k.batchId,z)})}).then(()=>({batchId:v.batchId,changes:Gx(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new st(ke)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Al(r,i.changes),yield Lf(r.remoteStore)}catch(i){let o=d0(i,"Failed to persist write");t.reject(o)}})}function ER(n,e){return R(this,null,function*(){let t=ce(n);try{let r=yield Yq(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?qe(s.va):i.removedDocuments.size>0&&(qe(s.va),s.va=!1))}),yield Al(t,r,e)}catch(r){yield Dl(r)}})}function Dx(n,e,t){let r=ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=ce(s);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(let v of p.j_)v.Z_(a)&&(u=!0)}),u&&h0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Iz(n,e,t){return R(this,null,function*(){let r=ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new st(ie.comparator);s=s.insert(o,tr.newNoDocument(o,me.min()));let a=Ae().add(o),l=new sf(me.min(),new Map,new st(ke),s,a);yield ER(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),f0(r)}else yield TE(r.localStore,e,!1).then(()=>zE(r,e,t)).catch(Dl)})}function wz(n,e){return R(this,null,function*(){let t=ce(n),r=e.batch.batchId;try{let i=yield Qq(t.localStore,e);wR(t,r,null),IR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Al(t,i)}catch(i){yield Dl(i)}})}function bz(n,e,t){return R(this,null,function*(){let r=ce(n);try{let i=yield function(s,a){let l=ce(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(qe(p!==null),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);wR(r,e,t),IR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Al(r,i)}catch(i){yield Dl(i)}})}function IR(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function wR(n,e,t){let r=ce(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function zE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||bR(n,r)})}function bR(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(a0(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),f0(n))}function Tx(n,e,t){for(let r of t)r instanceof Ef?(n.La.addReference(r.key,e),Cz(n,r)):r instanceof If?(K("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||bR(n,r.key)):oe()}function Cz(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(K("SyncEngine","New document in limbo: "+t),n.xa.add(r),f0(n))}function f0(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ie(ot.fromString(e)),r=n.qa.next();n.Na.set(r,new $E(t)),n.Oa=n.Oa.insert(t,r),dR(n.remoteStore,new yl(wr(Pf(t.path)),r,"TargetPurposeLimboResolution",Nx.oe))}}function Al(n,e,t){return R(this,null,function*(){let r=ce(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(h=t?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);let p=wE.Wi(l.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(l,u){return R(this,null,function*(){let h=ce(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(u,v=>U.forEach(v.$i,_=>h.persistence.referenceDelegate.addReference(p,v.targetId,_)).next(()=>U.forEach(v.Ui,_=>h.persistence.referenceDelegate.removeReference(p,v.targetId,_)))))}catch(p){if(!Tl(p))throw p;K("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let v=p.targetId;if(!p.fromCache){let _=h.os.get(v),A=_.snapshotVersion,O=_.withLastLimboFreeSnapshotVersion(A);h.os=h.os.insert(v,O)}}})}(r.localStore,o))})}function Dz(n,e){return R(this,null,function*(){let t=ce(n);if(!t.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let r=yield lR(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new J(j.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Al(t,r.hs)}})}function Tz(n,e){let t=ce(n),r=t.Na.get(e);if(r&&r.va)return Ae().add(r.key);{let i=Ae(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function CR(n){let e=ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ER.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Iz.bind(null,e),e.Ca.d_=fz.bind(null,e.eventManager),e.Ca.$a=pz.bind(null,e.eventManager),e}function Sz(n){let e=ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bz.bind(null,e),e}var Sx=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return R(this,null,function*(){this.serializer=kf(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return Kq(this.persistence,new CE,t.initialUser,this.serializer)}Ga(t){return new _E(IE.Zr,this.serializer)}Wa(t){return new SE}terminate(){return R(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Az=(()=>{class n{initialize(t,r){return R(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Dx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dz.bind(null,this.syncEngine),yield hz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new VE}()}createDatastore(t){let r=kf(t.databaseInfo.databaseId),i=function(s){return new RE(s)}(t.databaseInfo);return function(s,a,l,u){return new NE(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,l){return new kE(i,o,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>Dx(this.syncEngine,r,0),function(){return ff.D()?new ff:new AE}())}createSyncEngine(t,r){return function(o,s,a,l,u,h,p){let v=new qE(o,s,a,l,u,h);return p&&(v.Qa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return R(this,null,function*(){var t,r;yield function(o){return R(this,null,function*(){let s=ce(o);K("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Sl(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var wf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var HE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=_t.UNAUTHENTICATED,this.clientId=Xh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>R(this,null,function*(){K("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>R(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=d0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function b_(n,e){return R(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>R(this,null,function*(){r.isEqual(i)||(yield lR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function Ax(n,e){return R(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield xz(n);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>wx(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>wx(e.remoteStore,i)),n._onlineComponents=e})}function xz(n){return R(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield b_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ea("Error using user provided cache. Falling back to memory cache: "+t),yield b_(n,new Sx)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield b_(n,new Sx);return n._offlineComponents})}function DR(n){return R(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ax(n,n._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield Ax(n,new Az))),n._onlineComponents})}function Rz(n){return DR(n).then(e=>e.syncEngine)}function GE(n){return R(this,null,function*(){let e=yield DR(n),t=e.eventManager;return t.onListen=mz.bind(null,e.syncEngine),t.onUnlisten=yz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_z.bind(null,e.syncEngine),t})}function Mz(n,e,t={}){let r=new Er;return n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(o,s,a,l,u){let h=new wf({next:v=>{h.Za(),s.enqueueAndForget(()=>yR(o,p));let _=v.docs.has(a);!_&&v.fromCache?u.reject(new J(j.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&l&&l.source==="server"?u.reject(new J(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),p=new _f(Pf(a.path),h,{includeMetadataChanges:!0,_a:!0});return vR(o,p)}(yield GE(n),n.asyncQueue,e,t,r)})),r.promise}function TR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var xx=new Map;function SR(n,e,t){if(!t)throw new J(j.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Pz(n,e,t,r){if(e===!0&&r===!0)throw new J(j.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Rx(n){if(!ie.isDocumentKey(n))throw new J(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Mx(n){if(ie.isDocumentKey(n))throw new J(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function p0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":oe()}function Cr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new J(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=p0(n);throw new J(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var bf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Pz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new J(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new J(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new J(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ha=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C_;switch(r.type){case"firstParty":return new A_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return R(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=xx.get(t);r&&(K("ComponentProvider","Removing Datastore"),xx.delete(t),r.terminate())}(this),Promise.resolve()}};function AR(n,e,t,r={}){var i;let o=(n=Cr(n,ha))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=_t.MOCK_USER;else{a=dA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _t(u)}n._authCredentials=new D_(new Zh(a,l))}}var Cf=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},ln=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Mi=class n extends Cf{constructor(e,t,r){super(e,t,Pf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new ie(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function xR(n,e,...t){if(n=Vn(n),SR("collection","path",e),n instanceof ha){let r=ot.fromString(e,...t);return Mx(r),new Mi(n,null,r)}{if(!(n instanceof ln||n instanceof Mi))throw new J(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ot.fromString(e,...t));return Mx(r),new Mi(n.firestore,null,r)}}function m0(n,e,...t){if(n=Vn(n),arguments.length===1&&(e=Xh.newId()),SR("doc","path",e),n instanceof ha){let r=ot.fromString(e,...t);return Rx(r),new ln(n,null,new ie(r))}{if(!(n instanceof ln||n instanceof Mi))throw new J(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ot.fromString(e,...t));return Rx(r),new ln(n.firestore,n instanceof Mi?n.converter:null,new ie(r))}}var Df=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pf(this,"async_queue_retry"),this.Vu=()=>{let r=w_();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=w_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=w_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Er;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return R(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Tl(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Yr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=FE.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&oe()}verifyOperationInProgress(){}wu(){return R(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function Px(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var ei=class extends ha{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Df,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return R(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Df(e),this._firestoreClient=void 0,yield e}})}};function RR(n,e){let t=typeof n=="object"?n:Yc(),r=typeof n=="string"?n:e||"(default)",i=Qy(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=lA("firestore");o&&AR(i,...o)}return i}function g0(n){if(n._terminated)throw new J(j.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Nz(n),n._firestoreClient}function Nz(n){var e,t,r;let i=n._freezeSettings(),o=function(a,l,u,h){return new N_(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,TR(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new HE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var Il=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ft.fromBase64String(e))}catch(t){throw new J(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var wl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new J(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Tf=class{constructor(e){this._methodName=e}};var bl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new J(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new J(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}};var Cl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Oz=/^__.*__$/,WE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mo(e,this.data,t,this.fieldTransforms)}};function MR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var KE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Sf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(MR(this.Cu)&&Oz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},QE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||kf(e)}Qu(e,t,r,i=!1){return new KE({Cu:e,methodName:t,qu:r,path:bn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function PR(n){let e=n._freezeSettings(),t=kf(n._databaseId);return new QE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NR(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);LR("Data must be an object, but it was:",s,r);let a=kR(r,s),l,u;if(o.merge)l=new _r(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let v=kz(e,p,t);if(!s.contains(v))throw new J(j.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Lz(h,v)||h.push(v)}l=new _r(h),u=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=s.fieldTransforms;return new WE(new er(a),l,u)}function OR(n,e){if(FR(n=Vn(n)))return LR("Unsupported field value:",e,n),kR(n,e);if(n instanceof Tf)return function(r,i){if(!MR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=OR(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ct.fromDate(r);return{timestampValue:uf(i.serializer,o)}}if(r instanceof Ct){let o=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uf(i.serializer,o)}}if(r instanceof bl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Il)return{bytesValue:nR(i.serializer,r._byteString)};if(r instanceof ln){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:s0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Cl)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return o0(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${p0(r)}`)}(n,e)}function kR(n,e){let t={};return Ox(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(n,(r,i)=>{let o=OR(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function FR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof bl||n instanceof Il||n instanceof ln||n instanceof Tf||n instanceof Cl)}function LR(n,e,t){if(!FR(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=p0(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function kz(n,e,t){if((e=Vn(e))instanceof wl)return e._internalPath;if(typeof e=="string")return VR(n,e);throw Sf("Field path arguments must be of type string or ",n,!1,void 0,t)}var Fz=new RegExp("[~\\*/\\[\\]]");function VR(n,e,t){if(e.search(Fz)>=0)throw Sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wl(...e.split("."))._internalPath}catch{throw Sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new J(j.INVALID_ARGUMENT,a+n+l)}function Lz(n,e){return n.some(t=>t.isEqual(e))}var Af=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new YE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(jR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},YE=class extends Af{data(){return super.data()}};function jR(n,e){return typeof e=="string"?VR(n,e):e instanceof wl?e._internalPath:e._delegate._internalPath}function Vz(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new J(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var JE=class{convertValue(e,t="none"){switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return pa(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>nt(s.doubleValue));return new Cl(o)}convertGeoPoint(e){return new bl(nt(e.latitude),nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=t0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pl(e));default:return null}}convertTimestamp(e){let t=Jr(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ot.fromString(e);qe(cR(r));let i=new rf(r.get(1),r.get(3)),o=new ie(r.popFirst(5));return i.isEqual(t)||Yr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function UR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Do=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},xf=class extends Af{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Xs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(jR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Xs=class extends xf{data(e={}){return super.data(e)}},ZE=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Do(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Xs(this._firestore,this._userDataWriter,r.key,r,new Do(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new J(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new Xs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Do(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new Xs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Do(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:jz(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function jz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}function BR(n){n=Cr(n,ln);let e=Cr(n.firestore,ei);return Mz(g0(e),n._key).then(t=>HR(e,n,t))}var Rf=class extends JE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,t)}};function $R(n,e,t){n=Cr(n,ln);let r=Cr(n.firestore,ei),i=UR(n.converter,e,t);return y0(r,[NR(PR(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Qr.none())])}function qR(n){return y0(Cr(n.firestore,ei),[new gl(n._key,Qr.none())])}function zR(n,e){let t=Cr(n.firestore,ei),r=m0(n),i=UR(n.converter,e);return y0(t,[NR(PR(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Qr.exists(!1))]).then(()=>r)}function v0(n,...e){var t,r,i;n=Vn(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Px(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Px(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,u,h;if(n instanceof ln)u=Cr(n.firestore,ei),h=Pf(n._key.path),l={next:p=>{e[s]&&e[s](HR(u,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Cr(n,Cf);u=Cr(p.firestore,ei),h=p._query;let v=new Rf(u);l={next:_=>{e[s]&&e[s](new ZE(u,v,p,_))},error:e[s+1],complete:e[s+2]},Vz(n._query)}return function(v,_,A,O){let k=new wf(O),z=new _f(_,k,A);return v.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return vR(yield GE(v),z)})),()=>{k.Za(),v.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return yR(yield GE(v),z)}))}}(g0(u),h,a,l)}function y0(n,e){return function(r,i){let o=new Er;return r.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return Ez(yield Rz(r),i,o)})),o.promise}(g0(n),e)}function HR(n,e,t){let r=t.docs.get(e._key),i=new Rf(n);return new xf(n,i,e._key,r,new Do(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){fa=i})(zs),Ai(new jn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ei(new T_(r.getProvider("auth-internal")),new R_(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rf(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),yt(tx,"4.7.3",e),yt(tx,"4.7.3","esm2017")})();var Vf=function(){return Vf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Vf.apply(this,arguments)};var qz={includeMetadataChanges:!1};function GR(n,e){return e===void 0&&(e=qz),new ue(function(t){var r=v0(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function WR(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Vf(Vf({},r),(t={},t[e.idField]=n.id,t))}function KR(n){return GR(n,{includeMetadataChanges:!0}).pipe(pe(function(e){return e.docs}))}function QR(n,e){return e===void 0&&(e={}),KR(n).pipe(pe(function(t){return t.map(function(r){return WR(r,e)})}))}var No=class{constructor(e){return e}},YR="firestore",_0=class{constructor(){return Zc(YR)}};var E0=new H("angularfire2.firestore-instances");function zz(n,e){let t=Zy(YR,n,e);return t&&new No(t)}function Hz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new No(r)}}var Gz={provide:_0,deps:[[new An,E0]]},Wz={provide:No,useFactory:zz,deps:[[new An,E0],Eo]};function JR(n,...e){return yt("angularfire",Gs.full,"fst"),Qn([Wz,Gz,{provide:E0,useFactory:Hz(n),multi:!0,deps:[ae,Ve,Xc,el,[new An,Hh],[new An,Jc],...e]}])}var jf=Un(QR,!0);var Uf=Un(zR,!0);var Oo=Un(xR,!0);var Bf=Un(qR,!0);var ki=Un(m0,!0);var ZR=Un(BR,!0);var XR=Un(RR,!0);var $f=Un($R,!0);var ze=class n{constructor(e){this.firestore=e;this.adminDoc=ki(this.firestore,"admins/UgtBylRC1Cy22txMwnUA")}adminDoc;addJugador(e){let t=Oo(this.firestore,"jugadores");return Uf(t,e)}getJugadores(){let e=Oo(this.firestore,"jugadores");return jf(e,{idField:"id"})}deleteJugador(e){let t=ki(this.firestore,`jugadores/${e}`);return Bf(t)}updateJugador(e){let t=ki(this.firestore,`jugadores/${e.id}`);return $f(t,e)}addEquipo(e){let t=Oo(this.firestore,"equipos");return Uf(t,e)}getEquipos(){let e=Oo(this.firestore,"equipos");return jf(e,{idField:"id"})}deleteEquipo(e){let t=ki(this.firestore,`equipos/${e}`);return Bf(t)}updateEquipo(e){let t=ki(this.firestore,`equipos/${e.id}`);return $f(t,e)}addPartidos(e){let t=Oo(this.firestore,"partidos");return Uf(t,e)}getPartidos(){let e=Oo(this.firestore,"partidos");return jf(e,{idField:"id"})}deletePartido(e){let t=ki(this.firestore,`partidos/${e}`);return Bf(t)}updatePartido(e){let t=ki(this.firestore,`partidos/${e.id}`);return $f(t,e)}getAdminPassword(){return R(this,null,function*(){try{let e=yield ZR(this.adminDoc);return e.exists()?e.data().contrasena:(console.log("No existe el documento del administrador"),null)}catch(e){return console.error("Error al obtener la contrase\xF1a del administrador:",e),null}})}static \u0275fac=function(t){return new(t||n)(F(No))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function qf(n,e=0){return Qz(n)?Number(n):arguments.length===2?e:0}function Qz(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function I0(n){return Array.isArray(n)?n:[n]}function lt(n){return n==null?"":typeof n=="string"?n:`${n}px`}function ga(n){return n instanceof Be?n.nativeElement:n}var b0;try{b0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{b0=!1}var un=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?bT(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||b0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||n)(F(tn))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var xl;function Yz(){if(xl==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xl=!0}))}finally{xl=xl||!1}return xl}function C0(n){return Yz()?n:!!n.capture}var ko;function eM(){if(ko==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ko=!1,ko;if("scrollBehavior"in document.documentElement.style)ko=!0;else{let n=Element.prototype.scrollTo;n?ko=!/\{\s*\[native code\]\s*\}/.test(n.toString()):ko=!1}}return ko}var w0;function Jz(){if(w0==null){let n=typeof document<"u"?document.head:null;w0=!!(n&&(n.createShadowRoot||n.attachShadow))}return w0}function tM(n){if(Jz()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Rl(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function ti(n){return n.composedPath?n.composedPath()[0]:n.target}function D0(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Zz=new H("cdk-dir-doc",{providedIn:"root",factory:Xz});function Xz(){return V(Te)}var eH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function tH(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?eH.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Ml=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Fe,t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.value=tH(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||n)(F(Zz,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var rH=20,nM=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new _e,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=rH){return this._platform.isBrowser?new ue(r=>{this._globalSubscription||this._addGlobalListener();let i=t>0?this._scrolled.pipe(Pu(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):re()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Je(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=ga(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return Ka(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(r){return new(r||n)(F(ae),F(un),F(Te,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var iH=20,S0=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new _e,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=iH){return t>0?this._change.pipe(Pu(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(r){return new(r||n)(F(un),F(ae),F(Te,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Pl=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},va=class extends Pl{constructor(e,t,r,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}},ya=class extends Pl{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},A0=class extends Pl{constructor(e){super(),this.element=e instanceof Be?e.nativeElement:e}},_a=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof va)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof ya)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof A0)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var zf=class extends _a{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){let r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Ve.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Nl=(()=>{class n extends _a{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Fe,this.attachDomPortal=o=>{this._document;let s=o.element;s.parentNode;let a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=r.createComponent(o,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(r){return new(r||n)(N(cr),N(Rn),N(Te))}}static{this.\u0275dir=Re({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Xe]})}}return n})();function Hf(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var rM=eM(),x0=class{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=lt(-this._previousScrollPosition.left),e.style.top=lt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,i=t.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),rM&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),rM&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};var R0=class{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Je(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Gf=class{enable(){}disable(){}attach(){}};function M0(n,e){return e.some(t=>{let r=n.bottom<t.top,i=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return r||i||o||s})}function iM(n,e){return e.some(t=>{let r=n.top<t.top,i=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return r||i||o||s})}var P0=class{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();M0(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},sH=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Gf,this.close=s=>new R0(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new x0(this._viewportRuler,this._document),this.reposition=s=>new P0(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(r){return new(r||n)(F(nM),F(S0),F(ae),F(Te))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ol=class{constructor(e){if(this.scrollStrategy=new Gf,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var N0=class{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var dM=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(r){return new(r||n)(F(Te))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),aH=(()=>{class n extends dM{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{let o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){let a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(r){return new(r||n)(F(Te),F(ae,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cH=(()=>{class n extends dM{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=ti(o)},this._clickListener=o=>{let s=ti(o),a=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){let h=l[u];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(oM(h.overlayElement,s)||oM(h.overlayElement,a))break;let p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(r){return new(r||n)(F(Te),F(un),F(ae,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function oM(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var Ea=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||D0()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(t),D0()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static{this.\u0275fac=function(r){return new(r||n)(F(Te),F(un))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ni=class{constructor(e,t,r,i,o,s,a,l,u,h=!1,p){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=u,this._animationsDisabled=h,this._injector=p,this._backdropElement=null,this._backdropClick=new _e,this._attachments=new _e,this._detachments=new _e,this._locationChanges=Ge.EMPTY,this._backdropClickHandler=v=>this._backdropClick.next(v),this._backdropTransitionendHandler=v=>{this._disposeBackdrop(v.target)},this._keydownEvents=new _e,this._outsidePointerEvents=new _e,this._renders=new _e,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=Nn(()=>uv(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Ii(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=L(L({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ne(L({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=lt(this._config.width),e.height=lt(this._config.height),e.minWidth=lt(this._config.minWidth),e.minHeight=lt(this._config.minHeight),e.maxWidth=lt(this._config.maxWidth),e.maxHeight=lt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){let i=I0(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(hi(Qa(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},sM="cdk-overlay-connected-position-bounding-box",lH=/([A-Za-z%]+)$/,O0=class{get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _e,this._resizeSubscription=Ge.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(sM),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),u=this._getOverlayPoint(l,t,a),h=this._getOverlayFit(u,t,r,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(h,u,r)){o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:u,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(let u of o){let h=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);h>l&&(l=h,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Fo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(sM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:a}t.left<0&&(i-=t.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i;r.overlayX=="center"?i=-t.width/2:r.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let o;return r.overlayY=="center"?o=-t.height/2:o=r.overlayY=="top"?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){let o=cM(t),{x:s,y:a}=e,l=this._getOffset(i,"x"),u=this._getOffset(i,"y");l&&(s+=l),u&&(a+=u);let h=0-s,p=s+o.width-r.width,v=0-a,_=a+o.height-r.height,A=this._subtractOverflows(o.width,h,p),O=this._subtractOverflows(o.height,v,_),k=A*O;return{visibleArea:k,isCompletelyWithinViewport:o.width*o.height===k,fitsInViewportVertically:O===o.height,fitsInViewportHorizontally:A==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let i=r.bottom-t.y,o=r.right-t.x,s=aM(this._overlayRef.getConfig().minHeight),a=aM(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=i,u=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&u}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=cM(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),l=Math.max(o.top-r.top-e.y,0),u=Math.max(o.left-r.left-e.x,0),h=0,p=0;return i.width<=o.width?h=u||-s:h=e.x<this._viewportMargin?o.left-r.left-e.x:0,i.height<=o.height?p=l||-a:p=e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!uH(this._lastScrollVisibility,r)){let i=new N0(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,i=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=r.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,o=r.height-a+this._viewportMargin;else{let _=Math.min(r.bottom-e.y+r.top,e.y),A=this._lastBoundingBoxSize.height;o=_*2,s=e.y-_,o>A&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-A/2)}let l=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,u=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,h,p,v;if(u)v=r.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(l)p=e.x,h=r.right-e.x;else{let _=Math.min(r.right-e.x+r.left,e.x),A=this._lastBoundingBoxSize.width;h=_*2,p=e.x-_,h>A&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-A/2)}return{top:s,left:p,bottom:a,right:v,width:h,height:o}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=lt(r.height),i.top=lt(r.top),i.bottom=lt(r.bottom),i.width=lt(r.width),i.left=lt(r.left),i.right=lt(r.right),t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=lt(o)),s&&(i.maxWidth=lt(s))}this._lastBoundingBoxSize=r,Fo(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Fo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Fo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let h=this._viewportRuler.getViewportScrollPosition();Fo(r,this._getExactOverlayY(t,e,h)),Fo(r,this._getExactOverlayX(t,e,h))}else r.position="static";let a="",l=this._getOffset(t,"x"),u=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),u&&(a+=`translateY(${u}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=lt(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=lt(s.maxWidth):o&&(r.maxWidth="")),Fo(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=lt(o.y);return i}_getExactOverlayX(e,t,r){let i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=lt(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:iM(e,r),isOriginOutsideView:M0(e,r),isOverlayClipped:iM(t,r),isOverlayOutsideView:M0(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&I0(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Be)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function Fo(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function aM(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(lH);return!t||t==="px"?parseFloat(e):null}return n||null}function cM(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function uH(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var lM="cdk-global-overlay-wrapper",k0=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(lM),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,l=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,p=this._xOffset,v=this._overlayRef.getConfig().direction==="rtl",_="",A="",O="";l?O="flex-start":h==="center"?(O="center",v?A=p:_=p):v?h==="left"||h==="end"?(O="flex-end",_=p):(h==="right"||h==="start")&&(O="flex-start",A=p):h==="left"||h==="start"?(O="flex-start",_=p):(h==="right"||h==="end")&&(O="flex-end",A=p),e.position=this._cssPosition,e.marginLeft=l?"0":_,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":A,t.justifyContent=O,t.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(lM),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},dH=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new k0}flexibleConnectedTo(t){return new O0(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(r){return new(r||n)(F(S0),F(Te),F(un),F(Ea))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hH=0,Fi=(()=>{class n{constructor(t,r,i,o,s,a,l,u,h,p,v,_){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=u,this._directionality=h,this._location=p,this._outsideClickDispatcher=v,this._animationsModuleType=_}create(t){let r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new Ol(t);return s.direction=s.direction||this._directionality.value,new ni(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Jt))}position(){return this._positionBuilder}_createPaneElement(t){let r=this._document.createElement("div");return r.id=`cdk-overlay-${hH++}`,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Pn)),new zf(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(r){return new(r||n)(F(sH),F(Ea),F(cr),F(dH),F(aH),F(Ve),F(ae),F(Te),F(Ml),F(ct),F(cH),F(pc,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var kl=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return pH(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let r=fH(wH(t));if(r&&(fM(r)===-1||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=fM(t);return t.hasAttribute("contenteditable")?o!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!EH(t)?!1:i==="audio"?t.hasAttribute("controls")?o!==-1:!1:i==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,r){return IH(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static{this.\u0275fac=function(r){return new(r||n)(F(un))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function fH(n){try{return n.frameElement}catch{return null}}function pH(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function mH(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function gH(n){return yH(n)&&n.type=="hidden"}function vH(n){return _H(n)&&n.hasAttribute("href")}function yH(n){return n.nodeName.toLowerCase()=="input"}function _H(n){return n.nodeName.toLowerCase()=="a"}function pM(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function fM(n){if(!pM(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function EH(n){let e=n.nodeName.toLowerCase(),t=e==="input"&&n.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function IH(n){return gH(n)?!1:mH(n)||vH(n)||n.hasAttribute("contenteditable")||pM(n)}function wH(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var F0=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,o=!1,s){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._injector=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Ii(e,{injector:this._injector}):setTimeout(e)}},Qf=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._injector=V(Ve),this._document=i}create(t,r=!1){return new F0(t,this._checker,this._ngZone,this._document,r,this._injector)}static{this.\u0275fac=function(r){return new(r||n)(F(kl),F(ae),F(Te))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bH(n){return n.buttons===0||n.detail===0}function CH(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var DH=new H("cdk-input-modality-detector-options"),TH={ignoreKeys:[18,17,224,91,16]},mM=650,Ia=C0({passive:!0,capture:!0}),SH=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new pt(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ti(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<mM||(this._modality.next(bH(s)?"keyboard":"mouse"),this._mostRecentTarget=ti(s))},this._onTouchstart=s=>{if(CH(s)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ti(s)},this._options=L(L({},TH),o),this.modalityDetected=this._modality.pipe(am(1)),this.modalityChanged=this.modalityDetected.pipe(Ya()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Ia),i.addEventListener("mousedown",this._onMousedown,Ia),i.addEventListener("touchstart",this._onTouchstart,Ia)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ia),document.removeEventListener("mousedown",this._onMousedown,Ia),document.removeEventListener("touchstart",this._onTouchstart,Ia))}static{this.\u0275fac=function(r){return new(r||n)(F(un),F(ae),F(Te),F(DH,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Kf=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Kf||{}),AH=new H("cdk-focus-monitor-default-options"),Wf=C0({passive:!0,capture:!0}),Yf=(()=>{class n{constructor(t,r,i,o,s){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new _e,this._rootNodeFocusAndBlurListener=a=>{let l=ti(a);for(let u=l;u;u=u.parentElement)a.type==="focus"?this._onFocus(a,u):this._onBlur(a,u)},this._document=o,this._detectionMode=s?.detectionMode||Kf.IMMEDIATE}monitor(t,r=!1){let i=ga(t);if(!this._platform.isBrowser||i.nodeType!==1)return re();let o=tM(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new _e,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=ga(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=ga(t),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Kf.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===Kf.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?mM:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=ti(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Wf),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Wf)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(hi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Wf),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Wf),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static{this.\u0275fac=function(r){return new(r||n)(F(ae),F(un),F(SH),F(Te,8),F(AH,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function RH(n,e){}var Lo=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var j0=(()=>{class n extends _a{constructor(t,r,i,o,s,a,l,u){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=l,this._focusMonitor=u,this._platform=V(un),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=V(fr),this._injector=V(Ve),this._isDestroyed=!1,this.attachDomPortal=h=>{this._portalOutlet.hasAttached();let p=this._portalOutlet.attachDomPortal(h);return this._contentAttached(),p},this._document=i,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let r=this._ariaLabelledByQueue.indexOf(t);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){this._isDestroyed||Ii(()=>{let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let t=this._config.restoreFocus,r=null;if(typeof t=="string"?r=this._document.querySelector(t):typeof t=="boolean"?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&typeof r.focus=="function"){let i=Rl(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let t=this._elementRef.nativeElement,r=Rl();return t===r||t.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Rl()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(r){return new(r||n)(N(Be),N(Qf),N(Te,8),N(Lo),N(kl),N(ae),N(ni),N(Yf))}}static{this.\u0275cmp=be({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(r&1&&hv(Nl,7),r&2){let o;jd(o=Ud())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){r&2&&jr("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},standalone:!0,features:[Xe,Ce],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){r&1&&Y(0,RH,0,0,"ng-template",0)},dependencies:[Nl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})(),Fl=class{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new _e,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!Hf(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(e,t){if(this.containerInstance){let r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},MH=new H("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=V(Fi);return()=>n.scrollStrategies.block()}}),PH=new H("DialogData"),NH=new H("DefaultDialogConfig");var OH=0,vM=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,i,o,s,a){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _e,this._afterOpenedAtThisLevel=new _e,this._ariaHiddenElements=new Map,this.afterAllClosed=li(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Pr(void 0))),this._scrollStrategy=a}open(t,r){let i=this._defaultOptions||new Lo;r=L(L({},i),r),r.id=r.id||`cdk-dialog-${OH++}`,r.id&&this.getDialogById(r.id);let o=this._getOverlayConfig(r),s=this._overlay.create(o),a=new Fl(s,r),l=this._attachContainer(s,a,r);return a.containerInstance=l,this._attachDialogContent(t,a,l,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){L0(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){L0(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),L0(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let r=new Ol({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){let o=i.injector||i.viewContainerRef?.injector,s=[{provide:Lo,useValue:i},{provide:Fl,useValue:r},{provide:ni,useValue:t}],a;i.container?typeof i.container=="function"?a=i.container:(a=i.container.type,s.push(...i.container.providers(i))):a=j0;let l=new va(a,i.viewContainerRef,Ve.create({parent:o||this._injector,providers:s}),i.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,r,i,o){if(t instanceof Sn){let s=this._createInjector(o,r,i,void 0),a={$implicit:o.data,dialogRef:r};o.templateContext&&(a=L(L({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),i.attachTemplatePortal(new ya(t,null,a,s))}else{let s=this._createInjector(o,r,i,this._injector),a=i.attachComponentPortal(new va(t,o.viewContainerRef,s,o.componentFactoryResolver));r.componentRef=a,r.componentInstance=a.instance}}_createInjector(t,r,i,o){let s=t.injector||t.viewContainerRef?.injector,a=[{provide:PH,useValue:t.data},{provide:Fl,useValue:r}];return t.providers&&(typeof t.providers=="function"?a.push(...t.providers(r,t,i)):a.push(...t.providers)),t.direction&&(!s||!s.get(Ml,null,{optional:!0}))&&a.push({provide:Ml,useValue:{value:t.direction,change:re()}}),Ve.create({parent:s||o,providers:a})}_removeOpenDialog(t,r){let i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let t=this._overlayContainer.getContainerElement();if(t.parentElement){let r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let o=r[i];o!==t&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(r){return new(r||n)(F(Fi),F(Ve),F(NH,8),F(n,12),F(Ea),F(MH))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function L0(n,e){let t=n.length;for(;t--;)e(n[t])}function kH(n,e){}var Ll=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},U0="mdc-dialog--open",yM="mdc-dialog--opening",_M="mdc-dialog--closing",FH=150,LH=75,VH=(()=>{class n extends j0{constructor(t,r,i,o,s,a,l,u,h){super(t,r,i,o,s,a,l,h),this._animationMode=u,this._animationStateChanged=new Fe,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?IM(this._config.enterAnimationDuration)??FH:0,this._exitAnimationDuration=this._animationsEnabled?IM(this._config.exitAnimationDuration)??LH:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(EM,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(yM,U0)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(U0),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(U0),this._animationsEnabled?(this._hostElement.style.setProperty(EM,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(_M)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(yM,_M)}_waitForAnimationToComplete(t,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(t){let r=super.attachComponentPortal(t);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static{this.\u0275fac=function(r){return new(r||n)(N(Be),N(Qf),N(Te,8),N(Ll),N(kl),N(ae),N(ni),N(pc,8),N(Yf))}}static{this.\u0275cmp=be({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,i){r&2&&(dv("id",i._config.id),jr("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),oo("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},standalone:!0,features:[Xe,Ce],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,i){r&1&&(E(0,"div",0)(1,"div",1),Y(2,kH,0,0,"ng-template",2),g()())},dependencies:[Nl],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return n})(),EM="--mat-dialog-transition-duration";function IM(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?qf(n.substring(0,n.length-2)):n.endsWith("s")?qf(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var Jf=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(Jf||{}),Vl=class{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new _e,this._beforeClosed=new _e,this._state=Jf.OPEN,this.disableClose=t.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(Je(i=>i.state==="opened"),Kt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Je(i=>i.state==="closed"),Kt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Qa(this.backdropClick(),this.keydownEvents().pipe(Je(i=>i.keyCode===27&&!this.disableClose&&!Hf(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),jH(this,i.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Je(t=>t.state==="closing"),Kt(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=Jf.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=Jf.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function jH(n,e,t){return n._closeInteractionType=e,n.close(t)}var UH=new H("MatMdcDialogData"),BH=new H("mat-mdc-dialog-default-options"),$H=new H("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=V(Fi);return()=>n.scrollStrategies.block()}});var qH=0,wM=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,r,i,o,s,a,l,u){this._overlay=t,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _e,this._afterOpenedAtThisLevel=new _e,this.dialogConfigClass=Ll,this.afterAllClosed=li(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Pr(void 0))),this._dialog=r.get(vM),this._dialogRefConstructor=Vl,this._dialogContainerType=VH,this._dialogDataToken=UH}open(t,r){let i;r=L(L({},this._defaultOptions||new Ll),r),r.id=r.id||`mat-mdc-dialog-${qH++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(t,ne(L({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Lo,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(s,a,l)=>(i=new this._dialogRefConstructor(s,r,l),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentRef=o.componentRef,i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}static{this.\u0275fac=function(r){return new(r||n)(F(Fi),F(Ve),F(ct,8),F(BH,8),F($H),F(n,12),F(Ea),F(pc,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zH(n,e){if(n&1&&(E(0,"div",6),b(1),g()),n&2){let t=he();P(),xe(" ",t.error," ")}}var wa=class n{constructor(e,t,r){this.futbolService=e;this.router=t;this.dialogRef=r}adminContrasena="";error="";login(){return R(this,null,function*(){if(!this.adminContrasena){this.error="Por favor, ingresa la contrase\xF1a.";return}try{let e=yield this.futbolService.getAdminPassword();this.adminContrasena===e?(this.error="",this.dialogRef.close(),this.router.navigate(["/admin"])):this.error="Contrase\xF1a incorrecta. Int\xE9ntalo de nuevo."}catch(e){console.error("Error al obtener la contrase\xF1a del administrador:",e),this.error="Hubo un problema al intentar acceder. Int\xE9ntalo de nuevo m\xE1s tarde."}})}static \u0275fac=function(t){return new(t||n)(N(ze),N(mr),N(Vl))};static \u0275cmp=be({type:n,selectors:[["app-admin-login"]],standalone:!0,features:[Ce],decls:11,vars:2,consts:[[1,"admin-login-container"],[3,"ngSubmit"],["for","adminContrasena"],["type","password","id","adminContrasena","name","adminContrasena","required","","placeholder","Ingresa la contrase\xF1a",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit"],[1,"error-message"]],template:function(t,r){t&1&&(E(0,"div",0)(1,"h2"),b(2,"Acceso Admin"),g(),E(3,"form",1),W("ngSubmit",function(){return r.login()}),E(4,"div")(5,"label",2),b(6,"Contrase\xF1a:"),g(),E(7,"input",3),Br("ngModelChange",function(o){return wi(r.adminContrasena,o)||(r.adminContrasena=o),o}),g()(),Y(8,zH,2,1,"div",4),E(9,"button",5),b(10,"Entrar"),g()()()),t&2&&(P(7),Ur("ngModel",r.adminContrasena),P(),$("ngIf",r.error))},dependencies:[cn,rn,Nt,ut,nn,Xn,Hr,Sy,$e,tt],styles:[".admin-login-container[_ngcontent-%COMP%]{width:300px;margin:50px auto;padding:20px;border:none;border-radius:5px;box-shadow:0 2px 10px #ffffff1a;background-color:#1a1a1a}h2[_ngcontent-%COMP%]{text-align:center;color:#fff;margin-bottom:20px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin-bottom:5px;color:#fff}input[type=password][_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;border:none;border-radius:4px;background-color:#333;color:#fff}input[type=password][_ngcontent-%COMP%]::placeholder{color:#ccc}.error-message[_ngcontent-%COMP%]{color:red;font-size:.9em;margin-bottom:10px;text-align:center}button[_ngcontent-%COMP%]{padding:10px;background-color:#fffb00;color:#000;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#fc0}"]})};var Zf=class n{constructor(e,t,r,i){this.router=e;this.dialog=t;this.renderer=r;this.el=i}animationState="down";ngOnInit(){let e=this.el.nativeElement.querySelector("#introVideo");e&&this.renderer.listen(e,"ended",()=>{e.pause(),e.currentTime=e.duration})}onEnter(){this.router.navigate(["/equipos"])}openAdminLogin(){this.dialog.open(wa).afterClosed().subscribe(t=>{t&&(this.router.navigate(["/validarLoginAdmin"]),console.log("Acceso concedido a la secci\xF3n de admin"))})}static \u0275fac=function(t){return new(t||n)(N(mr),N(wM),N(xn),N(Be))};static \u0275cmp=be({type:n,selectors:[["app-welcome"]],standalone:!0,features:[Ce],decls:8,vars:0,consts:[[1,"video-container"],["id","introVideo","autoplay","","muted","","playsinline",""],["src","introEdit.MP4","type","video/mp4"],[1,"overlay-button",3,"click"],[1,"button-effect"]],template:function(t,r){t&1&&(E(0,"div",0)(1,"video",1),G(2,"source",2),b(3," Tu navegador no soporta videos. "),g(),E(4,"button",3),W("click",function(){return r.onEnter()}),G(5,"span",4),g(),E(6,"button",3),W("click",function(){return r.openAdminLogin()}),G(7,"span",4),g()())},dependencies:[$e],styles:[".video-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;z-index:1}video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;pointer-events:none}.overlay-button[_ngcontent-%COMP%]{position:absolute;top:63%;left:50%;width:200px;height:70px;transform:translate(-50%);padding:15px 30px;font-size:18px;color:#fff;background:transparent;border-radius:5px;cursor:pointer;transition:transform .3s ease;z-index:10}.overlay-button[_ngcontent-%COMP%] + .overlay-button[_ngcontent-%COMP%]{top:73%;width:150px;height:60px}.overlay-button[_ngcontent-%COMP%]:hover{transform:translate(-50%) scale(1.1)}.overlay-button[_ngcontent-%COMP%]:active{transform:translate(-50%) scale(1)}.button-effect[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#fff3;border-radius:5px;transition:transform .3s ease;transform:scale(0)}.overlay-button[_ngcontent-%COMP%]:hover   .button-effect[_ngcontent-%COMP%]{transform:scale(1)}"]})};function HH(n,e){if(n&1){let t=Mn();E(0,"div"),G(1,"video",1),E(2,"div",2)(3,"button",3),W("click",function(){Zt(t);let i=he();return Xt(i.cambiarJugador("prev"))}),b(4,"\u2039"),g(),E(5,"h3",4),b(6),g(),E(7,"button",5),W("click",function(){Zt(t);let i=he();return Xt(i.cambiarJugador("next"))}),b(8,"\u203A"),g()(),E(9,"div",6)(10,"div",7)(11,"div",8),b(12),g(),E(13,"p",9),b(14),g(),E(15,"p",10),b(16),g()()()()}if(n&2){let t=he();P(),$("src",t.jugadorSeleccionado.foto,JC),P(5),Ie(t.jugadorSeleccionado.nombre),P(6),Ie(t.jugadorSeleccionado.dorsal),P(2),xe("Goles: ",t.jugadorSeleccionado.goles,""),P(2),xe("Asistencias: ",t.jugadorSeleccionado.asistencias,"")}}var Xf=class n{constructor(e,t,r){this.futbolService=e;this.renderer=t;this.el=r}jugadores=[];indiceActual=0;ngOnInit(){this.futbolService.getJugadores().subscribe(e=>{this.jugadores=e,console.log(e)}),this.reproducirVideo()}get jugadorSeleccionado(){return this.jugadores[this.indiceActual]}cambiarJugador(e){e==="prev"?this.indiceActual=(this.indiceActual-1+this.jugadores.length)%this.jugadores.length:this.indiceActual=(this.indiceActual+1)%this.jugadores.length,this.reproducirVideo()}reproducirVideo(){let e=this.el.nativeElement.querySelector(".video-fondo");e&&(e.currentTime=0,this.renderer.listen(e,"ended",()=>{e.pause(),e.currentTime=e.duration}))}cerrarModal(){this.indiceActual=0}static \u0275fac=function(t){return new(t||n)(N(ze),N(xn),N(Be))};static \u0275cmp=be({type:n,selectors:[["app-ver-jugadores"]],standalone:!0,features:[Ce],decls:1,vars:1,consts:[[4,"ngIf"],["autoplay","","muted","","playsinline","",1,"video-fondo",3,"src"],[1,"navigation-container"],[1,"btn-izquierda",3,"click"],[1,"nombre"],[1,"btn-derecha",3,"click"],[1,"jugador-card"],[1,"tarjeta-overlay"],[1,"dorsal"],[1,"goles"],[1,"asistencias"]],template:function(t,r){t&1&&Y(0,HH,17,5,"div",0),t&2&&$("ngIf",r.jugadorSeleccionado)},dependencies:[$e,tt],styles:[".jugador-card[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;margin:auto;aspect-ratio:16 / 9}.video-fondo[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;position:absolute;left:0;z-index:-1}.tarjeta-overlay[_ngcontent-%COMP%]{margin-top:195px;text-align:center;color:#fff;display:flex;flex-direction:column;align-items:center;font-size:clamp(1rem,2.5vw,1.5rem)}.dorsal[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#f0e552;text-shadow:3px 3px 0px black}.goles[_ngcontent-%COMP%]{margin-top:20px;color:#f0e552}.asistencias[_ngcontent-%COMP%]{color:#f0e552}.navigation-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.nombre[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:clamp(2rem,3vw,2rem);color:#f0e552}.btn-izquierda[_ngcontent-%COMP%], .btn-derecha[_ngcontent-%COMP%]{background-color:transparent;border:none;font-size:5rem;color:#fff;cursor:pointer;margin-left:1rem;margin-right:1rem}"]})};function GH(n,e){if(n&1&&(E(0,"li"),b(1),g()),n&2){let t=e.$implicit;P(),so(" ",t.nombre," - Goles: ",t.goles,", Asistencias: ",t.asistencias," ")}}function WH(n,e){n&1&&(E(0,"span"),b(1,", "),g())}function KH(n,e){if(n&1&&(E(0,"span",14),b(1),Y(2,WH,2,0,"span",15),g()),n&2){let t=e.$implicit,r=e.last;P(),xe(" ",t.nombre,""),P(),$("ngIf",!r)}}function QH(n,e){if(n&1&&(E(0,"div",11)(1,"h4"),b(2,"Actuaciones de Jugadores:"),g(),E(3,"ul"),Y(4,GH,2,3,"li",1),g(),E(5,"h4"),b(6,"Convocados:"),g(),E(7,"div",12),Y(8,KH,3,2,"span",13),g()()),n&2){let t=he().$implicit;P(4),$("ngForOf",t.actuaciones),P(4),$("ngForOf",t.convocatoria)}}function YH(n,e){if(n&1){let t=Mn();E(0,"div",6),W("click",function(){let i=Zt(t).$implicit,o=he(2);return Xt(o.toggleDetalles(i))}),E(1,"span",7),b(2),g(),E(3,"span",8),b(4),g(),E(5,"span",8),b(6," - "),g(),E(7,"span",8),b(8),g(),E(9,"span",9),b(10),g(),Y(11,QH,9,2,"div",10),g()}if(n&2){let t=e.$implicit;P(2),Ie(t.nombreEquipoCasa),P(2),Ie(t.golesCasa),P(4),Ie(t.golesVisitante),P(2),Ie(t.nombreEquipoVisitante),P(),$("ngIf",t.mostrarDetalles)}}function JH(n,e){if(n&1&&(E(0,"div")(1,"h3"),b(2),g(),Y(3,YH,12,5,"div",5),g()),n&2){let t=e.$implicit;P(2),xe("Jornada ",t.key,""),P(),$("ngForOf",t.value)}}function ZH(n,e){if(n&1&&(E(0,"div",19)(1,"span",7),b(2),g(),E(3,"span",8),b(4),g(),E(5,"span",8),b(6," - "),g(),E(7,"span",8),b(8),g(),E(9,"span",9),b(10),g()()),n&2){let t=e.$implicit;P(2),Ie(t.nombreEquipoCasa),P(2),Ie(t.golesCasa),P(4),Ie(t.golesVisitante),P(2),Ie(t.nombreEquipoVisitante)}}function XH(n,e){if(n&1&&(E(0,"div"),Y(1,ZH,11,4,"div",18),g()),n&2){let t=he().$implicit;P(),$("ngForOf",t.value)}}function e4(n,e){if(n&1){let t=Mn();E(0,"div",16)(1,"h3",17),W("click",function(){let i=Zt(t).$implicit,o=he();return Xt(o.toggleJornada(i.key))}),b(2),g(),Y(3,XH,2,1,"div",15),g()}if(n&2){let t=e.$implicit,r=he();P(2),xe(" Jornada ",t.key," "),P(),$("ngIf",t.key===r.jornadaAbierta)}}var ep=class n{constructor(e){this.futbolService=e}partidos=[];partidosPorJornada={};partidosCaninosPorJornada={};jornadaAbierta=null;ngOnInit(){this.futbolService.getPartidos().subscribe(e=>{this.partidos=e.map(t=>L({},t)),this.partidos.forEach(t=>{this.partidosPorJornada[t.jornada]||(this.partidosPorJornada[t.jornada]=[]),this.partidosPorJornada[t.jornada].push(t),t.esCanino&&(this.partidosCaninosPorJornada[t.jornada]||(this.partidosCaninosPorJornada[t.jornada]=[]),this.partidosCaninosPorJornada[t.jornada].push(t))})})}toggleJornada(e){this.jornadaAbierta=this.jornadaAbierta===e?null:e}toggleDetalles(e){e.mostrarDetalles=!e.mostrarDetalles}static \u0275fac=function(t){return new(t||n)(N(ze))};static \u0275cmp=be({type:n,selectors:[["app-ver-partidos"]],standalone:!0,features:[Ce],decls:11,vars:6,consts:[[1,"partidos-container"],[4,"ngFor","ngForOf"],[1,"separador"],[1,"jornadas-container"],["class","jornada",4,"ngFor","ngForOf"],["class","partido-detalle",3,"click",4,"ngFor","ngForOf"],[1,"partido-detalle",3,"click"],[1,"equipo-casa","equipo-small"],[1,"goles"],[1,"equipo-visitante","equipo-small"],["class","detalles",4,"ngIf"],[1,"detalles"],[1,"convocados-container"],["class","convocado",4,"ngFor","ngForOf"],[1,"convocado"],[4,"ngIf"],[1,"jornada"],[3,"click"],["class","partido-detalle",4,"ngFor","ngForOf"],[1,"partido-detalle"]],template:function(t,r){t&1&&(E(0,"div",0)(1,"h2"),b(2,"Partidos Caninos"),g(),Y(3,JH,4,2,"div",1),pv(4,"keyvalue"),G(5,"hr",2),E(6,"h2"),b(7,"Todos los Partidos"),g(),E(8,"div",3),Y(9,e4,4,2,"div",4),pv(10,"keyvalue"),g()()),t&2&&(P(3),$("ngForOf",mv(4,2,r.partidosCaninosPorJornada)),P(6),$("ngForOf",mv(10,4,r.partidosPorJornada)))},dependencies:[$e,gt,tt,wT],styles:["body[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;margin:0;padding:0;color:#fff;background-color:#000}.partidos-container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:15px;border-radius:10px;border:1px solid #555}h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:15px;border-bottom:2px solid #666;padding-bottom:5px;text-transform:uppercase;color:#fff}h3[_ngcontent-%COMP%]{font-size:20px;margin:10px 0;border-bottom:1px solid #444;padding-bottom:5px;color:#fff}.partido-detalle[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 15px;margin:5px 0;border:1px solid #555;border-radius:8px;transition:background-color .3s ease,color .3s ease;color:#fff;gap:5px}.partido-detalle[_ngcontent-%COMP%]:hover{background-color:#222}.equipo-casa[_ngcontent-%COMP%], .equipo-visitante[_ngcontent-%COMP%]{font-weight:700}.equipo-small[_ngcontent-%COMP%]{font-size:14px}.goles[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin:0 5px}.detalles[_ngcontent-%COMP%]{margin-top:10px;padding:10px;border:1px solid #555;border-radius:8px;background-color:#111;color:#fff}.detalles[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:5px 0;font-size:16px}.detalles[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.detalles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid #333;font-size:14px}.detalles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.convocados-container[_ngcontent-%COMP%]{margin-top:10px;font-size:14px}.convocado[_ngcontent-%COMP%]{display:inline-block;margin-right:5px}.jornadas-container[_ngcontent-%COMP%]{margin-top:15px}.jornada[_ngcontent-%COMP%]{margin:10px 0}.jornada-titulo[_ngcontent-%COMP%]{padding:10px 15px;font-size:18px;font-weight:700;cursor:pointer;background-color:#111;border:1px solid #555;border-radius:8px;transition:background-color .3s ease,color .3s ease;color:#fff}.jornada-titulo[_ngcontent-%COMP%]:hover{background-color:#222}.separador[_ngcontent-%COMP%]{border:none;height:1px;background-color:#555;margin:20px 0}@media (max-width: 768px){.partido-detalle[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;text-align:center}.equipo-casa[_ngcontent-%COMP%], .equipo-visitante[_ngcontent-%COMP%], .goles[_ngcontent-%COMP%]{font-size:14px;margin:3px 0}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center}}"]})};function t4(n,e){if(n&1&&(E(0,"tr")(1,"td"),b(2),g(),E(3,"td"),b(4),g(),E(5,"td"),b(6),g(),E(7,"td"),b(8),g(),E(9,"td"),b(10),g(),E(11,"td"),b(12),g(),E(13,"td"),b(14),g(),E(15,"td"),b(16),g(),E(17,"td"),b(18),g(),E(19,"td"),b(20),g()()),n&2){let t=e.$implicit,r=e.index;P(2),Ie(r+1),P(2),Ie(t.nombre),P(2),Ie(t.partidos),P(2),Ie(t.ganados),P(2),Ie(t.empatados),P(2),Ie(t.perdidos),P(2),Ie(t.golesFavor),P(2),Ie(t.golesContra),P(2),Ie(t.diferenciaGoles),P(2),Ie(t.puntos)}}var tp=class n{constructor(e,t){this.futbolService=e;this.router=t}equipos=[];ngOnInit(){this.futbolService.getEquipos().subscribe(e=>{this.equipos=e,this.ordenarEquipos(),console.log(e)})}ordenarEquipos(){this.equipos.sort((e,t)=>t.puntos!==e.puntos?t.puntos-e.puntos:t.diferenciaGoles!==e.diferenciaGoles?t.diferenciaGoles-e.diferenciaGoles:t.golesFavor-e.golesFavor)}verJugadores(){this.router.navigate(["/jugadores"])}static \u0275fac=function(t){return new(t||n)(N(ze),N(mr))};static \u0275cmp=be({type:n,selectors:[["app-ver-equipos"]],standalone:!0,features:[Ce],decls:30,vars:1,consts:[[1,"clasificacion-container"],[1,"clasificacion-table"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,r){t&1&&(E(0,"div",0)(1,"h2"),b(2,"Clasificaci\xF3n de la Liga"),g(),E(3,"table",1)(4,"thead")(5,"tr"),G(6,"th"),E(7,"th"),b(8,"Nombre"),g(),E(9,"th"),b(10,"P"),g(),E(11,"th"),b(12,"G"),g(),E(13,"th"),b(14,"E"),g(),E(15,"th"),b(16,"P"),g(),E(17,"th"),b(18,"GF"),g(),E(19,"th"),b(20,"GC"),g(),E(21,"th"),b(22,"DG"),g(),E(23,"th"),b(24,"Pt"),g()()(),E(25,"tbody"),Y(26,t4,21,10,"tr",2),g()(),E(27,"button",3),W("click",function(){return r.verJugadores()}),b(28,"EQUIPO CANINOS"),g()(),G(29,"app-ver-partidos")),t&2&&(P(26),$("ngForOf",r.equipos))},dependencies:[$e,gt,ep],styles:[".clasificacion-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:16px;text-align:center;display:flex;flex-direction:column;align-items:center;background-size:cover;background-position:center;box-sizing:border-box}.clasificacion-table[_ngcontent-%COMP%]{width:100%;font-size:.9em;color:#fff;overflow-x:auto;border-collapse:separate;border-spacing:0 2px;box-sizing:border-box}.clasificacion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#ffffff2f;color:#999;font-weight:700;padding:10px;border:2px solid #585858;box-shadow:0 2px 30px #0003}.clasificacion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border:1px solid #585858;font-size:.9em;box-shadow:0 4px 8px #ffffff3d;transition:transform .2s ease}.clasificacion-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%], .clasificacion-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   th[_ngcontent-%COMP%]{transform:translateY(-2px);box-shadow:0 6px 12px #00000060}.clasificacion-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#0000000e}.clasificacion-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#0000003f}button[_ngcontent-%COMP%]{background-color:gold;color:#000;border:none;border-radius:5px;padding:10px 20px;font-size:16px;cursor:pointer;transition:background-color .3s ease,transform .2s ease;margin-top:16px}button[_ngcontent-%COMP%]:hover{background-color:#ffc107;transform:scale(1.05)}button[_ngcontent-%COMP%]:active{background-color:#ffa000;transform:scale(.95)}button[_ngcontent-%COMP%]:focus{outline:none}h2[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;padding:10px;border-radius:4px;color:#fff;text-align:center}@media (max-width: 768px){.clasificacion-container[_ngcontent-%COMP%]{max-width:100%;padding:10px}.clasificacion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .clasificacion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px}.clasificacion-table[_ngcontent-%COMP%]{font-size:.8em}button[_ngcontent-%COMP%]{font-size:14px;padding:8px 16px}h2[_ngcontent-%COMP%]{font-size:1.2em;padding:8px}}@media (max-width: 480px){.clasificacion-container[_ngcontent-%COMP%]{padding:8px}.clasificacion-table[_ngcontent-%COMP%]{font-size:.75em}.clasificacion-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .clasificacion-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px}button[_ngcontent-%COMP%]{font-size:12px;padding:6px 12px}h2[_ngcontent-%COMP%]{font-size:1.1em}}"]})};var np=class n{constructor(e){this.router=e}anadirPartidos(){this.router.navigate(["/a\xF1adirPartidos"])}anadirEq(){this.router.navigate(["/a\xF1adirEquipos"])}anadirJugadores(){this.router.navigate(["/a\xF1adirJugadores"])}editarPartidos(){this.router.navigate(["/editarPartidos"])}editarClasificacion(){this.router.navigate(["/editarClasificacion"])}editarDatosJugadores(){this.router.navigate(["/editarDatosJugadores"])}borrarPartidos(){this.router.navigate(["/borrarPartidos"])}borrarEq(){this.router.navigate(["/borrarEquipos"])}borrarJugadores(){this.router.navigate(["/borrarJugadores"])}modificarPartidos(){this.router.navigate(["/modificarPartidos"])}modificarEq(){this.router.navigate(["/modificarEquipos"])}modificarJugadores(){this.router.navigate(["/modificarJugadores"])}static \u0275fac=function(t){return new(t||n)(N(mr))};static \u0275cmp=be({type:n,selectors:[["app-gestion-admin"]],standalone:!0,features:[Ce],decls:35,vars:0,consts:[[1,"gestion-admin"],[1,"separador"],[1,"section"],[1,"button-container"],[1,"admin-button",3,"click"]],template:function(t,r){t&1&&(E(0,"div",0)(1,"h1"),b(2,"Gesti\xF3n Admin"),g(),G(3,"hr",1)(4,"hr",1),E(5,"div",2)(6,"h2"),b(7,"Crear"),g(),E(8,"div",3)(9,"button",4),W("click",function(){return r.anadirPartidos()}),b(10,"CREAR PARTIDOS"),g(),E(11,"button",4),W("click",function(){return r.anadirEq()}),b(12,"CREAR EQUIPOS"),g(),E(13,"button",4),W("click",function(){return r.anadirJugadores()}),b(14,"CREAR JUGADORES"),g()()(),G(15,"hr",1),E(16,"div",2)(17,"h2"),b(18,"Modificar"),g(),E(19,"div",3)(20,"button",4),W("click",function(){return r.modificarEq()}),b(21,"MODIFICAR EQUIPOS"),g(),E(22,"button",4),W("click",function(){return r.modificarJugadores()}),b(23,"MODIFICAR JUGADORES"),g()()(),G(24,"hr",1),E(25,"div",2)(26,"h2"),b(27,"Borrar"),g(),E(28,"div",3)(29,"button",4),W("click",function(){return r.borrarPartidos()}),b(30,"BORRAR PARTIDOS"),g(),E(31,"button",4),W("click",function(){return r.borrarEq()}),b(32,"BORRAR EQUIPOS"),g(),E(33,"button",4),W("click",function(){return r.borrarJugadores()}),b(34,"BORRAR JUGADORES"),g()()()())},styles:[".gestion-admin[_ngcontent-%COMP%]{max-width:600px;margin:20px auto;padding:20px;text-align:center;color:#fff}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.admin-button[_ngcontent-%COMP%]{padding:15px 25px;font-size:16px;color:#000;background-color:#fffb00f1;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease;box-shadow:0 2px 5px #0003}.admin-button[_ngcontent-%COMP%]:hover{background-color:gold}.separador[_ngcontent-%COMP%]{border:none;height:2px;background-color:#fe0;margin:20px 0}"]})};function n4(n,e){if(n&1&&(E(0,"div",23),b(1),g()),n&2){let t=he();P(),xe(" ",t.mensaje," ")}}var rp=class n{constructor(e){this.futbolService=e;this.formularioEquipos=new vt({nombre:new Z("",fe.required),partidos:new Z,ganados:new Z,empatados:new Z,perdidos:new Z,golesFavor:new Z,golesContra:new Z,diferenciaGoles:new Z,puntos:new Z})}formularioEquipos;mensaje="";mensajeVisible=!1;ngOnInit(){}mostrarMensaje(){this.mensajeVisible=!0,setTimeout(()=>{this.mensajeVisible=!1},5e3)}onSubmit(){return R(this,null,function*(){let e={nombre:this.formularioEquipos.value.nombre,partidos:this.formularioEquipos.value.partidos||0,ganados:this.formularioEquipos.value.ganados||0,empatados:this.formularioEquipos.value.empatados||0,perdidos:this.formularioEquipos.value.perdidos||0,golesFavor:this.formularioEquipos.value.golesFavor||0,golesContra:this.formularioEquipos.value.golesContra||0,diferenciaGoles:this.formularioEquipos.value.diferenciaGoles||0,puntos:this.formularioEquipos.value.puntos||0};if(this.formularioEquipos.valid)try{yield this.futbolService.addEquipo(e),this.mensaje="Equipo creado exitosamente",this.mostrarMensaje(),this.formularioEquipos.reset()}catch{this.mensaje="Error al crear el equipo: ",this.mostrarMensaje()}else this.mensaje="El equipo no se pudo crear, aseg\xFArate de que todos los campos est\xE9n llenos.",this.mostrarMensaje()})}static \u0275fac=function(t){return new(t||n)(N(ze))};static \u0275cmp=be({type:n,selectors:[["app-equipos"]],standalone:!0,features:[Ce],decls:43,vars:2,consts:[[1,"crear-equipo-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","nombre"],["id","nombre","formControlName","nombre","type","text"],["for","partidos"],["id","partidos","formControlName","partidos","type","number"],["for","ganados"],["id","ganados","formControlName","ganados","type","number"],["for","empatados"],["id","empatados","formControlName","empatados","type","number"],["for","perdidos"],["id","perdidos","formControlName","perdidos","type","number"],["for","golesFavor"],["id","golesFavor","formControlName","golesFavor","type","number"],["for","golesContra"],["id","golesContra","formControlName","golesContra","type","number"],["for","diferenciaGoles"],["id","diferenciaGoles","formControlName","diferenciaGoles","type","number"],["for","puntos"],["id","puntos","formControlName","puntos","type","number"],["type","submit"],["class","mensaje",4,"ngIf"],[1,"mensaje"]],template:function(t,r){t&1&&(E(0,"div",0)(1,"h2"),b(2,"Crear Nuevo Equipo"),g(),E(3,"form",1),W("ngSubmit",function(){return r.onSubmit()}),E(4,"div",2)(5,"label",3),b(6,"Nombre:"),g(),G(7,"input",4),g(),E(8,"div",2)(9,"label",5),b(10,"Partidos:"),g(),G(11,"input",6),g(),E(12,"div",2)(13,"label",7),b(14,"Ganados:"),g(),G(15,"input",8),g(),E(16,"div",2)(17,"label",9),b(18,"Empatados:"),g(),G(19,"input",10),g(),E(20,"div",2)(21,"label",11),b(22,"Perdidos:"),g(),G(23,"input",12),g(),E(24,"div",2)(25,"label",13),b(26,"Goles a Favor:"),g(),G(27,"input",14),g(),E(28,"div",2)(29,"label",15),b(30,"Goles en Contra:"),g(),G(31,"input",16),g(),E(32,"div",2)(33,"label",17),b(34,"Diferencia de Goles:"),g(),G(35,"input",18),g(),E(36,"div",2)(37,"label",19),b(38,"Puntos:"),g(),G(39,"input",20),g(),E(40,"button",21),b(41,"Crear Equipo"),g()(),Y(42,n4,2,1,"div",22),g()),t&2&&(P(3),$("formGroup",r.formularioEquipos),P(39),$("ngIf",r.mensajeVisible))},dependencies:[Fn,rn,Nt,En,ut,nn,on,In,$e,tt],styles:[".crear-equipo-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a;text-align:center;color:#fff}.crear-equipo-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:20px;color:#fffb00}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-weight:500;color:#fff}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{width:100%;padding:8px;border-radius:4px;border:1px solid #cccccc;font-size:1em;color:#000;background-color:#f4f4f9}button[type=submit][_ngcontent-%COMP%]{padding:10px;background-color:gold;color:#000;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s;width:100%}.mensaje[_ngcontent-%COMP%]{margin-top:10px;padding:10px;border:1px solid green;background-color:#0080001a;color:green;border-radius:5px;text-align:center}"]})};function r4(n,e){if(n&1&&(E(0,"div",15),b(1),g()),n&2){let t=he();P(),xe(" ",t.mensaje," ")}}var ip=class n{constructor(e){this.futbolService=e;this.formularioJugadores=new vt({nombre:new Z("",fe.required),dorsal:new Z("",fe.required),goles:new Z(0),asistencias:new Z(0),foto:new Z("")})}formularioJugadores;mensaje="";mensajeVisible=!1;ngOnInit(){}mostrarMensaje(){this.mensajeVisible=!0,setTimeout(()=>{this.mensajeVisible=!1},5e3)}onSubmit(){return R(this,null,function*(){if(this.formularioJugadores.valid){let e=yield this.futbolService.addJugador(this.formularioJugadores.value);this.mensaje="Jugador creado exitosamente",this.mostrarMensaje(),this.formularioJugadores.reset()}else this.mensaje="El jugador no se pudo crear, aseg\xFArate de que todos los campos est\xE9n llenos.",this.mostrarMensaje()})}static \u0275fac=function(t){return new(t||n)(N(ze))};static \u0275cmp=be({type:n,selectors:[["app-jugadores"]],standalone:!0,features:[Ce],decls:27,vars:2,consts:[[1,"jugadores-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","nombre"],["id","nombre","formControlName","nombre","required",""],["for","dorsal"],["id","dorsal","type","number","formControlName","dorsal","required",""],["for","goles"],["id","goles","type","number","formControlName","goles","required",""],["for","asistencias"],["id","asistencias","type","number","formControlName","asistencias","required",""],["for","foto"],["id","foto","formControlName","foto","required",""],["type","submit"],["class","mensaje",4,"ngIf"],[1,"mensaje"]],template:function(t,r){t&1&&(E(0,"div",0)(1,"h2"),b(2,"Agregar Jugador"),g(),E(3,"form",1),W("ngSubmit",function(){return r.onSubmit()}),E(4,"div",2)(5,"label",3),b(6,"Nombre:"),g(),G(7,"input",4),g(),E(8,"div",2)(9,"label",5),b(10,"Dorsal:"),g(),G(11,"input",6),g(),E(12,"div",2)(13,"label",7),b(14,"Goles:"),g(),G(15,"input",8),g(),E(16,"div",2)(17,"label",9),b(18,"Asistencias:"),g(),G(19,"input",10),g(),E(20,"div",2)(21,"label",11),b(22,"URL de la Foto:"),g(),G(23,"input",12),g(),E(24,"button",13),b(25,"Agregar Jugador"),g()(),Y(26,r4,2,1,"div",14),g()),t&2&&(P(3),$("formGroup",r.formularioJugadores),P(23),$("ngIf",r.mensajeVisible))},dependencies:[Fn,rn,Nt,En,ut,nn,Xn,on,In,$e,tt],styles:[".jugadores-container[_ngcontent-%COMP%]{max-width:400px;margin:20px auto;padding:20px;color:#fff}h2[_ngcontent-%COMP%]{text-align:center;color:#fffb00;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;color:#fff;display:block}input[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;width:100%;box-sizing:border-box;transition:border-color .3s;color:#000;background-color:#f4f4f9}input[_ngcontent-%COMP%]:focus{border-color:#fffb00;outline:none}button[_ngcontent-%COMP%]{padding:10px;background-color:gold;color:#000;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s;width:100%}button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.mensaje[_ngcontent-%COMP%]{margin-top:20px;padding:10px;border:1px solid #007BFF;border-radius:4px;background-color:#0080001a;color:green;text-align:center}"]})};function i4(n,e){if(n&1&&(E(0,"option",7),b(1),g()),n&2){let t=e.$implicit;$("value",t.id),P(),Ie(t.nombre)}}function o4(n,e){if(n&1&&(E(0,"div",8)(1,"h3"),b(2,"Jugador Seleccionado:"),g(),E(3,"p"),b(4),g(),E(5,"p"),b(6),g()()),n&2){let t=he();P(4),xe("ID: ",t.jugadorSeleccionado.id,""),P(2),xe("Nombre: ",t.jugadorSeleccionado.nombre,"")}}var op=class n{constructor(e,t){this.futbolService=e;this.location=t}jugadores=[];jugadorId;jugadorSeleccionado;ngOnInit(){this.cargarJugadores()}cargarJugadores(){this.futbolService.getJugadores().subscribe(e=>{this.jugadores=e})}onJugadorSelect(){this.jugadorId?this.jugadorSeleccionado=this.jugadores.find(e=>e.id===this.jugadorId):this.jugadorSeleccionado=void 0}eliminarJugador(){this.jugadorId?this.futbolService.deleteJugador(this.jugadorId).then(()=>{console.log("Jugador eliminado con \xE9xito"),this.location.back()}).catch(e=>{console.error("Error al eliminar el jugador: ",e)}):console.error("Por favor, ingrese un ID de jugador v\xE1lido.")}static \u0275fac=function(t){return new(t||n)(N(ze),N(ct))};static \u0275cmp=be({type:n,selectors:[["app-eliminar-jugadores"]],standalone:!0,features:[Ce],decls:12,vars:4,consts:[[1,"eliminar-jugador"],["for","jugadorSelect"],["id","jugadorSelect",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","jugador-info",4,"ngIf"],[3,"click","disabled"],[3,"value"],[1,"jugador-info"]],template:function(t,r){t&1&&(E(0,"div",0)(1,"h1"),b(2,"Eliminar Jugador"),g(),E(3,"label",1),b(4,"Selecciona un jugador:"),g(),E(5,"select",2),Br("ngModelChange",function(o){return wi(r.jugadorId,o)||(r.jugadorId=o),o}),W("change",function(){return r.onJugadorSelect()}),E(6,"option",3),b(7,"Selecciona un jugador"),g(),Y(8,i4,2,2,"option",4),g(),Y(9,o4,7,2,"div",5),E(10,"button",6),W("click",function(){return r.eliminarJugador()}),b(11,"Eliminar Jugador"),g()()),t&2&&(P(5),Ur("ngModel",r.jugadorId),P(3),$("ngForOf",r.jugadores),P(),$("ngIf",r.jugadorSeleccionado),P(),$("disabled",!r.jugadorId))},dependencies:[$e,gt,tt,cn,sn,an,kn,ut,Hr],styles:[".eliminar-jugador[_ngcontent-%COMP%]{max-width:400px;margin:20px auto;padding:20px;font-family:Arial,sans-serif}.eliminar-jugador[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:24px;color:#fffb00}.eliminar-jugador[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;color:#fff;display:block}.eliminar-jugador[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;width:100%;box-sizing:border-box;transition:border-color .3s}.eliminar-jugador[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#fffb00;outline:none}.eliminar-jugador[_ngcontent-%COMP%]   .jugador-info[_ngcontent-%COMP%]{margin-top:20px;padding:10px;border:1px solid #007BFF;border-radius:4px;background-color:#e7f3ff;color:#0056b3}.eliminar-jugador[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;background-color:#dc3545;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s;width:100%;margin-top:15px}.eliminar-jugador[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#c82333}.eliminar-jugador[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})};function s4(n,e){if(n&1&&(E(0,"option",7),b(1),g()),n&2){let t=e.$implicit;$("value",t.id),P(),Ie(t.nombre)}}function a4(n,e){if(n&1&&(E(0,"div",8)(1,"h3"),b(2,"Equipo Seleccionado:"),g(),E(3,"p"),b(4),g(),E(5,"p"),b(6),g()()),n&2){let t=he();P(4),xe("ID: ",t.equipoSeleccionado.id,""),P(2),xe("Nombre: ",t.equipoSeleccionado.nombre,"")}}var sp=class n{constructor(e,t){this.futbolService=e;this.location=t}equipos=[];equipoId;equipoSeleccionado;ngOnInit(){this.cargarEquipos()}cargarEquipos(){this.futbolService.getEquipos().subscribe(e=>{this.equipos=e})}onEquipoSelect(){this.equipoId?this.equipoSeleccionado=this.equipos.find(e=>e.id===this.equipoId):this.equipoSeleccionado=void 0}eliminarEquipo(){this.equipoId?this.futbolService.deleteEquipo(this.equipoId).then(()=>{console.log("Equipo eliminado con \xE9xito"),this.location.back()}).catch(e=>{console.error("Error al eliminar el equipo: ",e)}):console.error("Por favor, ingrese un ID de equipo v\xE1lido.")}static \u0275fac=function(t){return new(t||n)(N(ze),N(ct))};static \u0275cmp=be({type:n,selectors:[["app-eliminar-equipos"]],standalone:!0,features:[Ce],decls:12,vars:4,consts:[[1,"eliminar-equipo"],["for","equipoSelect"],["id","equipoSelect",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","equipo-info",4,"ngIf"],[3,"click","disabled"],[3,"value"],[1,"equipo-info"]],template:function(t,r){t&1&&(E(0,"div",0)(1,"h1"),b(2,"Eliminar Equipo"),g(),E(3,"label",1),b(4,"Selecciona un equipo:"),g(),E(5,"select",2),Br("ngModelChange",function(o){return wi(r.equipoId,o)||(r.equipoId=o),o}),W("change",function(){return r.onEquipoSelect()}),E(6,"option",3),b(7,"-- Selecciona un equipo --"),g(),Y(8,s4,2,2,"option",4),g(),Y(9,a4,7,2,"div",5),E(10,"button",6),W("click",function(){return r.eliminarEquipo()}),b(11,"Eliminar Equipo"),g()()),t&2&&(P(5),Ur("ngModel",r.equipoId),P(3),$("ngForOf",r.equipos),P(),$("ngIf",r.equipoSeleccionado),P(),$("disabled",!r.equipoId))},dependencies:[$e,gt,tt,cn,sn,an,kn,ut,Hr],styles:[".eliminar-equipo[_ngcontent-%COMP%]{max-width:400px;margin:20px auto;padding:20px;font-family:Arial,sans-serif}h1[_ngcontent-%COMP%]{text-align:center;color:#fffb00;margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;color:#fff;display:block}select[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;width:100%;box-sizing:border-box;transition:border-color .3s}select[_ngcontent-%COMP%]:focus{border-color:#fffb00;outline:none}.equipo-info[_ngcontent-%COMP%]{margin-top:20px;padding:10px;border:1px solid #fffb00;border-radius:4px;background-color:#e7f3ff;color:#0056b3}button[_ngcontent-%COMP%]{padding:10px;background-color:#dc3545;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s;width:100%;margin-top:15px}button[_ngcontent-%COMP%]:hover{background-color:#c82333}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})};function c4(n,e){if(n&1&&(E(0,"option",7),b(1),g()),n&2){let t=e.$implicit;$("value",t.id),P(),so("Jornada ",t.jornada," - ",t.nombreEquipoCasa," vs ",t.nombreEquipoVisitante,"")}}function l4(n,e){if(n&1&&(E(0,"div",8)(1,"h3"),b(2,"Partido Seleccionado:"),g(),E(3,"p"),b(4),g(),E(5,"p"),b(6),g(),E(7,"p"),b(8),g(),E(9,"p"),b(10),g()()),n&2){let t=he();P(4),xe("ID: ",t.partidoSeleccionado.id,""),P(2),xe("Jornada: ",t.partidoSeleccionado.jornada,""),P(2),xe("Fecha: ",t.partidoSeleccionado.fecha,""),P(2),fv("",t.partidoSeleccionado.equipoCasa," vs ",t.partidoSeleccionado.equipoVisitante,"")}}var ap=class n{constructor(e,t){this.futbolService=e;this.location=t}partidos=[];partidoId;partidoSeleccionado;ngOnInit(){this.cargarPartidos()}cargarPartidos(){this.futbolService.getPartidos().subscribe(e=>{this.partidos=e})}onPartidoSelect(){this.partidoId?this.partidoSeleccionado=this.partidos.find(e=>e.id===this.partidoId):this.partidoSeleccionado=void 0}eliminarPartido(){this.partidoId?this.futbolService.deletePartido(this.partidoId).then(()=>{console.log("Partido eliminado con \xE9xito"),this.location.back()}).catch(e=>{console.error("Error al eliminar el partido: ",e)}):console.error("Por favor, ingrese un ID de partido v\xE1lido.")}static \u0275fac=function(t){return new(t||n)(N(ze),N(ct))};static \u0275cmp=be({type:n,selectors:[["app-eliminar-partidos"]],standalone:!0,features:[Ce],decls:12,vars:4,consts:[[1,"eliminar-partido"],["for","partidoSelect"],["id","partidoSelect",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","partido-info",4,"ngIf"],[3,"click","disabled"],[3,"value"],[1,"partido-info"]],template:function(t,r){t&1&&(E(0,"div",0)(1,"h1"),b(2,"Eliminar Partido"),g(),E(3,"label",1),b(4,"Selecciona un partido:"),g(),E(5,"select",2),Br("ngModelChange",function(o){return wi(r.partidoId,o)||(r.partidoId=o),o}),W("change",function(){return r.onPartidoSelect()}),E(6,"option",3),b(7,"-- Selecciona un partido --"),g(),Y(8,c4,2,4,"option",4),g(),Y(9,l4,11,5,"div",5),E(10,"button",6),W("click",function(){return r.eliminarPartido()}),b(11,"Eliminar Partido"),g()()),t&2&&(P(5),Ur("ngModel",r.partidoId),P(3),$("ngForOf",r.partidos),P(),$("ngIf",r.partidoSeleccionado),P(),$("disabled",!r.partidoId))},dependencies:[$e,gt,tt,cn,sn,an,kn,ut,Hr],styles:[".eliminar-partido[_ngcontent-%COMP%]{max-width:400px;margin:20px auto;padding:20px;font-family:Arial,sans-serif}.eliminar-partido[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:24px;color:#fffb00}.eliminar-partido[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;color:#fff}.eliminar-partido[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;margin-bottom:20px;font-size:16px;transition:border-color .3s}.eliminar-partido[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#fffb00;outline:none}.eliminar-partido[_ngcontent-%COMP%]   .partido-info[_ngcontent-%COMP%]{margin:15px 0;padding:10px;border:1px dashed #ccc;border-radius:4px;background-color:#f0f0f0}.eliminar-partido[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:4px;background-color:#d9534f;color:#fff;font-size:16px;cursor:pointer;transition:background-color .3s}.eliminar-partido[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#c9302c}.eliminar-partido[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})};function u4(n,e){if(n&1&&(E(0,"option",15),b(1),g()),n&2){let t=e.$implicit;$("value",t.nombre),P(),Ie(t.nombre)}}function d4(n,e){if(n&1&&(E(0,"option",15),b(1),g()),n&2){let t=e.$implicit;$("value",t.nombre),P(),Ie(t.nombre)}}function h4(n,e){if(n&1&&(E(0,"option",15),b(1),g()),n&2){let t=e.$implicit;$("value",t.nombre),P(),Ie(t.nombre)}}function f4(n,e){if(n&1&&(E(0,"div",20)(1,"label"),b(2),g(),E(3,"select",21),Y(4,h4,2,2,"option",6),g(),E(5,"label"),b(6,"Goles"),g(),G(7,"input",22),E(8,"label"),b(9,"Asistencias"),g(),G(10,"input",23),g()),n&2){let t=e.index,r=he(2);$("formGroupName",t),P(2),xe("Jugador ",t+1,""),P(2),$("ngForOf",r.jugadores)}}function p4(n,e){if(n&1&&(E(0,"option",15),b(1),g()),n&2){let t=e.$implicit;$("value",t.nombre),P(),Ie(t.nombre)}}function m4(n,e){if(n&1&&(E(0,"div",20)(1,"label"),b(2),g(),E(3,"select",21),Y(4,p4,2,2,"option",6),g()()),n&2){let t=e.index,r=he(2);$("formGroupName",t),P(2),xe("Convocado ",t+1,""),P(2),$("ngForOf",r.jugadores)}}function g4(n,e){if(n&1){let t=Mn();E(0,"div")(1,"h3"),b(2,"Actuaciones de Jugadores"),g(),E(3,"div",16),Y(4,f4,11,3,"div",17),g(),E(5,"button",18),W("click",function(){Zt(t);let i=he();return Xt(i.addActuacion())}),b(6,"Agregar Actuaci\xF3n"),g(),E(7,"h3"),b(8,"Convocatoria de Jugadores"),g(),E(9,"div",19),Y(10,m4,5,3,"div",17),g(),E(11,"button",18),W("click",function(){Zt(t);let i=he();return Xt(i.addConvocado())}),b(12,"Agregar Convocado"),g()()}if(n&2){let t=he();P(4),$("ngForOf",t.actuaciones.controls),P(6),$("ngForOf",t.convocatoria.controls)}}function v4(n,e){if(n&1&&(E(0,"div"),b(1),g()),n&2){let t=he();P(),xe(" ",t.mensaje," ")}}var cp=class n{constructor(e,t){this.fb=e;this.futbolService=t;this.partidoForm=this.fb.group({jornada:[null,[fe.required,fe.min(1)]],fecha:["",fe.required],equipoCasa:["",fe.required],golesCasa:[0,[fe.required,fe.min(0)]],equipoVisitante:["",fe.required],golesVisitante:[0,[fe.required,fe.min(0)]],esCanino:[!1],actuaciones:this.fb.array([]),convocatoria:this.fb.array([])})}partidoForm;equipos=[];jugadores=[];mensaje="";mensajeVisible=!1;ngOnInit(){this.futbolService.getEquipos().subscribe(e=>{this.equipos=e}),this.futbolService.getJugadores().subscribe(e=>{this.jugadores=e})}crearPartido(){if(this.partidoForm.valid){let{equipoCasa:e,equipoVisitante:t}=this.partidoForm.value,r=this.equipos.find(o=>o.nombre===e),i=this.equipos.find(o=>o.nombre===t);if(r&&i){let o=ne(L({},this.partidoForm.value),{equipoCasa:r.id,equipoVisitante:i.id,nombreEquipoCasa:r.nombre,nombreEquipoVisitante:i.nombre});this.futbolService.addPartidos(o).then(()=>{this.mensaje="Partido creado exitosamente",this.mostrarMensaje(),this.actualizarEstadisticasEquipos(o),this.actualizarEstadisticasJugadores(o),this.partidoForm.reset()}).catch(s=>{console.error("Error al crear el partido:",s),this.mensaje="El partido no se pudo crear: "+s.message,this.mostrarMensaje()})}else console.error("Uno de los equipos no se encontr\xF3:",e,t),this.mensaje="Uno de los equipos no se encontr\xF3. Aseg\xFArate de que los nombres sean correctos.",this.mostrarMensaje()}else console.error("Formulario inv\xE1lido"),this.mensaje="El formulario es inv\xE1lido. Por favor revisa los datos.",this.mostrarMensaje()}actualizarEstadisticasEquipos(e){let{golesCasa:t,golesVisitante:r}=e,i=this.equipos.find(s=>s.id===e.equipoCasa),o=this.equipos.find(s=>s.id===e.equipoVisitante);i&&o?(i.partidos++,o.partidos++,t>r?(i.ganados++,o.perdidos++,i.puntos+=3):t<r?(o.ganados++,i.perdidos++,o.puntos+=3):(i.empatados++,o.empatados++,i.puntos++,o.puntos++),i.golesFavor+=t,i.golesContra+=r,i.diferenciaGoles=i.golesFavor-i.golesContra,o.golesFavor+=r,o.golesContra+=t,o.diferenciaGoles=o.golesFavor-o.golesContra,this.futbolService.updateEquipo(i),this.futbolService.updateEquipo(o)):console.error("Uno de los equipos no se encontr\xF3:",e.equipoCasa,e.equipoVisitante)}actualizarEstadisticasJugadores(e){e.esCanino&&e.actuaciones.forEach(t=>{let r=this.jugadores.find(i=>i.nombre===t.nombre);r&&(r.goles+=t.goles,r.asistencias+=t.asistencias,this.futbolService.updateJugador(r))})}addActuacion(){let e=this.partidoForm.get("actuaciones"),t=this.fb.group({nombre:["",fe.required],goles:[0,[fe.required,fe.min(0)]],asistencias:[0,[fe.required,fe.min(0)]]});e.push(t)}addConvocado(){let e=this.partidoForm.get("convocatoria"),t=this.fb.group({nombre:["",fe.required]});e.push(t)}get actuaciones(){return this.partidoForm.get("actuaciones")}get convocatoria(){return this.partidoForm.get("convocatoria")}mostrarMensaje(){this.mensajeVisible=!0,setTimeout(()=>this.mensajeVisible=!1,5e3)}onEquipoSelected(){let e=this.partidoForm.get("equipoCasa")?.value,t=this.partidoForm.get("equipoVisitante")?.value;this.partidoForm.patchValue({esCanino:e==="Caninos"||t==="Caninos"})}static \u0275fac=function(t){return new(t||n)(N(iA),N(ze))};static \u0275cmp=be({type:n,selectors:[["app-partidos"]],standalone:!0,features:[Ce],decls:32,vars:5,consts:[[3,"ngSubmit","formGroup"],[1,"titulo"],["formControlName","jornada","type","number"],["formControlName","fecha","type","date"],["for","equipoCasa"],["id","equipoCasa","formControlName","equipoCasa",3,"change"],[3,"value",4,"ngFor","ngForOf"],["formControlName","golesCasa","type","number"],["for","equipoVisitante"],["id","equipoVisitante","formControlName","equipoVisitante",3,"change"],["formControlName","golesVisitante","type","number"],["type","checkbox","formControlName","esCanino",1,"no-click"],[4,"ngIf"],[1,"separador"],["type","submit"],[3,"value"],["formArrayName","actuaciones"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["formArrayName","convocatoria"],[3,"formGroupName"],["formControlName","nombre"],["formControlName","goles","type","number"],["formControlName","asistencias","type","number"]],template:function(t,r){if(t&1&&(E(0,"form",0),W("ngSubmit",function(){return r.crearPartido()}),E(1,"label",1),b(2,"A\xD1ADIR PARTIDO"),g(),E(3,"label"),b(4,"Jornada"),g(),G(5,"input",2),E(6,"label"),b(7,"Fecha"),g(),G(8,"input",3),E(9,"label",4),b(10,"Equipo Casa"),g(),E(11,"select",5),W("change",function(){return r.onEquipoSelected()}),Y(12,u4,2,2,"option",6),g(),E(13,"label"),b(14,"Goles Casa"),g(),G(15,"input",7),E(16,"label",8),b(17,"Equipo Visitante"),g(),E(18,"select",9),W("change",function(){return r.onEquipoSelected()}),Y(19,d4,2,2,"option",6),g(),E(20,"label"),b(21,"Goles Visitante"),g(),G(22,"input",10),E(23,"label"),b(24,"\xBFEs un partido canino?"),g(),G(25,"input",11),Y(26,g4,13,2,"div",12),G(27,"hr",13)(28,"hr",13),E(29,"button",14),b(30,"Crear Partido"),g(),Y(31,v4,2,1,"div",12),g()),t&2){let i;$("formGroup",r.partidoForm),P(12),$("ngForOf",r.equipos),P(7),$("ngForOf",r.equipos),P(7),$("ngIf",(i=r.partidoForm.get("esCanino"))==null?null:i.value),P(5),$("ngIf",r.mensajeVisible)}},dependencies:[$e,gt,tt,Fn,rn,sn,an,Nt,En,Iy,kn,ut,nn,on,In,Us,Bs],styles:[".titulo[_ngcontent-%COMP%]{max-width:400px;margin:20px auto;color:gold;text-align:center}form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;border-radius:8px;color:#000}label[_ngcontent-%COMP%]{font-weight:700;display:block;margin-bottom:5px;color:#fff}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%;padding:8px;margin-bottom:15px;border:1px solid #cccccce3;border-radius:4px;box-sizing:border-box;color:#000;opacity:90%}button[type=submit][_ngcontent-%COMP%]{padding:10px;background-color:gold;color:#000;border:none;border-radius:8px;font-size:16px;cursor:pointer;transition:background-color .3s;width:100%}button[type=button][_ngcontent-%COMP%]{background-color:gold;color:#000;font-size:14px;cursor:pointer;border:none;padding:6px 10px;margin-top:5px}button[type=submit][_ngcontent-%COMP%]:hover, button[type=button][_ngcontent-%COMP%]:hover{background-color:gold}div[formArrayName=actuaciones][_ngcontent-%COMP%], div[formArrayName=convocatoria][_ngcontent-%COMP%]{margin-top:20px;padding:10px;border-top:1px solid #ddd}h3[_ngcontent-%COMP%]{font-size:18px;color:#fffb00;margin-bottom:10px}.error-message[_ngcontent-%COMP%]{margin-top:10px;padding:10px;border:1px solid red;background-color:#ff00001a;color:red;border-radius:5px}.mensaje[_ngcontent-%COMP%]{margin-top:10px;padding:10px;border:1px solid green;background-color:#0080001a;color:green;border-radius:5px}.no-click[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.separador[_ngcontent-%COMP%]{border:none;height:2px;background-color:#fff;margin:20px 0}"]})};function y4(n,e){if(n&1&&(E(0,"option",15),b(1),g()),n&2){let t=e.$implicit;$("value",t.id),P(),Ie(t.nombre)}}function _4(n,e){if(n&1&&(E(0,"div",16),b(1),g()),n&2){let t=he();P(),xe(" ",t.mensaje,`
`)}}var lp=class n{constructor(e,t){this.futbolService=e;this.location=t;this.formularioJugador=new vt({id:new Z(""),nombre:new Z("",fe.required),dorsal:new Z(""),goles:new Z(""),asistencias:new Z(""),foto:new Z("")})}jugadores=[];formularioJugador;jugadorId;jugadorSeleccionado;mensaje="";mensajeVisible=!1;ngOnInit(){this.cargarJugadores()}cargarJugadores(){this.futbolService.getJugadores().subscribe(e=>{this.jugadores=e})}onJugadorSelect(e){let r=e.target.value;this.jugadorSeleccionado=this.jugadores.find(i=>i.id===r),this.jugadorSeleccionado&&(this.jugadorId=this.jugadorSeleccionado.id,this.formularioJugador.patchValue(this.jugadorSeleccionado))}mostrarMensaje(){this.mensajeVisible=!0,console.log("Mensaje mostrado:",this.mensaje),setTimeout(()=>{this.mensajeVisible=!1},3e3)}modificarJugador(){if(this.formularioJugador.valid){if(!this.jugadorId){console.error("ID del jugador no proporcionado."),this.mensaje="ID del jugador no proporcionado.",this.mostrarMensaje();return}let e=ne(L({},this.formularioJugador.value),{id:this.jugadorId});this.futbolService.updateJugador(e).then(()=>{console.log("Jugador modificado con \xE9xito"),this.mensaje="Jugador modificado con \xE9xito",this.mostrarMensaje(),this.cargarJugadores(),this.formularioJugador.reset(),this.jugadorId=void 0,this.location.back()}).catch(t=>{console.error("Error al modificar el jugador: ",t),this.mensaje="Error al modificar el jugador: "+t.message,this.mostrarMensaje()})}else console.error("Formulario inv\xE1lido"),this.mensaje="El formulario es inv\xE1lido. Por favor revisa los datos.",this.mostrarMensaje()}static \u0275fac=function(t){return new(t||n)(N(ze),N(ct))};static \u0275cmp=be({type:n,selectors:[["app-modificar-jugadores"]],standalone:!0,features:[Ce],decls:25,vars:3,consts:[[1,"modificar-jugadores-container"],["for","jugadorSelect"],["id","jugadorSelect",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","dorsal"],["id","dorsal","type","number","formControlName","dorsal","required",""],["for","goles"],["id","goles","type","number","formControlName","goles","required",""],["for","asistencias"],["id","asistencias","type","number","formControlName","asistencias","required",""],["type","submit"],["class","alert alert-success",4,"ngIf"],[3,"value"],[1,"alert","alert-success"]],template:function(t,r){t&1&&(E(0,"div",0)(1,"h2"),b(2,"Modificar Jugador"),g(),E(3,"label",1),b(4,"Selecciona un jugador:"),g(),E(5,"select",2),W("change",function(o){return r.onJugadorSelect(o)}),E(6,"option",3),b(7,"Selecciona un jugador"),g(),Y(8,y4,2,2,"option",4),g(),E(9,"form",5),W("ngSubmit",function(){return r.modificarJugador()}),E(10,"div",6)(11,"label",7),b(12,"Dorsal:"),g(),G(13,"input",8),g(),E(14,"div",6)(15,"label",9),b(16,"Goles:"),g(),G(17,"input",10),g(),E(18,"div",6)(19,"label",11),b(20,"Asistencias:"),g(),G(21,"input",12),g(),E(22,"button",13),b(23,"Modificar Jugador"),g()()(),Y(24,_4,2,1,"div",14)),t&2&&(P(8),$("ngForOf",r.jugadores),P(),$("formGroup",r.formularioJugador),P(15),$("ngIf",r.mensajeVisible))},dependencies:[$e,gt,tt,cn,rn,sn,an,Nt,En,ut,nn,Xn,Fn,on,In],styles:[".modificar-jugadores-container[_ngcontent-%COMP%]{max-width:500px;margin:20px auto;padding:20px;font-family:Arial,sans-serif;color:#fff}h2[_ngcontent-%COMP%]{text-align:center;color:#fffb00}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#fff}select[_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=url][_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #ddd;border-radius:4px;font-size:16px;box-sizing:border-box;transition:border-color .3s;color:#000;background-color:#f4f4f9}select[_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus, input[type=url][_ngcontent-%COMP%]:focus{border-color:#fffb00;outline:none}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:gold;color:#000;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.alert[_ngcontent-%COMP%]{padding:15px;margin:15px 0;border-radius:5px;font-size:16px;color:#fff;background-color:#28a745;box-shadow:0 2px 5px #0000001a;transition:opacity .5s ease}.alert.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.alert-error[_ngcontent-%COMP%]{background-color:#dc3545}"]})};function E4(n,e){if(n&1&&(E(0,"option",25),b(1),g()),n&2){let t=e.$implicit;$("value",t.id),P(),Ie(t.nombre)}}function I4(n,e){if(n&1&&(E(0,"div",26),b(1),g()),n&2){let t=he();P(),xe(" ",t.mensaje,`
`)}}var up=class n{constructor(e,t){this.futbolService=e;this.location=t;this.formularioEquipo=new vt({id:new Z(""),nombre:new Z("",fe.required),partidos:new Z(""),ganados:new Z(""),empatados:new Z(""),perdidos:new Z(""),golesFavor:new Z(""),golesContra:new Z(""),diferenciaGoles:new Z(""),puntos:new Z("")})}equipos=[];formularioEquipo;equipoId;equipoSeleccionado;mensaje="";mensajeVisible=!1;ngOnInit(){this.cargarEquipos()}cargarEquipos(){this.futbolService.getEquipos().subscribe(e=>{this.equipos=e})}onEquipoSelect(e){console.log("Equipo seleccionado");let r=e.target.value;this.equipoSeleccionado=this.equipos.find(i=>i.id===r),this.equipoSeleccionado?(this.equipoId=this.equipoSeleccionado.id,this.formularioEquipo.patchValue(this.equipoSeleccionado)):console.error("Equipo no encontrado:",r)}mostrarMensaje(){this.mensajeVisible=!0,console.log("Mensaje mostrado:",this.mensaje),setTimeout(()=>{this.mensajeVisible=!1},3e3)}modificarEquipo(){if(this.formularioEquipo.valid){if(!this.equipoId){console.error("ID del equipo no proporcionado."),this.mensaje="ID del equipo no proporcionado.",this.mostrarMensaje();return}let e=ne(L({},this.formularioEquipo.value),{id:this.equipoId});this.futbolService.updateEquipo(e).then(()=>{console.log("Equipo modificado con \xE9xito"),this.mensaje="Equipo modificado con \xE9xito",this.mostrarMensaje(),this.cargarEquipos(),this.formularioEquipo.reset(),this.equipoId=void 0,this.location.back()}).catch(t=>{console.error("Error al modificar el equipo: ",t),this.mensaje="Error al modificar el equipo: "+t.message,this.mostrarMensaje()})}else console.error("Formulario inv\xE1lido"),this.mensaje="El formulario es inv\xE1lido. Por favor revisa los datos.",this.mostrarMensaje()}static \u0275fac=function(t){return new(t||n)(N(ze),N(ct))};static \u0275cmp=be({type:n,selectors:[["app-modificar-equipos"]],standalone:!0,features:[Ce],decls:45,vars:3,consts:[[1,"modificar-equipos-container"],["for","equipoSelect"],["id","equipoSelect",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","partidos"],["id","partidos","type","number","formControlName","partidos","required",""],["for","ganados"],["id","ganados","type","number","formControlName","ganados","required",""],["for","empatados"],["id","empatados","type","number","formControlName","empatados","required",""],["for","perdidos"],["id","perdidos","type","number","formControlName","perdidos","required",""],["for","golesAFavor"],["id","golesAFavor","type","number","formControlName","golesFavor","required",""],["for","golesEnContra"],["id","golesEnContra","type","number","formControlName","golesContra","required",""],["for","diferenciaGoles"],["id","diferenciaGoles","type","number","formControlName","diferenciaGoles","required",""],["for","puntos"],["id","puntos","type","number","formControlName","puntos","required",""],["type","submit"],["class","alert alert-success",4,"ngIf"],[3,"value"],[1,"alert","alert-success"]],template:function(t,r){t&1&&(E(0,"div",0)(1,"h2"),b(2,"Modificar Equipo"),g(),E(3,"label",1),b(4,"Selecciona un equipo:"),g(),E(5,"select",2),W("change",function(o){return r.onEquipoSelect(o)}),E(6,"option",3),b(7,"Selecciona un equipo"),g(),Y(8,E4,2,2,"option",4),g(),E(9,"form",5),W("ngSubmit",function(){return r.modificarEquipo()}),E(10,"div",6)(11,"label",7),b(12,"Partidos:"),g(),G(13,"input",8),g(),E(14,"div",6)(15,"label",9),b(16,"Ganados:"),g(),G(17,"input",10),g(),E(18,"div",6)(19,"label",11),b(20,"Empatados:"),g(),G(21,"input",12),g(),E(22,"div",6)(23,"label",13),b(24,"Perdidos:"),g(),G(25,"input",14),g(),E(26,"div",6)(27,"label",15),b(28,"Goles a Favor:"),g(),G(29,"input",16),g(),E(30,"div",6)(31,"label",17),b(32,"Goles en Contra:"),g(),G(33,"input",18),g(),E(34,"div",6)(35,"label",19),b(36,"Diferencia de Goles:"),g(),G(37,"input",20),g(),E(38,"div",6)(39,"label",21),b(40,"Puntos:"),g(),G(41,"input",22),g(),E(42,"button",23),b(43,"Modificar Equipo"),g()()(),Y(44,I4,2,1,"div",24)),t&2&&(P(8),$("ngForOf",r.equipos),P(),$("formGroup",r.formularioEquipo),P(35),$("ngIf",r.mensajeVisible))},dependencies:[$e,gt,tt,cn,rn,sn,an,Nt,En,ut,nn,Xn,Fn,on,In],styles:[".modificar-equipos-container[_ngcontent-%COMP%]{max-width:500px;margin:20px auto;padding:20px;color:#fff}h2[_ngcontent-%COMP%]{text-align:center;color:#fffb00;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;color:#fff;display:block}select[_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=url][_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:4px;font-size:16px;width:100%;box-sizing:border-box;transition:border-color .3s;color:#000;background-color:#f4f4f9}select[_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus, input[type=url][_ngcontent-%COMP%]:focus{border-color:#fffb00;outline:none}button[_ngcontent-%COMP%]{padding:10px;background-color:gold;color:#000;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s;width:100%}button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.alert[_ngcontent-%COMP%]{margin-top:20px;padding:15px;border:1px solid #007BFF;border-radius:5px;background-color:#0080001a;color:green;text-align:center;transition:opacity .5s ease}.alert.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.alert-error[_ngcontent-%COMP%]{background-color:#dc3545}"]})};function w4(n,e){if(n&1&&(E(0,"option",15),b(1),g()),n&2){let t=e.$implicit;$("value",t.id),P(),so(" ",t.jornada," - ",t.equipoCasa," vs ",t.equipoVisitante," ")}}function b4(n,e){if(n&1&&(E(0,"option",15),b(1),g()),n&2){let t=e.$implicit;$("value",t),P(),Ie(t)}}function C4(n,e){if(n&1){let t=Mn();E(0,"div",19)(1,"label"),b(2,"Nombre:"),g(),E(3,"select",20),Y(4,b4,2,2,"option",5),g(),E(5,"label"),b(6,"Goles:"),g(),G(7,"input",21),E(8,"label"),b(9,"Asistencias:"),g(),G(10,"input",22),E(11,"button",18),W("click",function(){let i=Zt(t).index,o=he(2);return Xt(o.removeActuacion(i))}),b(12,"Eliminar Actuaci\xF3n"),g()()}if(n&2){let t=e.index,r=he(2);$("formGroupName",t),P(4),$("ngForOf",r.jugadores)}}function D4(n,e){if(n&1){let t=Mn();E(0,"div")(1,"h3"),b(2,"Actuaciones de Jugadores"),g(),E(3,"div",16),Y(4,C4,13,2,"div",17),g(),E(5,"button",18),W("click",function(){Zt(t);let i=he();return Xt(i.addActuacion())}),b(6,"Agregar Actuaci\xF3n"),g()()}if(n&2){let t=he();P(4),$("ngForOf",t.actuaciones.controls)}}function T4(n,e){if(n&1&&(E(0,"option",15),b(1),g()),n&2){let t=e.$implicit;$("value",t),P(),Ie(t)}}function S4(n,e){if(n&1){let t=Mn();E(0,"div",19)(1,"label"),b(2,"Nombre:"),g(),E(3,"select",20),Y(4,T4,2,2,"option",5),g(),E(5,"button",18),W("click",function(){let i=Zt(t).index,o=he(2);return Xt(o.removeConvocado(i))}),b(6,"Eliminar Convocado"),g()()}if(n&2){let t=e.index,r=he(2);$("formGroupName",t),P(4),$("ngForOf",r.jugadores)}}function A4(n,e){if(n&1){let t=Mn();E(0,"div")(1,"h3"),b(2,"Convocatoria de Jugadores"),g(),E(3,"div",23),Y(4,S4,7,2,"div",17),g(),E(5,"button",18),W("click",function(){Zt(t);let i=he();return Xt(i.addConvocado())}),b(6,"Agregar Convocado"),g()()}if(n&2){let t=he();P(4),$("ngForOf",t.convocatoria.controls)}}function x4(n,e){if(n&1&&(E(0,"div",24),b(1),g()),n&2){let t=he();P(),xe(" ",t.mensaje," ")}}var dp=class n{constructor(e,t){this.futbolService=e;this.location=t;this.formularioPartido=new vt({partido:new Z("",fe.required),jornada:new Z("",{validators:[fe.required]}),fecha:new Z("",{validators:[fe.required]}),equipoCasa:new Z("",{validators:[fe.required]}),golesCasa:new Z(0,{validators:[fe.required,fe.min(0)]}),equipoVisitante:new Z("",{validators:[fe.required]}),golesVisitante:new Z(0,{validators:[fe.required,fe.min(0)]}),actuaciones:new Vs([]),convocatoria:new Vs([]),esCanino:new Z(!1)})}partidos=[];formularioPartido;partidoId;partidoSeleccionado;jugadores=[];mensaje="";mensajeVisible=!1;ngOnInit(){this.cargarPartidos(),this.cargarJugadores()}cargarPartidos(){this.futbolService.getPartidos().subscribe(e=>{this.partidos=e})}cargarJugadores(){this.futbolService.getJugadores().subscribe(e=>{this.jugadores=e.map(t=>t.nombre)},e=>{console.error("Error cargando jugadores: ",e)})}onPartidoSelect(e){let r=e.target.value;this.partidoSeleccionado=this.partidos.find(i=>i.id===r),this.partidoSeleccionado&&(this.partidoId=this.partidoSeleccionado.id,this.formularioPartido.patchValue(ne(L({},this.partidoSeleccionado),{esCanino:this.partidoSeleccionado.equipoCasa==="Caninos"||this.partidoSeleccionado.equipoVisitante==="Caninos"})),this.setActuaciones(this.partidoSeleccionado.actuaciones),this.setConvocatoria(this.partidoSeleccionado.convocatoria))}setActuaciones(e){let t=this.formularioPartido.get("actuaciones");t.clear(),e.forEach(r=>{t.push(this.createActuacionFormGroup(r))})}createActuacionFormGroup(e){return new vt({id:new Z(e.id),nombre:new Z(e.nombre,{validators:[fe.required]}),goles:new Z(e.goles,{validators:[fe.required,fe.min(0)]}),asistencias:new Z(e.asistencias,{validators:[fe.required,fe.min(0)]})})}setConvocatoria(e){let t=this.formularioPartido.get("convocatoria");t.clear(),e.forEach(r=>{t.push(this.createConvocadoFormGroup(r))})}createConvocadoFormGroup(e){return new vt({nombre:new Z(e.nombre,{validators:[fe.required]})})}mostrarMensaje(){this.mensajeVisible=!0,console.log("Mensaje mostrado:",this.mensaje),setTimeout(()=>{this.mensajeVisible=!1},3e3)}modificarPartido(){if(this.formularioPartido.valid){if(!this.partidoId){console.error("ID del partido no proporcionado."),this.mensaje="ID del partido no proporcionado.",this.mostrarMensaje();return}let e=ne(L({},this.formularioPartido.value),{id:this.partidoId});this.futbolService.updatePartido(e).then(()=>{console.log("Partido modificado con \xE9xito"),this.mensaje="Partido modificado con \xE9xito",this.mostrarMensaje(),this.formularioPartido.reset(),this.partidoId=void 0,this.cargarPartidos(),this.location.back()}).catch(t=>{console.error("Error al modificar el partido: ",t),this.mensaje="Error al modificar el partido: "+t.message,this.mostrarMensaje()})}else console.error("Formulario inv\xE1lido"),this.mensaje="El formulario es inv\xE1lido. Por favor revisa los datos.",this.mostrarMensaje()}addActuacion(){this.formularioPartido.get("actuaciones").push(this.createActuacionFormGroup({id:"",nombre:"",goles:0,asistencias:0}))}removeActuacion(e){this.formularioPartido.get("actuaciones").removeAt(e)}addConvocado(){this.formularioPartido.get("convocatoria").push(this.createConvocadoFormGroup({nombre:""}))}removeConvocado(e){this.formularioPartido.get("convocatoria").removeAt(e)}get actuaciones(){return this.formularioPartido.get("actuaciones")}get convocatoria(){return this.formularioPartido.get("convocatoria")}static \u0275fac=function(t){return new(t||n)(N(ze),N(ct))};static \u0275cmp=be({type:n,selectors:[["app-modificar-partidos"]],standalone:!0,features:[Ce],decls:37,vars:5,consts:[[3,"ngSubmit","formGroup"],[1,"form-group"],["for","partidoSelect"],["id","partidoSelect","formControlName","partido",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","jornada","required",""],["type","date","formControlName","fecha","required",""],["formControlName","equipoCasa","required",""],["type","number","formControlName","golesCasa","required",""],["formControlName","equipoVisitante","required",""],["type","number","formControlName","golesVisitante","required",""],[4,"ngIf"],["type","submit"],["class","alert alert-success",4,"ngIf"],[3,"value"],["formArrayName","actuaciones"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"formGroupName"],["formControlName","nombre"],["type","number","formControlName","goles","required",""],["type","number","formControlName","asistencias","required",""],["formArrayName","convocatoria"],[1,"alert","alert-success"]],template:function(t,r){if(t&1&&(E(0,"form",0),W("ngSubmit",function(){return r.modificarPartido()}),E(1,"div",1)(2,"label",2),b(3,"Seleccionar Partido:"),g(),E(4,"select",3),W("change",function(o){return r.onPartidoSelect(o)}),E(5,"option",4),b(6,"Selecciona un partido"),g(),Y(7,w4,2,4,"option",5),g()(),E(8,"div",1)(9,"label"),b(10,"Jornada:"),g(),G(11,"input",6),g(),E(12,"div",1)(13,"label"),b(14,"Fecha:"),g(),G(15,"input",7),g(),E(16,"div",1)(17,"label"),b(18,"Equipo Casa:"),g(),G(19,"input",8),g(),E(20,"div",1)(21,"label"),b(22,"Goles Casa:"),g(),G(23,"input",9),g(),E(24,"div",1)(25,"label"),b(26,"Equipo Visitante:"),g(),G(27,"input",10),g(),E(28,"div",1)(29,"label"),b(30,"Goles Visitante:"),g(),G(31,"input",11),g(),Y(32,D4,7,1,"div",12)(33,A4,7,1,"div",12),E(34,"button",13),b(35,"Modificar Partido"),g()(),Y(36,x4,2,1,"div",14)),t&2){let i,o;$("formGroup",r.formularioPartido),P(7),$("ngForOf",r.partidos),P(25),$("ngIf",(i=r.formularioPartido.get("esCanino"))==null?null:i.value),P(),$("ngIf",(o=r.formularioPartido.get("esCanino"))==null?null:o.value),P(3),$("ngIf",r.mensajeVisible)}},dependencies:[$e,gt,tt,cn,rn,sn,an,Nt,En,kn,ut,nn,Xn,Fn,on,In,Us,Bs],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:8px;background-color:#f9f9f9;box-shadow:0 2px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;font-size:16px}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:4px;padding:10px 15px;cursor:pointer;font-size:16px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}h3[_ngcontent-%COMP%]{margin-top:20px;color:#333}button[type=button][_ngcontent-%COMP%]{margin-top:5px}input[_ngcontent-%COMP%]:invalid{border-color:red}input[_ngcontent-%COMP%]:valid{border-color:green}.alert[_ngcontent-%COMP%]{padding:15px;margin:15px 0;border-radius:5px;font-size:16px;color:#fff;background-color:#28a745;box-shadow:0 2px 5px #0000001a;transition:opacity .5s ease}.alert.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.alert-error[_ngcontent-%COMP%]{background-color:#dc3545}"]})};var CM=[{path:"",component:Zf},{path:"jugadores",component:Xf},{path:"equipos",component:tp},{path:"validarLoginAdmin",component:wa},{path:"admin",component:np},{path:"a\xF1adirPartidos",component:cp},{path:"a\xF1adirEquipos",component:rp},{path:"a\xF1adirJugadores",component:ip},{path:"borrarJugadores",component:op},{path:"borrarEquipos",component:sp},{path:"borrarPartidos",component:ap},{path:"modificarJugadores",component:lp},{path:"modificarEquipos",component:up},{path:"modificarPartidos",component:dp},{path:"**",redirectTo:"welcome"}];var DM={providers:[cT({eventCoalescing:!0}),CS(CM),$T(),NA(()=>OA({projectId:"caninos-app",appId:"1:289071062481:web:2e93bf4afdf65067da94f0",storageBucket:"caninos-app.appspot.com",apiKey:"AIzaSyBzVuyoOAo0MRPZVg68Ko6rpmOkRKZqQxU",authDomain:"caninos-app.firebaseapp.com",messagingSenderId:"289071062481"})),JR(()=>XR())]};var hp=class n{title="caninos-app";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=be({type:n,selectors:[["app-root"]],standalone:!0,features:[Ce],decls:1,vars:0,template:function(t,r){t&1&&G(0,"router-outlet")},dependencies:[dy]})};UT(hp,DM).catch(n=>console.error(n));
